<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.94192faef3675174f929.css" data-identity="gatsby-global-css">pre[class*=language-].line-numbers{padding-left:3.8em}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;left:-3.8em;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--primary:#16868f;--secondary:#16868f;--link-color:#fff;--border-color:#111;--heading-font-color:var(--primary);--background-color:#252525;--sidebar-color:#2b2b2b;--navbar-color:#181818;--navbar-color-hover:#272727;--sidebar-color-hover:#383838;--sidebar-color-focus:#444;--category-background-color:#161616;--category-background-color-hover:#1f1f1f;--light-border-color:#444;--toolbar-background-color:#181818;--toolbar-color:#eee;--font-color:#b3b9c5;--medium-font-color:#aaa;--dark-font-color:#8f949d;--bright-font-color:#eee;--input-background:#393939;--blockquote-background-color:rgba(0,0,0,.4);--blockquote-color:var(--dark-font-color);--black:#111;--inline-code-background-color:hsla(0,0%,100%,.08);--inline-code-color:#b3b9c5;--dark-opacity:rgba(0,0,0,.2);--dark-opacity-hover:rgba(0,0,0,.3);--reverse:#111;--scrollbar:var(--border-color);--scrollbar-track:var(--light-border-color);--yellow:#16868f;--button-color:#6b76f3;--page-width:1000px;--font-family:"Source Serif Pro",-apple-system,BlinkMacSystemFont,"Inter","Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--heading-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font-family:Menlo,"DM Mono","Roboto Mono",Courier New,monospace}*,:after,:before{box-sizing:border-box}a:focus-visible,button:focus-visible{outline:3px solid var(--primary)}body{-webkit-font-smoothing:antialiased;background:var(--navbar-color);color:var(--font-color);font-family:var(--font-family);font-size:1rem;line-height:1.6;margin:0}blockquote,ol,p,table,ul{color:var(--font-color);font-size:1.2rem;margin:0 0 2rem}button{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;border-radius:8px;cursor:pointer;font-family:var(--heading-font-family)}ol li,ul li{margin-bottom:.5rem}ol li p,ul li p{margin:0}ol li ol,ul li ul{margin:.3rem}h1,h2,h3,h4,h5{color:var(--heading-font-color);font-family:var(--heading-font-family);font-weight:600;line-height:1.2;margin:0 0 1.5rem;scroll-margin-top:80px}h3,h4,h5{color:var(--secondary);font-weight:500}a{text-decoration:none}a,a.button{font-family:var(--heading-font-family)}a.button{border:1px solid var(--button-color)!important;border-radius:8px;color:var(--reverse);display:block;font-size:1.1rem;font-weight:600;line-height:1.2;padding:.75rem 1.25rem;text-align:center}a.button,a.button:hover{background:var(--button-color)}a.button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}a.button:active{-webkit-transform:scale(.95);transform:scale(.95)}a.button.icon-button{align-items:center;display:flex}a.button.icon-button img{margin-right:.5rem;max-height:22px}table{border-collapse:separate;border-radius:8px;border-spacing:0;display:block;font-family:var(--heading-font-family);font-size:.95rem;max-width:100%;overflow-x:auto;width:100%}table :not(pre)>code[class*=language-]{font-size:.95rem!important}tbody,thead{white-space:nowrap}th{border-bottom:2px solid var(--light-border-color)}tfoot th{border-top:1px solid var(--light-border-color)}td{border-bottom:1px solid var(--light-border-color)}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;word-break:break-word}tbody tr:nth-child(odd){background-color:var(--dark-opacity)}tbody tr:last-child td:first-of-type{border-bottom-left-radius:8px}tbody tr:last-child td:last-of-type{border-bottom-right-radius:8px}@media screen and (min-width:800px){table{border:1px solid var(--light-border-color);display:table}tbody,thead{white-space:normal}}.sidebar{background:var(--sidebar-color);border-right:1px solid var(--light-border-color);height:100vh;left:0;overflow-x:hidden;overflow-y:hidden;position:fixed;top:0;width:320px;z-index:9}.sidebar:hover{overflow-y:auto}.sidebar .categories{margin-top:60px}.sidebar .title{align-items:center;background:var(--toolbar-background-color);color:var(--font-color);display:flex;font-size:.85rem;font-weight:600;height:35px;justify-content:space-between;padding:0 .5rem 0 2.5rem;position:fixed;text-transform:uppercase;top:0;width:320px;z-index:8}.sidebar button.collapse-categories{height:35px;padding:0 .75rem}.sidebar button.collapse-categories:hover{background:var(--dark-opacity)}.sidebar button.collapse-categories div{border:1px solid var(--font-color);line-height:0;padding:1px 3px}.sidebar button.collapse-categories svg rect{fill:var(--font-color)}.sidebar button.category{align-items:center;background:var(--category-background-color);border:none;border-radius:0;color:var(--bright-font-color);cursor:pointer;display:grid;font-size:.8rem;font-weight:700;grid-template-columns:1.5rem auto;margin-bottom:1px;padding:.75rem 1rem;position:-webkit-sticky;position:sticky;text-align:left;text-transform:uppercase;top:60px;width:100%;z-index:7}.sidebar button.category:hover{background:var(--category-background-color-hover);color:var(--bright-font-color)}.sidebar button.category:focus-visible{background:var(--primary);border-bottom:none;color:var(--reverse)!important;outline:none}.sidebar button.category:focus{color:var(--bright-font-color);outline:none}.sidebar button.category svg{margin-right:.5rem}.sidebar button.category svg path,.sidebar button.category:focus svg path{stroke:var(--bright-font-color)}.sidebar button.category:focus-visible svg path{stroke:var(--reverse)}.sidebar nav{width:320px}.sidebar nav.collapsed{display:none}.sidebar a{align-items:center;border-left:3px solid transparent;color:var(--medium-font-color);display:grid;font-family:var(--heading-font-family);font-size:.85rem;grid-template-columns:2rem auto;line-height:1.2;padding:.4rem 1rem}.sidebar a svg path{-webkit-filter:var(--icon-filter);filter:var(--icon-filter)}.sidebar a:hover{background:var(--sidebar-color-hover);color:var(--bright-font-color)}.sidebar a.active,.sidebar a:focus{background:var(--sidebar-color-focus);border-left:3px solid var(--primary);color:var(--bright-font-color);outline:none}.sidebar a.active svg path{fill:var(--primary)}.container{margin-left:auto;margin-right:auto;max-width:var(--page-width);padding:2rem}.container.large{max-width:1350px}.container.small,.small{max-width:550px}.navigation{background:var(--navbar-color);border-bottom:1px solid var(--light-border-color);height:60px;left:0;position:fixed;top:0;width:100%;z-index:9}.navigation-inner{font-family:var(--heading-font-family);height:100%;margin:0 auto;max-width:var(--page-width);padding:.5rem 1.5rem}.navigation button,.navigation-inner{align-items:center;display:flex;justify-content:space-between}.navigation button{background:transparent;border:none;color:var(--font-color);cursor:pointer;font-weight:500;gap:.5rem;line-height:0;padding:.5rem;position:relative}.navigation button:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation button:focus{outline:none}.navigation button:focus-visible{outline:3px solid var(--primary)}.navigation button span{font-size:.9rem}.navigation button svg rect{fill:var(--font-color)}.navigation nav{gap:.6rem;height:100%}.navigation nav,.navigation nav a{align-items:center;display:flex;justify-content:center}.navigation nav a{border-radius:8px;color:var(--font-color);font-size:.9rem;font-weight:500;gap:.4rem;line-height:1.1;padding:.5rem}.navigation nav a.active{color:var(--bright-font-color)}.navigation nav a.brand{font-size:1rem;font-weight:600}.navigation nav a.brand span{white-space:nowrap}.navigation nav a:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation nav img{max-height:20px;max-width:25px}.theme-switcher{margin-left:.5rem}.theme-switcher img{max-width:20px}.toolbar-section{align-items:center;display:flex;flex:0 0 155px;justify-content:flex-end}.navigation nav .brand-section{flex:0 0 155px;justify-content:flex-start}.hero{padding:1rem 0}.hero .flex-content{align-items:center}.hero header{padding:2rem 0 0;text-align:left}.hero h1{color:var(--bright-font-color);font-size:3rem;margin-bottom:1.5rem}.hero p.subtitle{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.3rem}.hero .hero-buttons{display:flex;gap:1.5rem}.hero-buttons a.hero-button{align-items:center;border:none;color:var(--dark-font-color);display:flex;font-size:.9rem;gap:.4rem;justify-content:space-between}.hero-buttons a.hero-button:hover{background:transparent;border:none;color:var(--font-color)}.hero-buttons a.hero-button img{display:block;max-height:18px}.bright{color:var(--bright-font-color)}article{padding-bottom:3rem}article header{padding-top:2rem;text-align:center}article h1{color:var(--bright-font-color);font-size:2.5rem;font-weight:700;margin-bottom:.75rem}article h2,article h3,article h4,article h5{margin:0 0 1.25rem}article h4{border-bottom:1px solid var(--light-border-color);margin-bottom:.75rem}article .description{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.45rem;margin-bottom:0}.post-image{margin-bottom:1rem}.post-details{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:.9rem;margin:.5rem 0}.post-details a{border-bottom:none}.tags{align-items:center;display:flex;flex-wrap:wrap;font-family:var(--heading-font-family);gap:.5rem;justify-content:center;margin:1.5rem 0}.tags a{border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);display:inline-block;font-size:.9rem;font-weight:600;line-height:normal;padding:.4rem .6rem;vertical-align:middle}.tags a,.tags a:hover{background:var(--reverse)}.tags a:hover{border:1px solid var(--primary);color:var(--primary)}article a{border-top:2px solid transparent;color:var(--link-color);font-weight:600}article a,article a:hover{border-bottom:2px solid var(--primary)}article a:hover{background:var(--primary);border-top:2px solid var(--primary);color:var(--reverse)}article li a,article li a:hover{border-bottom:none;border-top:none}article img{display:block;max-width:100%}article h2{font-size:1.9rem;padding-bottom:.25rem}article h2 code{border-bottom:1px solid var(--border-color);font-size:2.2rem!important}article h3{font-size:1.75rem}article h3 code{font-size:1.6rem!important}article h4{font-size:1.15rem;padding-bottom:.25rem;text-transform:uppercase}article h4 code{font-size:1.25rem!important}article h5{font-size:1rem;text-transform:uppercase}h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}blockquote{background:var(--blockquote-background-color);border:1px solid var(--light-border-color);border-left:4px solid var(--primary);border-radius:8px;font-family:var(--heading-font-family);padding:1.5rem}blockquote p{color:var(--blockquote-color)}blockquote ul{margin-top:1rem}blockquote p:last-of-type,blockquote ul:last-of-type{margin-bottom:0}.comments{padding-bottom:2rem}.comments h3{font-size:1.75rem}.blog-page h2{border-bottom:1px solid var(--light-border-color);margin-top:2.5rem}a.post{grid-gap:1rem;align-items:center;border:1px solid transparent;display:grid;grid-template-columns:auto 60px;margin-left:-1rem;margin-right:-1rem;padding:.4rem 1rem}a.post.new,a.post:hover{background:var(--dark-opacity);border:1px solid transparent;border-radius:8px;font-family:var(--heading-font-family)}a.post.new{background:transparent;border:1px solid transparent}a.post.new:hover{background:var(--dark-opacity)}a.post.new time{color:var(--secondary)!important}a.post.new h3{color:var(--bright-font-color)}a.post.new .new-badge{color:var(--yellow);margin-left:.75rem}a.post h3{color:var(--font-color);-webkit-filter:brightness(1);filter:brightness(1);font-size:1.1rem;font-weight:500;margin:0}a.post:hover h3{color:var(--bright-font-color)}a.post time,a.post:hover time{color:var(--dark-font-color)}a.post time{display:block;font-family:var(--code-font-family);font-size:.8rem;font-weight:400;text-align:center}.projects{display:flex;flex-direction:column}@media screen and (min-width:600px){.projects{grid-gap:2rem;display:grid;grid-template-columns:repeat(auto-fill,300px);justify-content:center}}.project{background:var(--dark-opacity);border:1px solid var(--border-color);border-radius:8px;color:var(--dark-font-color);display:flex;flex-direction:column;padding:1.5rem}.project h2{border-bottom:none;font-size:1.5rem;margin-bottom:0;text-align:center}.project img{height:auto;margin-top:.5rem;max-height:100px;max-width:100%;-o-object-fit:contain;object-fit:contain}.project .description{color:var(--font-color);font-family:var(--heading-font-family);font-size:1.2rem;line-height:1.3;margin-bottom:1rem;text-align:center}.project .links{display:flex;gap:.5rem}.project .stars{align-items:center;display:flex;gap:.75rem;justify-content:center;margin-top:auto}.project .stars img{margin-top:0;max-width:20px}a.anchor.before{border:none}a.anchor.before:hover{background:transparent}a.anchor.before svg{fill:#fff}a.image-link,a.image-link:hover{border-bottom:none;border-top:none}a.image-link:hover{background:none}.primary-color{color:var(--primary)}.primary-underline{border-bottom:3px solid var(--primary)}.deemphasized{color:var(--dark-font-color)}.gatsby-resp-image-wrapper{margin-left:0!important}a.gatsby-resp-image-link{background:transparent!important;border-bottom:none!important;border-top:none!important}.highlighted{background:var(--primary);color:var(--reverse)}.not-found-image{margin:0 auto}.flex{display:flex}.flex-align-center{align-items:center}.flex-justify-between{justify-content:space-between}.flex-content{gap:1.5rem}.flex-content,.main-header{display:flex;justify-content:space-between}.main-header{align-items:center;border-bottom:1px solid var(--light-border-color)}.main-header a{font-size:1rem}.main-image{border:1px solid var(--light-border-color);border-radius:8px;height:auto;margin-left:2rem;width:250px}.search-bar{grid-gap:1rem;align-items:center;display:grid;grid-template-columns:auto 50px}.search-icon{cursor:pointer;max-width:30px}.search-input{-webkit-appearance:none;background:var(--input-background);border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);font-size:1.1rem;line-height:1.1;padding:.75rem 1rem;width:100%}.search-input:active,.search-input:focus,.search-input:hover{border-color:var(--primary)}.search-input:focus{box-shadow:1px 1px 1px var(--primary);-webkit-filter:brightness(1.1);filter:brightness(1.1);outline:none}::-webkit-scrollbar{background:var(--scrollbar);height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scrollbar-track);border-radius:0}::selection{background:var(--primary);color:var(--reverse)}::-moz-selection{background:var(--primary);color:var(--reverse)}::marker{color:var(--primary)}.search-input::-webkit-search-cancel-button{color:var(--bright-font-color)}.collapsed .sidebar{display:none}.desktop-only{display:block!important}main{background:var(--background-color);margin-top:60px;min-height:calc(100vh - 215px)}.footer{background:var(--navbar-color);border-top:1px solid var(--light-border-color);font-family:var(--heading-font-family);padding:3rem 0}.footer section{align-items:center;display:flex;flex-direction:column;gap:1.25rem}.footer img{display:inline-block;max-height:20px;width:auto}.footer nav{display:flex;gap:.25rem;margin:0 1rem}.footer a,.footer span{align-items:center;color:var(--dark-font-color);display:flex;font-size:.9rem;line-height:1.2;padding:0 .5rem}.footer span{color:var(--toolbar-color)}.footer a:hover{color:var(--link-color)}@media screen and (max-width:800px){blockquote,ol,p,table,ul{font-size:1.1rem;margin:0 0 1.5rem}.flex-content{flex-direction:column;gap:.5rem}main{margin-top:60px}ol,ul{padding-left:1rem}.navigation nav.social-nav,.sidebar{display:none}.navigation-inner{justify-content:space-between;padding-right:0}.navigation nav{gap:.5rem}.navigation nav a{flex-direction:column;font-size:.8rem;gap:.25rem;padding:0 .25rem}.navigation nav a:hover{background:transparent}.navigation button.theme-switcher{margin-left:0;margin-right:-.5rem;min-width:auto}.navigation nav a.brand{font-size:.9rem;margin-left:0;margin-right:0;padding:0}.navigation nav img{max-width:20px}.toolbar-section{flex:initial;margin-left:0}.navigation nav .brand-section{flex:initial}.navbar img{max-width:30px}.projects{grid-gap:1rem;grid-template-columns:repeat(2,50%)}.project .stars{justify-content:center}.desktop-only{display:none!important}.hero{padding:0}.hero h1{font-size:2.25rem}.hero header{padding:1rem 0 0}.hero .container{padding-bottom:1rem}.hero p.subtitle{font-size:1.2rem}.hero .flex-content,.hero .hero-buttons{align-items:flex-start}.hero .hero-buttons{flex-direction:column;gap:.5rem}.post-image{max-height:75px;max-width:75px}.main-image{margin:0 0 1rem;width:150px}.flex-content div{order:2}.flex-content img{order:1}.container{padding:1rem}.navigation-inner{padding:0 1rem}article{padding-bottom:0}article h1{font-size:2.2rem;line-height:1.2}article h2{font-size:1.8rem}article header{padding-top:1.5rem}article .description{font-size:1.3rem}a.post h3{font-size:1rem}.project img{max-height:50px}}#resume header{text-align:left}#resume section h2,#resume section h3,#resume section h4,#resume section h5{margin-bottom:1rem;margin-top:0}#resume section h2{border-bottom:1px solid var(--light-border-color);font-size:1.1rem;margin-top:2.5rem;text-transform:uppercase}#resume section h3{align-items:center;display:flex;font-weight:600;justify-content:space-between}#resume section h3 span{display:block;font-size:1rem;font-weight:400}#resume section h3{font-size:1.3rem;margin-bottom:.5rem}#resume section li,#resume section p{font-size:1rem;line-height:1.3}#resume section li{margin-bottom:.5rem}.hidden{display:none}:root{--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--terminal-color:var(--code-font-color)}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.9rem!important;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;background:var(--code-background-color);border:1px solid var(--light-border-color);border-radius:8px;font-family:Menlo,monospace;margin-bottom:2rem;margin-top:2rem;overflow:initial;padding:1rem}:not(pre)>code[class*=language-]{-webkit-font-smoothing:antialiased;background:var(--inline-code-background-color)!important;color:var(--inline-code-color)!important;font-size:1rem!important;font-weight:600;padding:2px 3px;white-space:pre-wrap}article a:hover code{color:var(--reverse)!important}pre.language-text{background:transparent;margin-left:-1.5rem;padding-bottom:0;padding-top:.5rem}.line-numbers-rows{display:none}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:1rem;position:relative}@media screen and (min-width:800px){.line-numbers-rows{display:block}pre.language-text.line-numbers{padding-left:1.5rem!important}pre[class*=language-].line-numbers{padding-left:4rem}pre.language-shell,pre.language-terminal{padding-left:1.5rem!important}pre.language-shell .line-numbers-rows,pre.language-terminal .line-numbers-rows,pre.language-text .line-numbers-rows{display:none}}code.language-text{background:var(--light-background)!important;box-shadow:none;color:var(--font-color)!important}pre.language-text code.language-text{border:none}code.language-shell:before{color:var(--comment);content:"$ "}pre.language-terminal{-webkit-text-size-adjust:none;background:var(--reverse);border:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--font-color);margin:2rem 0;padding-top:3rem;position:relative;white-space:normal}code.language-terminal{-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;color:var(--terminal-color)}pre.language-terminal:before{background:var(--category-background-color);border-bottom:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--dark-font-color);content:"\2022 \2022 \2022";font-size:2.5rem;left:0;letter-spacing:-5px;line-height:0;margin:0;padding:15px 0 12px;position:absolute;text-indent:6px;top:0;width:100%}.line-numbers .line-numbers-rows{border-right:1px solid #444;font-size:100%;left:-3.8rem;letter-spacing:-1px;padding-right:.5rem;pointer-events:none;position:absolute;top:1rem!important;width:3rem!important}.line-numbers-rows>span:before{color:#777}.gatsby-highlight{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;font-size:.9rem;margin-bottom:1.5rem;margin-top:1.5rem;max-width:999999px;overflow-x:auto;overflow-y:hidden}.gatsby-highlight pre[class*=language-]{float:left;margin-bottom:0;margin-top:0;min-width:100%}.gatsby-highlight-code-line{background-color:#222;border-left:.25rem solid #74cf74;display:block;margin-left:-1.25rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem}.filename{align-items:center;background:#171717;border-top-left-radius:8px;border-top-right-radius:8px;color:#ccc;display:flex;font-family:var(--heading-font-family);font-size:.9rem;line-height:1;margin-bottom:-2rem;padding:.5rem 1.5rem .9rem}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-jsx .token.class-name{color:var(--tag)!important}code::selection,pre::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}pre[class*=language-]{margin-bottom:1.5rem;margin-top:1.5rem}.filename{margin-bottom:-1.9rem}.light{--primary:#16868f;--secondary:#444;--heading-font-color:#222;--link-color:#111;--border-color:#bbb;--light-border-color:#e0e0e0;--background-color:#fff;--sidebar-color:#f0f0f0;--navbar-color:#f0f0f0;--navbar-color-hover:#ddd;--sidebar-color-hover:#dedede;--sidebar-color-focus:#fff;--category-background-color:#d5d5d5;--category-background-color-hover:silver;--toolbar-color:#333;--toolbar-background-color:#f0f0f0;--font-color:#454545;--medium-font-color:#555;--dark-font-color:#888;--input-background:transparent;--bright-font-color:#222;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fff;--terminal-color:var(--bright-font-color);--scrollbar:#888;--scrollbar-track:#bbb;--yellow:#16868f;--button-color:var(--primary)}.light pre[class*=language-]{border-color:var(--heading-font-color)}.light pre.language-terminal,.light table{border-color:var(--border-color)}.light blockquote{border-left-color:var(--border-color);border-color:var(--border-color) var(--border-color) var(--border-color) var(--primary)}.sepia{--primary:#6c71c4;--secondary:#cb4b16;--heading-font-color:#211806;--link-color:#332810;--border-color:#332810;--light-border-color:#6b4a00;--background-color:#ebdbb2;--sidebar-color:#fef0cf;--navbar-color:#f0d69a;--navbar-color-hover:#e2c175;--sidebar-color-hover:#eed18e;--sidebar-color-focus:#fff6e3;--category-background-color:#d8ba76;--category-background-color-hover:#c8a961;--toolbar-color:#332810;--toolbar-background-color:#fdf6e3;--font-color:#372e19;--medium-font-color:#6b4a00;--dark-font-color:#6b4a00;--input-background:transparent;--bright-font-color:#211806;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fdf6e3;--terminal-color:var(--bright-font-color);--scrollbar:#a48337;--scrollbar-track:#c8a961;--yellow:#e59e32;--button-color:var(--primary)}.sepia .comments{background:#444;border-radius:8px;margin-bottom:2rem;padding:2rem}.sepia pre[class*=language-]{border-color:var(--heading-font-color)}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">Kommentare im Gatsby-Blog mit Github Utterances | Astrid Günther</title><link data-react-helmet="true" href="https://twitter.com/astridguenther" rel="me"/><link data-react-helmet="true" href="https://github.com/astridx" rel="me"/><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="me" href="https://fimidi.com/@astrid"/><link data-react-helmet="true" rel="me" href="https://github.com/astridx"/><link data-react-helmet="true" rel="me" href="https://codeberg.org/astrid"/><link data-react-helmet="true" rel="me" href="mailto:info@astrid-guenther.de"/><link data-react-helmet="true" rel="me" href="https://twitter.com/astridguenther"/><link data-react-helmet="true" rel="me" href="https://astrid-guenther.de"/><link data-react-helmet="true" rel="webmention" href="https://webmention.io/blog.astrid-guenther.de/webmention"/><link data-react-helmet="true" rel="pingback" href="https://webmention.io/blog.astrid-guenther.de/xmlrpc"/><meta data-react-helmet="true" name="description" content="Ich wünsche mir ein Feedback zu meinen Texten. Dabei ist es mir wichtig, dass die Kommentarfunktion sicher und werbefrei ist. Bei Tania…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de/kommentare-im-gatsby-blog-mit-utterance/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Kommentare im Gatsby-Blog mit Github Utterances"/><meta data-react-helmet="true" property="og:description" content="Ich wünsche mir ein Feedback zu meinen Texten. Dabei ist es mir wichtig, dass die Kommentarfunktion sicher und werbefrei ist. Bei Tania…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Kommentare im Gatsby-Blog mit Github Utterances"/><meta data-react-helmet="true" name="twitter:description" content="Ich wünsche mir ein Feedback zu meinen Texten. Dabei ist es mir wichtig, dass die Kommentarfunktion sicher und werbefrei ist. Bei Tania…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de","name":"Kommentare im Gatsby-Blog mit Github Utterances","alternateName":"Kommentare im Gatsby-Blog mit Github Utterances"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de/kommentare-im-gatsby-blog-mit-utterance/","name":"Kommentare im Gatsby-Blog mit Github Utterances","image":"https://blog.astrid-guenther.de/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de","name":"Kommentare im Gatsby-Blog mit Github Utterances","alternateName":"Kommentare im Gatsby-Blog mit Github Utterances","headline":"Kommentare im Gatsby-Blog mit Github Utterances","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png"},"description":"Ich wünsche mir ein Feedback zu meinen Texten. Dabei ist es mir wichtig, dass die Kommentarfunktion sicher und werbefrei ist. Bei Tania…"}]</script><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-2c9c8d9d4cc62f83b8b0.js"/><link as="script" rel="preload" href="/framework-a8bc927eb7481ca28d49.js"/><link as="script" rel="preload" href="/app-d475d8a45b933e3d597b.js"/><link as="script" rel="preload" href="/b84efa9b784e27572a845759437622c93533bed1-40e0ab20e0b8ad317d93.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-10ec4a8cbac9f3bff5e9.js"/><link as="fetch" rel="preload" href="/page-data/kommentare-im-gatsby-blog-mit-utterance/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/352937542.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article class="h-entry"><section class="p-author h-card hidden"><p><a class="u-url" href="https://blog.astrid-guenther.de/kommentare-im-gatsby-blog-mit-utterance/">Astrid Günther</a>created by<img src="/static/me-f1824a760e002339b4da1b33f0f0b776.jpg" alt="Me" class="u-photo"/><span class="p-name" rel="me">Astrid Günther</span>in<span class="p-country-name">Germany</span>.</p><p><span class="p-note">Hi, I’m Astrid, webworker, writer and I like open-source.</span></p></section><header><div class="container"><div class="post-details"><div><div class="post-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:150px;height:150px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADC0lEQVQ4y31V30tUURA+a0pJWCC91z9RlPnUQ/7YubtFQqmYmFZopeXOue6aEmJBD0HIlkbunrnXVsuX8MG/oL+gCIIoyrTfQUQPhe6qMXfnukcJH86995wz851v5sx8V2kgpR1PuY4f6a0fjyAYNRCbqtZAPQhmHsEsIZhVBFNAMB8QzJwG6krGHlUhkLrWOBlxHV+5jhfgBA/teJFUfJo3lQa6iGA+IZj1RDS7zm8BXNuy9l4DtfVHM+rGqacBIQZl5ACsuSalEMiznN4h0LAGOug6/n7X8Q9ooMMINIpgPpaAKd1XP6FGmuYYVKm+hokIM2Mwy+hmb/24aq4ZYMa1CKYTwZzTQEcuHR9TzbVJtr8rTNl+LBHNqv5opkxxziTMYFMDtfOmBupGMF9KThtjUQOdZRss+q2I32nOKdOs5pwV2dGoGGbC0BPRbCERzeZlFKwobg2emNmDYBZk7U0ylqtk5x45eeFyXZrn3QKWl5tds9jxtwVqfsihK3JIqwpKo8gOrzY84Pl3ccjLey0c1rxgseVDV+T7CQMsyWSSSwCBOq2bXg1B7Hc40PqW/VcqPE1CmJAcdmwDuoxgPsuF8VhEMF/DPSUh/NZAJKAZAW23QAtW7p6NNM3v0LGpcu34OzV45RqoQXz/KGmndQ3eIQ10QTYe/gc0Xyp4k5IxlIrPlCNQVPyeM+CcGN4WkOQ2oMJyI2ffrtTdZ4xxmXvs0CUAH1zH3yuFrrcBXQ7LRAPVJ+O5XQjmp8ybWFmquNGlsLmdFELQKe4W0I7N4kDDxXVDsvZyMP64gg3Zuc1qvb4iaMA0ufmiDEfzVgNF5ZAhyy8WtB7rWaJYf2mr2e+5jr9Pevp8WFJcp/2NkyoZz+3GUlUEYsK2CRYHlhzWM5YgVg0rLK6xtAY6hkCz4uwh0B0E88tWJj6ktfY6py/Qw0AcWc+YqQY6g2BebxFTbq1VqyOCnGnwYsys5WhKBNZXIv8BKIdTxnlIxacrNVALgsmxo0jUXwTzglnybQ6dnK3g3weHyczC38A/hNkM1pN2ycQAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png 1x,
/static/b7637c262ad964cf2f70abbbfc9e1f93/668a7/gatsby.png 1.5x,
/static/b7637c262ad964cf2f70abbbfc9e1f93/56e34/gatsby.png 2x" /><img loading="lazy" width="150" height="150" srcset="/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png 1x,
/static/b7637c262ad964cf2f70abbbfc9e1f93/668a7/gatsby.png 1.5x,
/static/b7637c262ad964cf2f70abbbfc9e1f93/56e34/gatsby.png 2x" src="/static/b7637c262ad964cf2f70abbbfc9e1f93/92ab1/gatsby.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div>Written by<!-- --> <a class="u-url" href="https://astrid-guenther.de"><span>Astrid Günther</span></a> <!-- -->on<a href="https://blog.astrid-guenther.de/kommentare-im-gatsby-blog-mit-utterance/"><time datetime="2020-11-11" class="dt-published"> <!-- -->2020-11-11</time></a></div><h1 class="p-name">Kommentare im Gatsby-Blog mit Github Utterances</h1><div class="post-meta"><div class="tags p-category"><a class="tag-JavaScript" href="/tags/java-script">JavaScript</a><a class="tag-Kommentare" href="/tags/kommentare">Kommentare</a><a class="tag-Gatsby" href="/tags/gatsby">Gatsby</a><a class="tag-Blog" href="/tags/blog">Blog</a><a class="tag-React" href="/tags/react">React</a></div></div></div></header><div id="/kommentare-im-gatsby-blog-mit-utterance/" class="container post-content e-content"><p>Ich wünsche mir ein Feedback zu meinen Texten. Dabei ist es mir wichtig, dass die Kommentarfunktion sicher und werbefrei ist. Bei <a href="https://www.taniarascia.com/">Tania Rascia</a> habe ich mir eine Lösung abgeguckt, die meiner Meinung nach vorerst dem Zweck dient.</p>
<p>Im Folgenden findest du eine Kurzanleitung zum Integrieren des Kommentarsystems <a href="https://github.com/utterance">Utterances von Github</a> in einen Gatsby Blog.
Utternaces ist eine Kommentarfunktion, die auf Github-Issues aufbaut. Einige der Highlights sind:</p>
<ul>
<li>Open Source.</li>
<li>Kein Tracking, keine Werbung und kostenlos.</li>
<li>Keine versteckten Daten. Alle in GitHub gespeicherten Daten sind öffentlich.</li>
<li>Gestylt mit Primer, dem CSS-Toolkit, das GitHub unterstützt.</li>
<li>Themes</li>
<li>Leicht und unkompliziert in Vanille TypeScript. Keine Schriftdownloads, JavaScript-Frameworks oder Polyfills für Browser.</li>
</ul>
<blockquote>
<p>Hinweis: Voraussetzung bei Utterances ist, dass die Zielgruppe über ein Github-Konto verfügt. Da sich mein Blog hauptsächlich an Entwickler richtet, passt dies perfekt.</p>
</blockquote>
<p>Die <a href="https://utteranc.es/">Dokumentation</a> zeigt die Integration des Kommentar-Widgets in eine statische HTML-Website. Das funktioniert in meinem Fall nicht, da ich eine <a href="https://www.gatsbyjs.org/">GatsbyJS</a> Website betreibe. Gatsby verwendet React unter der Haube, was bedeutete, dass ich Utterances als <a href="https://reactjs.org/docs/components-and-props.html">React-Komponente</a> integriere.</p>
<p>Fangen wir vorne an. Zuerst richte ich ein Github-Repository ein. Es ist zwingend, dass dieses öffentlich ist. Ich habe <a href="github.com/astridx/meinblog">github.com/astridx/meinblog</a> erstellt.
Dann wechsele ich zu <a href="https://github.com/apps/utterances">https://github.com/apps/utterances</a>. Auf der rechten Seite sehe ich einen grünen Button mit dem Text <code class="language-text">install</code>, weil ich Utterances bisher nicht installiert habe. Ich klicke auf die Schaltfläch und wähle im nächsten Schritt das Repository, in dem ich das Widget zur Verfügung haben möchte. In meinem Fall ist das <a href="github.com/astridx/meinblog">github.com/astridx/meinblog</a>.</p>
<p>Nach der Installation werde ich zu dieser <a href="https://utteranc.es/">Seite https://utteranc.es/</a> weitergeleitet, die mir im unteren Bereich das Code-Schnippsel zum Aktivieren der Kommentare zeigt:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;script src=“https://utteranc.es/client.js“</span></span>
<span class="grvsc-line"><span class="grvsc-source">        repo=“[ENTER REPO HERE]“</span></span>
<span class="grvsc-line"><span class="grvsc-source">        issue-term=“pathname“</span></span>
<span class="grvsc-line"><span class="grvsc-source">        theme=“github-light“</span></span>
<span class="grvsc-line"><span class="grvsc-source">        crossorigin=“anonymous“</span></span>
<span class="grvsc-line"><span class="grvsc-source">        async&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/script&gt;</span></span></code></pre>
<p>Wie oben erwähnt, ist es erforderlich, das Skript in ein Container-Tag einzufügen. Ich brauche eine React-Komponente, die aufgerufen wird, wenn ein Blogpost gerendert wird.</p>
<p>Ich implementiere zuerst die <a href="https://www.robinwieruch.de/react-function-component">Funktionskomponente</a> <code class="language-text">Comments.js</code>:</p>
<pre class="grvsc-container default-dark" data-language="jsx" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">// meinblog/src/components/Comment.js</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">React</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> ‚</span><span class="mtk12">react</span><span class="mtk1">‘</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Comment</span><span class="mtk1">({ </span><span class="mtk12">commentBox</span><span class="mtk1"> }) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">ref</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">commentBox</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk14">=“comments“</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>Dies ist eine triviale Komponente. Wichtig ist die <code class="language-text">commentBox</code>-Referenz. <a href="https://reactjs.org/docs/refs-and-the-dom.html#callback-refs">React Refs</a> bietet eine Möglichkeit, auf DOM-Knoten oder React-Elemente zuzugreifen, die mit der Rendermethode einer Komponente erstellt wurden. Wir werden später sehen, wie das verwendet wird.</p>
<p>Als Nächstes bearbeite ich das <code class="language-text">&lt;Post></code>-Template in meinem Blog, welches jeden Blog-Beitrag rendert. Hier soll das Kommentar-Widget am Ende jedes Beitrags erscheinen:</p>
<pre class="grvsc-container grvsc-has-line-highlighting default-dark" data-language="jsx" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">// meinblog/src/template/Post.js</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">React</span><span class="mtk1">, { </span><span class="mtk12">useEffect</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;react&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">graphql</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;gatsby&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">Helmet</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;react-helmet&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">Layout</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/Layout&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">SidebarUnten</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/SidebarUnten&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">SidebarOben</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/SidebarOben&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">SidebarUeberTitel</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/SidebarUeberTitel&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">Suggested</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/Suggested&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">SEO</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/SEO&#39;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">Comment</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../components/Comment&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">config</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../utils/config&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">PostTemplate</span><span class="mtk1">({ </span><span class="mtk12">data</span><span class="mtk1">, </span><span class="mtk12">pageContext</span><span class="mtk1"> }) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">post</span><span class="mtk1"> = </span><span class="mtk12">data</span><span class="mtk1">.</span><span class="mtk12">markdownRemark</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> { </span><span class="mtk12">previous</span><span class="mtk1">, </span><span class="mtk12">next</span><span class="mtk1"> } = </span><span class="mtk12">pageContext</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">commentBox</span><span class="mtk1"> = </span><span class="mtk12">React</span><span class="mtk1">.</span><span class="mtk11">createRef</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk11">useEffect</span><span class="mtk1">(() </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">commentScript</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">createElement</span><span class="mtk1">(</span><span class="mtk8">&#39;script&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">theme</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">typeof</span><span class="mtk1"> </span><span class="mtk12">window</span><span class="mtk1"> !== </span><span class="mtk8">&#39;undefined&#39;</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">localStorage</span><span class="mtk1">.</span><span class="mtk11">getItem</span><span class="mtk1">(</span><span class="mtk8">&#39;theme&#39;</span><span class="mtk1">) === </span><span class="mtk8">&#39;dark&#39;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        ? </span><span class="mtk8">&#39;github-dark&#39;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        : </span><span class="mtk8">&#39;github-light&#39;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk12">async</span><span class="mtk1"> = </span><span class="mtk4">true</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk12">src</span><span class="mtk1"> = </span><span class="mtk8">&#39;https://utteranc.es/client.js&#39;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;repo&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;astridx/meinblog&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;issue-term&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;pathname&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;utterances&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;theme&#39;</span><span class="mtk1">, </span><span class="mtk12">theme</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;crossorigin&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;anonymous&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">commentBox</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">commentBox</span><span class="mtk1">.</span><span class="mtk12">current</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">commentBox</span><span class="mtk1">.</span><span class="mtk12">current</span><span class="mtk1">.</span><span class="mtk11">appendChild</span><span class="mtk1">(</span><span class="mtk12">commentScript</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk10">console</span><span class="mtk1">.</span><span class="mtk11">log</span><span class="mtk1">(</span><span class="mtk8">`Error adding utterances comments on: </span><span class="mtk4">${</span><span class="mtk12">commentBox</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }, [])</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk10">Layout</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">SidebarUeberTitel</span><span class="mtk1"> </span><span class="mtk12">post</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">Helmet</span><span class="mtk1"> </span><span class="mtk12">title</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk8">`</span><span class="mtk4">${</span><span class="mtk12">post</span><span class="mtk1">.</span><span class="mtk12">frontmatter</span><span class="mtk1">.</span><span class="mtk12">title</span><span class="mtk4">}</span><span class="mtk8"> | </span><span class="mtk4">${</span><span class="mtk12">config</span><span class="mtk1">.</span><span class="mtk12">siteTitle</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">SEO</span><span class="mtk1"> </span><span class="mtk12">postPath</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk1">.</span><span class="mtk12">fields</span><span class="mtk1">.</span><span class="mtk12">slug</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">postNode</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">postSEO</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">header</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk8">&quot;article-header medium&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk17">&lt;</span><span class="mtk4">h1</span><span class="mtk17">&gt;</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk1">.</span><span class="mtk12">frontmatter</span><span class="mtk1">.</span><span class="mtk12">title</span><span class="mtk4">}</span><span class="mtk17">&lt;/</span><span class="mtk4">h1</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">header</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">SidebarOben</span><span class="mtk1"> </span><span class="mtk12">post</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">section</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk8">&quot;post&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk17">&lt;</span><span class="mtk4">article</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">dangerouslySetInnerHTML</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk1">{ </span><span class="mtk12">__html:</span><span class="mtk1"> </span><span class="mtk12">post</span><span class="mtk1">.</span><span class="mtk12">html</span><span class="mtk1"> }</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk17">&lt;/</span><span class="mtk4">article</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">section</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;comments&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk17">&lt;</span><span class="mtk4">h2</span><span class="mtk17">&gt;</span><span class="mtk1">Comments</span><span class="mtk17">&lt;/</span><span class="mtk4">h2</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk17">&lt;</span><span class="mtk10">Comment</span><span class="mtk1"> </span><span class="mtk12">commentBox</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">commentBox</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">Suggested</span><span class="mtk1"> </span><span class="mtk12">previous</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">previous</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">next</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">next</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk10">SidebarUnten</span><span class="mtk1"> </span><span class="mtk12">post</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">post</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk10">Layout</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">pageQuery</span><span class="mtk1"> = </span><span class="mtk11">graphql</span><span class="mtk8">`</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">  query BlogPostBySlug($slug: String!) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">    markdownRemark(fields: { slug: { eq: $slug } }) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      html</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      excerpt</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      fields {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        slug</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      frontmatter {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        title</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        date(formatString: &quot;DD.MM.YYYY&quot;)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        tags</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        thumbnail {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">          childImageSharp {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">            fixed(width: 80, height: 80) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">              ...GatsbyImageSharpFixed</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">            }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">          }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk8">`</span></span></span></code></pre>
<p>Das Kommentar-Widget hat eine <code class="language-text">commentBox</code>-Prop, die übergeben wird. Auf diese Weise erhalten wir Zugriff auf die Komponente <code class="language-text">Comment</code>. Im <code class="language-text">Posts</code>-Template erstelle ich eine Referenz <code class="language-text">const commentBox = React.createRef()</code>, die an die <code class="language-text">commentBox</code>-Prop der <code class="language-text">Comment</code>-Komponente angehängt wird. Dann benutze ich den Hook <code class="language-text">useEffect</code>, um das Skript-Tag der Komponente <code class="language-text">Comment</code> über die Referenz hinzuzufügen:</p>
<pre class="grvsc-container default-dark" data-language="jsx" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">useEffect</span><span class="mtk1">(() </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">commentScript</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">createElement</span><span class="mtk1">(</span><span class="mtk8">&#39;script&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">theme</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">typeof</span><span class="mtk1"> </span><span class="mtk12">window</span><span class="mtk1"> !== </span><span class="mtk8">&#39;undefined&#39;</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">localStorage</span><span class="mtk1">.</span><span class="mtk11">getItem</span><span class="mtk1">(</span><span class="mtk8">&#39;theme&#39;</span><span class="mtk1">) === </span><span class="mtk8">&#39;dark&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      ? </span><span class="mtk8">&#39;github-dark&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      : </span><span class="mtk8">&#39;github-light&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk12">async</span><span class="mtk1"> = </span><span class="mtk4">true</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk12">src</span><span class="mtk1"> = </span><span class="mtk8">&#39;https://utteranc.es/client.js&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;repo&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;astridx/meinblog&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;issue-term&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;pathname&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;utterances&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;theme&#39;</span><span class="mtk1">, </span><span class="mtk12">theme</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">commentScript</span><span class="mtk1">.</span><span class="mtk11">setAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;crossorigin&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;anonymous&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">commentBox</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">commentBox</span><span class="mtk1">.</span><span class="mtk12">current</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">commentBox</span><span class="mtk1">.</span><span class="mtk12">current</span><span class="mtk1">.</span><span class="mtk11">appendChild</span><span class="mtk1">(</span><span class="mtk12">commentScript</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk10">console</span><span class="mtk1">.</span><span class="mtk11">log</span><span class="mtk1">(</span><span class="mtk8">`Error adding utterances comments on: </span><span class="mtk4">${</span><span class="mtk12">commentBox</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}, [])</span></span></span></code></pre>
<p>Der Code in <code class="language-text">useEffect</code> wird jedes Mal aufgerufen, wenn ein Beitrag gerendert wird, welcher dann das Kommentar-Widget an jede Blog-Post-Seite anfügt. Die notwendigen Skriptattribute werden mit Javascript hinzugefügt. Wir hängen es dann mithilfe der Eigenschaft <code class="language-text">current</code> an die <code class="language-text">commentBox</code>-Referenz an, die beim Rendern aktiv ist.</p>
<p>Das war es!</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .default-dark .mtk3 { color: #6A9955; }
  .default-dark .mtk15 { color: #C586C0; }
  .default-dark .mtk1 { color: #D4D4D4; }
  .default-dark .mtk12 { color: #9CDCFE; }
  .default-dark .mtk4 { color: #569CD6; }
  .default-dark .mtk11 { color: #DCDCAA; }
  .default-dark .mtk17 { color: #808080; }
  .default-dark .mtk14 { color: #F44747; }
  .default-dark .mtk8 { color: #CE9178; }
  .default-dark .mtk10 { color: #4EC9B0; }
  .default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><section id="comments" class="comments container"><h3>Comments</h3><div></div></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/kommentare-im-gatsby-blog-mit-utterance/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-87f5ae838a3e11ab908d.js"],"app":["/app-d475d8a45b933e3d597b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f76f5288c4d2bb942653.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7be8df31721789d53c28.js"],"component---src-pages-books-js":["/component---src-pages-books-js-97ee17e43bd789283fbf.js"],"component---src-pages-index-js":["/component---src-pages-index-js-05dcf5a41b92b2479436.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-ed3bb5b332ee93fa9dc9.js"],"component---src-templates-category-js":["/component---src-templates-category-js-49bc4748c0cd1500052b.js"],"component---src-templates-post-js":["/component---src-templates-post-js-10ec4a8cbac9f3bff5e9.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-26ffbf608cbeadb83d5e.js"]};/*]]>*/</script><script src="/polyfill-87f5ae838a3e11ab908d.js" nomodule=""></script><script src="/component---src-templates-post-js-10ec4a8cbac9f3bff5e9.js" async=""></script><script src="/b84efa9b784e27572a845759437622c93533bed1-40e0ab20e0b8ad317d93.js" async=""></script><script src="/app-d475d8a45b933e3d597b.js" async=""></script><script src="/framework-a8bc927eb7481ca28d49.js" async=""></script><script src="/webpack-runtime-2c9c8d9d4cc62f83b8b0.js" async=""></script></body></html>