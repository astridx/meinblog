<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.0cd32332746fd2834807.css" data-identity="gatsby-global-css">pre[class*=language-].line-numbers{padding-left:3.8em}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;left:-3.8em;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--primary:#16868f;--secondary:#16868f;--link-color:#fff;--border-color:#111;--heading-font-color:var(--primary);--background-color:#252525;--sidebar-color:#2b2b2b;--navbar-color:#181818;--navbar-color-hover:#272727;--sidebar-color-hover:#383838;--sidebar-color-focus:#444;--category-background-color:#161616;--category-background-color-hover:#1f1f1f;--light-border-color:#444;--toolbar-background-color:#181818;--toolbar-color:#eee;--font-color:#b3b9c5;--medium-font-color:#aaa;--dark-font-color:#8f949d;--bright-font-color:#eee;--input-background:#393939;--blockquote-background-color:rgba(0,0,0,.4);--blockquote-color:var(--dark-font-color);--black:#111;--inline-code-background-color:hsla(0,0%,100%,.08);--inline-code-color:#b3b9c5;--dark-opacity:rgba(0,0,0,.2);--dark-opacity-hover:rgba(0,0,0,.3);--reverse:#111;--scrollbar:var(--border-color);--scrollbar-track:var(--light-border-color);--yellow:#16868f;--button-color:#6b76f3;--page-width:1000px;--font-family:"Source Serif Pro",-apple-system,BlinkMacSystemFont,"Inter","Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--heading-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font-family:Menlo,"DM Mono","Roboto Mono",Courier New,monospace}*,:after,:before{box-sizing:border-box}a:focus-visible,button:focus-visible{outline:3px solid var(--primary)}body{-webkit-font-smoothing:antialiased;background:var(--navbar-color);color:var(--font-color);font-family:var(--font-family);font-size:1rem;line-height:1.6;margin:0}blockquote,ol,p,table,ul{color:var(--font-color);font-size:1.2rem;margin:0 0 2rem}button{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;border-radius:8px;cursor:pointer;font-family:var(--heading-font-family)}ol li,ul li{margin-bottom:.5rem}ol li p,ul li p{margin:0}ol li ol,ul li ul{margin:.3rem}h1,h2,h3,h4,h5{color:var(--heading-font-color);font-family:var(--heading-font-family);font-weight:600;line-height:1.2;margin:0 0 1.5rem;scroll-margin-top:80px}h3,h4,h5{color:var(--secondary);font-weight:500}a{text-decoration:none}a,a.button{font-family:var(--heading-font-family)}a.button{border:1px solid var(--button-color)!important;border-radius:8px;color:var(--reverse);display:block;font-size:1.1rem;font-weight:600;line-height:1.2;padding:.75rem 1.25rem;text-align:center}a.button,a.button:hover{background:var(--button-color)}a.button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}a.button:active{-webkit-transform:scale(.95);transform:scale(.95)}a.button.icon-button{align-items:center;display:flex}a.button.icon-button img{margin-right:.5rem;max-height:22px}table{border-collapse:separate;border-radius:8px;border-spacing:0;display:block;font-family:var(--heading-font-family);font-size:.95rem;max-width:100%;overflow-x:auto;width:100%}table :not(pre)>code[class*=language-]{font-size:.95rem!important}tbody,thead{white-space:nowrap}th{border-bottom:2px solid var(--light-border-color)}tfoot th{border-top:1px solid var(--light-border-color)}td{border-bottom:1px solid var(--light-border-color)}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;word-break:break-word}tbody tr:nth-child(odd){background-color:var(--dark-opacity)}tbody tr:last-child td:first-of-type{border-bottom-left-radius:8px}tbody tr:last-child td:last-of-type{border-bottom-right-radius:8px}@media screen and (min-width:800px){table{border:1px solid var(--light-border-color);display:table}tbody,thead{white-space:normal}}.sidebar{background:var(--sidebar-color);border-right:1px solid var(--light-border-color);height:100vh;left:0;overflow-x:hidden;overflow-y:hidden;position:fixed;top:0;width:320px;z-index:9}.sidebar:hover{overflow-y:auto}.sidebar .categories{margin-top:60px}.sidebar .title{align-items:center;background:var(--toolbar-background-color);color:var(--font-color);display:flex;font-size:.85rem;font-weight:600;height:35px;justify-content:space-between;padding:0 .5rem 0 2.5rem;position:fixed;text-transform:uppercase;top:0;width:320px;z-index:8}.sidebar button.collapse-categories{height:35px;padding:0 .75rem}.sidebar button.collapse-categories:hover{background:var(--dark-opacity)}.sidebar button.collapse-categories div{border:1px solid var(--font-color);line-height:0;padding:1px 3px}.sidebar button.collapse-categories svg rect{fill:var(--font-color)}.sidebar button.category{align-items:center;background:var(--category-background-color);border:none;border-radius:0;color:var(--bright-font-color);cursor:pointer;display:grid;font-size:.8rem;font-weight:700;grid-template-columns:1.5rem auto;margin-bottom:1px;padding:.75rem 1rem;position:-webkit-sticky;position:sticky;text-align:left;text-transform:uppercase;top:60px;width:100%;z-index:7}.sidebar button.category:hover{background:var(--category-background-color-hover);color:var(--bright-font-color)}.sidebar button.category:focus-visible{background:var(--primary);border-bottom:none;color:var(--reverse)!important;outline:none}.sidebar button.category:focus{color:var(--bright-font-color);outline:none}.sidebar button.category svg{margin-right:.5rem}.sidebar button.category svg path,.sidebar button.category:focus svg path{stroke:var(--bright-font-color)}.sidebar button.category:focus-visible svg path{stroke:var(--reverse)}.sidebar nav{width:320px}.sidebar nav.collapsed{display:none}.sidebar a{align-items:center;border-left:3px solid transparent;color:var(--medium-font-color);display:grid;font-family:var(--heading-font-family);font-size:.85rem;grid-template-columns:2rem auto;line-height:1.2;padding:.4rem 1rem}.sidebar a svg path{-webkit-filter:var(--icon-filter);filter:var(--icon-filter)}.sidebar a:hover{background:var(--sidebar-color-hover);color:var(--bright-font-color)}.sidebar a.active,.sidebar a:focus{background:var(--sidebar-color-focus);border-left:3px solid var(--primary);color:var(--bright-font-color);outline:none}.sidebar a.active svg path{fill:var(--primary)}.container{margin-left:auto;margin-right:auto;max-width:var(--page-width);padding:2rem}.container.large{max-width:1350px}.container.small,.small{max-width:550px}.navigation{background:var(--navbar-color);border-bottom:1px solid var(--light-border-color);height:60px;left:0;position:fixed;top:0;width:100%;z-index:9}.navigation-inner{font-family:var(--heading-font-family);height:100%;margin:0 auto;max-width:var(--page-width);padding:.5rem 1.5rem}.navigation button,.navigation-inner{align-items:center;display:flex;justify-content:space-between}.navigation button{background:transparent;border:none;color:var(--font-color);cursor:pointer;font-weight:500;gap:.5rem;line-height:0;padding:.5rem;position:relative}.navigation button:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation button:focus{outline:none}.navigation button:focus-visible{outline:3px solid var(--primary)}.navigation button span{font-size:.9rem}.navigation button svg rect{fill:var(--font-color)}.navigation nav{gap:.6rem;height:100%}.navigation nav,.navigation nav a{align-items:center;display:flex;justify-content:center}.navigation nav a{border-radius:8px;color:var(--font-color);font-size:.9rem;font-weight:500;gap:.4rem;line-height:1.1;padding:.5rem}.navigation nav a.active{color:var(--bright-font-color)}.navigation nav a.brand{font-size:1rem;font-weight:600}.navigation nav a.brand span{white-space:nowrap}.navigation nav a:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation nav img{max-height:20px;max-width:25px}.theme-switcher{margin-left:.5rem}.theme-switcher img{max-width:20px}.toolbar-section{align-items:center;display:flex;flex:0 0 155px;justify-content:flex-end}.navigation nav .brand-section{flex:0 0 155px;justify-content:flex-start}.hero{padding:1rem 0}.hero .flex-content{align-items:center}.hero header{padding:2rem 0 0;text-align:left}.hero h1{color:var(--bright-font-color);font-size:3rem;margin-bottom:1.5rem}.hero p.subtitle{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.3rem}.hero .hero-buttons{display:flex;gap:1.5rem}.hero-buttons a.hero-button{align-items:center;border:none;color:var(--dark-font-color);display:flex;font-size:.9rem;gap:.4rem;justify-content:space-between}.hero-buttons a.hero-button:hover{background:transparent;border:none;color:var(--font-color)}.hero-buttons a.hero-button img{display:block;max-height:18px}.bright{color:var(--bright-font-color)}article{padding-bottom:3rem}article header{padding-top:2rem;text-align:center}article h1{color:var(--bright-font-color);font-size:2.5rem;font-weight:700;margin-bottom:.75rem}article h2,article h3,article h4,article h5{margin:0 0 1.25rem}article h4{border-bottom:1px solid var(--light-border-color);margin-bottom:.75rem}article .description{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.45rem;margin-bottom:0}.post-image{margin-bottom:1rem}.post-details{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:.9rem;margin:.5rem 0}.post-details a{border-bottom:none}.tags{align-items:center;display:flex;flex-wrap:wrap;font-family:var(--heading-font-family);gap:.5rem;justify-content:center;margin:1.5rem 0}.tags a{border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);display:inline-block;font-size:.9rem;font-weight:600;line-height:normal;padding:.4rem .6rem;vertical-align:middle}.tags a,.tags a:hover{background:var(--reverse)}.tags a:hover{border:1px solid var(--primary);color:var(--primary)}article a{border-top:2px solid transparent;color:var(--link-color);font-weight:600}article a,article a:hover{border-bottom:2px solid var(--primary)}article a:hover{background:var(--primary);border-top:2px solid var(--primary);color:var(--reverse)}article li a,article li a:hover{border-bottom:none;border-top:none}article img{display:block;max-width:100%}article h2{font-size:1.9rem;padding-bottom:.25rem}article h2 code{border-bottom:1px solid var(--border-color);font-size:2.2rem!important}article h3{font-size:1.75rem}article h3 code{font-size:1.6rem!important}article h4{font-size:1.15rem;padding-bottom:.25rem;text-transform:uppercase}article h4 code{font-size:1.25rem!important}article h5{font-size:1rem;text-transform:uppercase}h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}blockquote{background:var(--blockquote-background-color);border:1px solid var(--light-border-color);border-left:4px solid var(--primary);border-radius:8px;font-family:var(--heading-font-family);padding:1.5rem}blockquote p{color:var(--blockquote-color)}blockquote ul{margin-top:1rem}blockquote p:last-of-type,blockquote ul:last-of-type{margin-bottom:0}.comments{padding-bottom:2rem}.comments h3{font-size:1.75rem}.blog-page h2{border-bottom:1px solid var(--light-border-color);margin-top:2.5rem}a.post{grid-gap:1rem;align-items:center;border:1px solid transparent;display:grid;grid-template-columns:auto 60px;margin-left:-1rem;margin-right:-1rem;padding:.4rem 1rem}a.post.new,a.post:hover{background:var(--dark-opacity);border:1px solid transparent;border-radius:8px;font-family:var(--heading-font-family)}a.post.new{background:transparent;border:1px solid transparent}a.post.new:hover{background:var(--dark-opacity)}a.post.new time{color:var(--secondary)!important}a.post.new h3{color:var(--bright-font-color)}a.post.new .new-badge{color:var(--yellow);margin-left:.75rem}a.post h3{color:var(--font-color);-webkit-filter:brightness(1);filter:brightness(1);font-size:1.1rem;font-weight:500;margin:0}a.post:hover h3{color:var(--bright-font-color)}a.post time,a.post:hover time{color:var(--dark-font-color)}a.post time{display:block;font-family:var(--code-font-family);font-size:.8rem;font-weight:400;text-align:center}.projects{display:flex;flex-direction:column}@media screen and (min-width:600px){.projects{grid-gap:2rem;display:grid;grid-template-columns:repeat(auto-fill,300px);justify-content:center}}.project{background:var(--dark-opacity);border:1px solid var(--border-color);border-radius:8px;color:var(--dark-font-color);display:flex;flex-direction:column;padding:1.5rem}.project h2{border-bottom:none;font-size:1.5rem;margin-bottom:0;text-align:center}.project img{height:auto;margin-top:.5rem;max-height:100px;max-width:100%;-o-object-fit:contain;object-fit:contain}.project .description{color:var(--font-color);font-family:var(--heading-font-family);font-size:1.2rem;line-height:1.3;margin-bottom:1rem;text-align:center}.project .links{display:flex;gap:.5rem}.project .stars{align-items:center;display:flex;gap:.75rem;justify-content:center;margin-top:auto}.project .stars img{margin-top:0;max-width:20px}a.anchor.before{border:none}a.anchor.before:hover{background:transparent}a.anchor.before svg{fill:#fff}a.image-link,a.image-link:hover{border-bottom:none;border-top:none}a.image-link:hover{background:none}.primary-color{color:var(--primary)}.primary-underline{border-bottom:3px solid var(--primary)}.deemphasized{color:var(--dark-font-color)}.gatsby-resp-image-wrapper{margin-left:0!important}a.gatsby-resp-image-link{background:transparent!important;border-bottom:none!important;border-top:none!important}.highlighted{background:var(--primary);color:var(--reverse)}.not-found-image{margin:0 auto}.flex{display:flex}.flex-align-center{align-items:center}.flex-justify-between{justify-content:space-between}.flex-content{gap:1.5rem}.flex-content,.main-header{display:flex;justify-content:space-between}.main-header{align-items:center;border-bottom:1px solid var(--light-border-color)}.main-header a{font-size:1rem}.main-image{border:1px solid var(--light-border-color);border-radius:8px;height:auto;margin-left:2rem;width:250px}.search-bar{grid-gap:1rem;align-items:center;display:grid;grid-template-columns:auto 50px}.search-icon{cursor:pointer;max-width:30px}.search-input{-webkit-appearance:none;background:var(--input-background);border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);font-size:1.1rem;line-height:1.1;padding:.75rem 1rem;width:100%}.search-input:active,.search-input:focus,.search-input:hover{border-color:var(--primary)}.search-input:focus{box-shadow:1px 1px 1px var(--primary);-webkit-filter:brightness(1.1);filter:brightness(1.1);outline:none}::-webkit-scrollbar{background:var(--scrollbar);height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scrollbar-track);border-radius:0}::selection{background:var(--primary);color:var(--reverse)}::-moz-selection{background:var(--primary);color:var(--reverse)}::marker{color:var(--primary)}.search-input::-webkit-search-cancel-button{color:var(--bright-font-color)}.collapsed .sidebar{display:none}.desktop-only{display:block!important}main{background:var(--background-color);margin-top:60px;min-height:calc(100vh - 215px)}.footer{background:var(--navbar-color);border-top:1px solid var(--light-border-color);font-family:var(--heading-font-family);padding:3rem 0}.footer section{align-items:center;display:flex;flex-direction:column;gap:1.25rem}.footer img{display:inline-block;max-height:20px;width:auto}.footer nav{display:flex;gap:.25rem;margin:0 1rem}.footer a,.footer span{align-items:center;color:var(--dark-font-color);display:flex;font-size:.9rem;line-height:1.2;padding:0 .5rem}.footer span{color:var(--toolbar-color)}.footer a:hover{color:var(--link-color)}@media screen and (max-width:800px){blockquote,ol,p,table,ul{font-size:1.1rem;margin:0 0 1.5rem}.flex-content{flex-direction:column;gap:.5rem}main{margin-top:60px}ol,ul{padding-left:1rem}.navigation nav.social-nav,.sidebar{display:none}.navigation-inner{justify-content:space-between;padding-right:0}.navigation nav{gap:.5rem}.navigation nav a{flex-direction:column;font-size:.8rem;gap:.25rem;padding:0 .25rem}.navigation nav a:hover{background:transparent}.navigation button.theme-switcher{margin-left:0;margin-right:-.5rem;min-width:auto}.navigation nav a.brand{font-size:.9rem;margin-left:0;margin-right:0;padding:0}.navigation nav img{max-width:20px}.toolbar-section{flex:initial;margin-left:0}.navigation nav .brand-section{flex:initial}.navbar img{max-width:30px}.projects{grid-gap:1rem;grid-template-columns:repeat(2,50%)}.project .stars{justify-content:center}.desktop-only{display:none!important}.hero{padding:0}.hero h1{font-size:2.25rem}.hero header{padding:1rem 0 0}.hero .container{padding-bottom:1rem}.hero p.subtitle{font-size:1.2rem}.hero .flex-content,.hero .hero-buttons{align-items:flex-start}.hero .hero-buttons{flex-direction:column;gap:.5rem}.post-image{max-height:75px;max-width:75px}.main-image{margin:0 0 1rem;width:150px}.flex-content div{order:2}.flex-content img{order:1}.container{padding:1rem}.navigation-inner{padding:0 1rem}article{padding-bottom:0}article h1{font-size:2.2rem;line-height:1.2}article h2{font-size:1.8rem}article header{padding-top:1.5rem}article .description{font-size:1.3rem}a.post h3{font-size:1rem}.project img{max-height:50px}}#resume header{text-align:left}#resume section h2,#resume section h3,#resume section h4,#resume section h5{margin-bottom:1rem;margin-top:0}#resume section h2{border-bottom:1px solid var(--light-border-color);font-size:1.1rem;margin-top:2.5rem;text-transform:uppercase}#resume section h3{align-items:center;display:flex;font-weight:600;justify-content:space-between}#resume section h3 span{display:block;font-size:1rem;font-weight:400}#resume section h3{font-size:1.3rem;margin-bottom:.5rem}#resume section li,#resume section p{font-size:1rem;line-height:1.3}#resume section li{margin-bottom:.5rem}:root{--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--terminal-color:var(--code-font-color)}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.9rem!important;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;background:var(--code-background-color);border:1px solid var(--light-border-color);border-radius:8px;font-family:Menlo,monospace;margin-bottom:2rem;margin-top:2rem;overflow:initial;padding:1rem}:not(pre)>code[class*=language-]{-webkit-font-smoothing:antialiased;background:var(--inline-code-background-color)!important;color:var(--inline-code-color)!important;font-size:1rem!important;font-weight:600;padding:2px 3px;white-space:pre-wrap}article a:hover code{color:var(--reverse)!important}pre.language-text{background:transparent;margin-left:-1.5rem;padding-bottom:0;padding-top:.5rem}.line-numbers-rows{display:none}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:1rem;position:relative}@media screen and (min-width:800px){.line-numbers-rows{display:block}pre.language-text.line-numbers{padding-left:1.5rem!important}pre[class*=language-].line-numbers{padding-left:4rem}pre.language-shell,pre.language-terminal{padding-left:1.5rem!important}pre.language-shell .line-numbers-rows,pre.language-terminal .line-numbers-rows,pre.language-text .line-numbers-rows{display:none}}code.language-text{background:var(--light-background)!important;box-shadow:none;color:var(--font-color)!important}pre.language-text code.language-text{border:none}code.language-shell:before{color:var(--comment);content:"$ "}pre.language-terminal{-webkit-text-size-adjust:none;background:var(--reverse);border:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--font-color);margin:2rem 0;padding-top:3rem;position:relative;white-space:normal}code.language-terminal{-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;color:var(--terminal-color)}pre.language-terminal:before{background:var(--category-background-color);border-bottom:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--dark-font-color);content:"\2022 \2022 \2022";font-size:2.5rem;left:0;letter-spacing:-5px;line-height:0;margin:0;padding:15px 0 12px;position:absolute;text-indent:6px;top:0;width:100%}.line-numbers .line-numbers-rows{border-right:1px solid #444;font-size:100%;left:-3.8rem;letter-spacing:-1px;padding-right:.5rem;pointer-events:none;position:absolute;top:1rem!important;width:3rem!important}.line-numbers-rows>span:before{color:#777}.gatsby-highlight{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;font-size:.9rem;margin-bottom:1.5rem;margin-top:1.5rem;max-width:999999px;overflow-x:auto;overflow-y:hidden}.gatsby-highlight pre[class*=language-]{float:left;margin-bottom:0;margin-top:0;min-width:100%}.gatsby-highlight-code-line{background-color:#222;border-left:.25rem solid #74cf74;display:block;margin-left:-1.25rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem}.filename{align-items:center;background:#171717;border-top-left-radius:8px;border-top-right-radius:8px;color:#ccc;display:flex;font-family:var(--heading-font-family);font-size:.9rem;line-height:1;margin-bottom:-2rem;padding:.5rem 1.5rem .9rem}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-jsx .token.class-name{color:var(--tag)!important}code::selection,pre::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}pre[class*=language-]{margin-bottom:1.5rem;margin-top:1.5rem}.filename{margin-bottom:-1.9rem}.light{--primary:#16868f;--secondary:#444;--heading-font-color:#222;--link-color:#111;--border-color:#bbb;--light-border-color:#e0e0e0;--background-color:#fff;--sidebar-color:#f0f0f0;--navbar-color:#f0f0f0;--navbar-color-hover:#ddd;--sidebar-color-hover:#dedede;--sidebar-color-focus:#fff;--category-background-color:#d5d5d5;--category-background-color-hover:silver;--toolbar-color:#333;--toolbar-background-color:#f0f0f0;--font-color:#454545;--medium-font-color:#555;--dark-font-color:#888;--input-background:transparent;--bright-font-color:#222;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fff;--terminal-color:var(--bright-font-color);--scrollbar:#888;--scrollbar-track:#bbb;--yellow:#16868f;--button-color:var(--primary)}.light pre[class*=language-]{border-color:var(--heading-font-color)}.light pre.language-terminal,.light table{border-color:var(--border-color)}.light blockquote{border-left-color:var(--border-color);border-color:var(--border-color) var(--border-color) var(--border-color) var(--primary)}.sepia{--primary:#6c71c4;--secondary:#cb4b16;--heading-font-color:#211806;--link-color:#332810;--border-color:#332810;--light-border-color:#6b4a00;--background-color:#ebdbb2;--sidebar-color:#fef0cf;--navbar-color:#f0d69a;--navbar-color-hover:#e2c175;--sidebar-color-hover:#eed18e;--sidebar-color-focus:#fff6e3;--category-background-color:#d8ba76;--category-background-color-hover:#c8a961;--toolbar-color:#332810;--toolbar-background-color:#fdf6e3;--font-color:#372e19;--medium-font-color:#6b4a00;--dark-font-color:#6b4a00;--input-background:transparent;--bright-font-color:#211806;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fdf6e3;--terminal-color:var(--bright-font-color);--scrollbar:#a48337;--scrollbar-track:#c8a961;--yellow:#e59e32;--button-color:var(--primary)}.sepia .comments{background:#444;border-radius:8px;margin-bottom:2rem;padding:2rem}.sepia pre[class*=language-]{border-color:var(--heading-font-color)}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">ESRI - Environmental Systems Research Institute | Astrid Günther</title><meta data-react-helmet="true" name="description" content="Wenn Sie intensiver mit digitalen Landkarten arbeiten, möchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf Ihrer…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de/logo.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de/esri-leaflet/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="ESRI - Environmental Systems Research Institute"/><meta data-react-helmet="true" property="og:description" content="Wenn Sie intensiver mit digitalen Landkarten arbeiten, möchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf Ihrer…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de/logo.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="ESRI - Environmental Systems Research Institute"/><meta data-react-helmet="true" name="twitter:description" content="Wenn Sie intensiver mit digitalen Landkarten arbeiten, möchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf Ihrer…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de/logo.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de","name":"ESRI - Environmental Systems Research Institute","alternateName":"ESRI - Environmental Systems Research Institute"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de/esri-leaflet/","name":"ESRI - Environmental Systems Research Institute","image":"https://blog.astrid-guenther.de/logo.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de","name":"ESRI - Environmental Systems Research Institute","alternateName":"ESRI - Environmental Systems Research Institute","headline":"ESRI - Environmental Systems Research Institute","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de/logo.png"},"description":"Wenn Sie intensiver mit digitalen Landkarten arbeiten, möchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf Ihrer…"}]</script><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-ca740af77c191d080be4.js"/><link as="script" rel="preload" href="/framework-a8bc927eb7481ca28d49.js"/><link as="script" rel="preload" href="/app-22cb55dfda824cdcd61f.js"/><link as="script" rel="preload" href="/commons-0f2138c6f91c8ca8f8cc.js"/><link as="script" rel="preload" href="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-e52ae0ae34ca5aa437b9.js"/><link as="fetch" rel="preload" href="/page-data/esri-leaflet/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/352937542.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article><header><div class="container"><div class="post-details">Written by Astrid Günther on <time>December 18, 2018</time></div><h1>ESRI - Environmental Systems Research Institute</h1><div class="post-meta"><div class="tags"><a class="tag-geografische Daten" href="/tags/geografische-daten">geografische Daten</a><a class="tag-Leaflet" href="/tags/leaflet">Leaflet</a></div></div></div></header><div id="/esri-leaflet/" class="container post-content"><p>Wenn Sie intensiver mit digitalen Landkarten arbeiten, möchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf Ihrer Karte anzeigen.</p>
<blockquote>
<p>Ein <a href="https://de.wikipedia.org/w/index.php?title=Geoinformationssystem">Geoinformationssystem</a>[^de.wikipedia.org/w/index.php?title=geoinformationssystem] ist ein Informationssystem zur Erfassung, Bearbeitung, Organisation, Analyse und Präsentation von Daten, die einen Bezug zu einer Stelle auf unserer Erde haben. Zu einem Geoinformationssystem gehören dabei die notwendige Hardware, die notwendige Software, die Daten und die Anwendungen selbst.</p>
</blockquote>
<p>Wenn Sie Daten eines Geoinformationssystems nutzen möchten, werden Sie früher oder später über den Begriff <a href="https://de.wikipedia.org/w/index.php?title=Shapefile">Shapefile</a>[^de.wikipedia.org/w/index.php?title=shapefile] oder Shape Datei stolpern. Aber auch wenn Sie nie auf den Begriff Shape Datei stoßen werden Sie vielleicht einmal einen Webservice nutzen, der Endpunkt eines ARCServers ist. Außerdem werden Sie sicher auch das <a href="https://de.wikipedia.org/w/index.php?title=ESRI">ESRI Inc (Environmental Systems Research Institute)</a>[^de.wikipedia.org/w/index.php?title=esri] kennenlernen. Dieses Institut ist ein US-amerikanischer Softwarehersteller. Das ESRI hat sich auf Geoinformationssysteme spezialisiert. Das Unternehmen hat unter anderem die Anwendung <a href="https://de.wikipedia.org/w/index.php?title=ArcGIS">ArcGIS</a>[^de.wikipedia.org/w/index.php?title=arcgis] erstellt und das Dateiformat Shapefiles eingeführt.</p>
<blockquote>
<p>Die wesentlichen Produkte des ESRI sind
Geoinformationssysteme. Die Namen der verschiedenen
Geoinformationssysteme des ESRI enthalten in der Regel den Namensteil
ArcGIS. Es gibt ArcGIS Anwendungen für Server und für Clients.</p>
</blockquote>
<p>Bitte lassen Sie sich durch die vielen neuen Begriffe nicht verunsichern. Natürlich gibt es Leaflet Plugins, die Ihnen beim Integrieren dieser Services zur Hand geht. Außerdem sehen wir uns alles Schritt für Schritt und nacheinander an.</p>
<h2 id="in-diesem-kapitel-werden-wir-" style="position:relative;"><a href="#in-diesem-kapitel-werden-wir-" aria-label="in diesem kapitel werden wir  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In diesem Kapitel werden wir …</h2>
<p>In diesem Teil werden wir uns als erstes die Karten, die das ESRI anbietet, ansehen. Danach schauen wir, was sich hinter dem Begriff Shapefile versteckt. Außerdem werden wir ESRI Webservices kennen lernen. Unter anderem einen <code class="language-text">L.esri.DynamicMapLayer</code>, Geocoding und einen <code class="language-text">L.esri.FeatureLayer</code> – hier konkret einen <code class="language-text">Query Layer</code>. Mit letztgenanntem können Sie Daten, die Sie nicht benötigen, einfach aus der gegebenen Datenmenge herausfiltern. Das kann bei großen Datenmenge praktisch sein.</p>
<h2 id="lesribasemaplayer-erweitert-ltilelayer" style="position:relative;"><a href="#lesribasemaplayer-erweitert-ltilelayer" aria-label="lesribasemaplayer erweitert ltilelayer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>L.esri.BasemapLayer erweitert L.TileLayer</h2>
<p>Mit der Klasse <code class="language-text">L.esri.BasemapLayer</code> können Sie Karten, die das Esri anbietet, auf Ihrer Website als Leaflet Karte anzeigen.</p>
<blockquote>
<p>Die <a href="https://github.com/esri/esri-leaflet#terms">Nutzungsbedingungen</a> für ESRI Dienste gelten für Leaflet Anwendungen. Diese können Sie auf der Website <a href="https://github.com/esri/esri-leaflet#terms">https://github.com/esri/esri-leaflet#terms</a> nachlesen.</p>
</blockquote>
<h3 id="basemaps-und-optionale-layer-von-esri" style="position:relative;"><a href="#basemaps-und-optionale-layer-von-esri" aria-label="basemaps und optionale layer von esri permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basemaps und optionale Layer von ESRI</h3>
<p>Sie möchten Basemaps von ESRI verwenden. Wir haben im Kapitel <em>Schöne Kartenlayer</em> schon Karten von anderen Kartenanbietern eingebunden. Dieses Kapitel erweitert die Erklärungen im Kapitel <em>Schöne Kartenlayer</em> um ein weiteres Beispiel – nämlich die Karten des ESRI Instituts.</p>
<h4 id="basemaps" style="position:relative;"><a href="#basemaps" aria-label="basemaps permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basemaps</h4>
<p>Basemaps von ESRI bieten eine weltweite Abdeckung bei einer Vielzahl von Zoom Stufen. Dabei können die folgenden Themenbereiche wählen.</p>
<ul>
<li>Streets</li>
<li>Topographic</li>
<li>NationalGeographic</li>
<li>Oceans</li>
<li>Gray</li>
<li>DarkGray</li>
<li>Imagery</li>
<li>ShadedRelief</li>
<li>Terrain</li>
<li>USATopo (Diese Karte wird nur für die USA angeboten)</li>
</ul>
<p>Wenn Ihnen eine der Basiskarten grundsätzlich gut gefällt, diese Ihnen aber zu wenig Informationen bietet, können Sie weitere optionale Ebenen über diese Basisebene einblenden. ESRI bietet speziell für jede Basisebene eine optionale Ebene mit weiteren Informationen.</p>
<h4 id="optionale-label-layer" style="position:relative;"><a href="#optionale-label-layer" aria-label="optionale label layer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optionale Label Layer</h4>
<p>Label Layer sind optionale Ebenen, die zusätzliche Textbeschriftungen zu den Basiskarten hinzufügen. ESRI bietet Ihnen sieben verschiedene optionale Schichten. Jede Ebene ist speziell für eine Basiskarte kreiert worden. Wenn Sie möchten, können Sie diese aber auch quer Beet kombinieren. Konkret bietet ESRI die Layer</p>
<ul>
<li>OceansLabels:</li>
<li>GrayLabels:</li>
<li>DarkGrayLabels:</li>
<li>ImageryLabels:</li>
<li>ImageryTransportation:</li>
<li>ShadedReliefLabels</li>
<li>TerrainLabels</li>
</ul>
<p>Alle möglichen Basiskarten mit optionalen Ebenen können Sie auch in der Dokumentation des Leaflet Plugins nachlesen. Genau finden Sie diese Informationen unter der Adresse <a href="https://esri.github.io/esri-leaflet/api-reference/layers/basemap-layer.html">https://esri.github.io/esri-leaflet</a>[^esri.github.io/esri-leaflet/api-reference/layers/basemap-layer.html].</p>
<blockquote>
<p>Wenn Sie möchten, können Sie die Anzeige von Basemaps bei höheren Auflösungen auf Retina-Geräten mit der Option <code class="language-text">detectRetina</code> optimal einstellen. Im nachfolgenden Programmcodeausschnitt wird die Basemap auf einem Retina Display in Retina-Auflösungen ausgegeben. Was ein Retina Display ist, habe ich Ihnen im Kapitel <em>Custom Markers</em> in einem Hinweis erklärt. Die <a href="https://leafletjs.com/reference.html#tilelayer-detectretina">Option <code class="language-text">detectRetina</code></a>[^leafletjs.com/reference.html#tilelayer-detectretina] ist eine Leaflet Funktion.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="js" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;DarkGray&#39;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">detectRetina:</span><span class="mtk1"> </span><span class="mtk4">true</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">map</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span></code></pre>
<p>Wenn Sie die Option <code class="language-text">detectRetina</code> mit <code class="language-text">true</code> belegt haben und ein Website-Besucher Ihre Karte auf einem Geräte mit einem Retina-Display öffnet, wird Leaflet anstelle der Bilddateien zur aktuellen Zoom-Stufe die vierfache Anzahl der Bildkacheln der nächsthöheren Zoom-Stufe anfordern und anzeigen. Wie die Bilddateien für eine Zoom-Stufe berechnet werden, können Sie im Kapitel <em>Wie weiß Leaflet welche Kacheln angezeigt werden sollen</em> nachlesen.</p>
<h3 id="ein-erstes-beispiel" style="position:relative;"><a href="#ein-erstes-beispiel" aria-label="ein erstes beispiel permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ein erstes Beispiel</h3>
<p>Das nachfolgende Beispiel zeigt Ihnen, wie Sie eine ESRI Basiskarte in Leaflet anzeigen können.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_945.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-debug.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">7</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">gray</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">graylabels</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;GrayLabels&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">gray</span><span class="mtk1">.</span><span class="mtk11">setOpacity</span><span class="mtk1">(</span><span class="mtk7">0.5</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">gray</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;load&#39;</span><span class="mtk1">, </span><span class="mtk12">alertme</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">alertme</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">alert</span><span class="mtk1">(</span><span class="mtk8">&#39;Fertig!&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was haben wir gemacht? Wichtig ist, dass wir das Skript zum ESRI Leaflet Plugin einbinden. Ich habe dies mit der Zeile <code class="language-text">&lt;script src="esri-leaflet-debug.js">&lt;/script></code> getan. Im Echtsystem können Sie die komprimierte Version verwenden, also <code class="language-text">&lt;script src="esri-leaflet.js">&lt;/script></code>. Die aktuellste Version dieses Skripts können Sie von der Adresse <a href="http://esri.github.io/esri-leaflet/download/">http://esri.github.io/esri-leaflet/download</a> kopieren. Nach dem Einbinden des Plugins haben wir mit der Zeile <code class="language-text">var gray = L.esri.basemapLayer('Gray').addTo(mymap);</code> das <code class="language-text">L.esri.basemapLayer</code> Objekt erstellt und es auch sofort zur Karte hinzugefügt. Zusätzlich haben wir die Karte mit <code class="language-text">gray.setOpacity(0.5);</code> transparent dargestellt und dem Ereignis <code class="language-text">on('load')</code> die Funktion <code class="language-text">alertme()</code> zugeordnet. Immer dann, wenn die Karte fertig geladen ist, soll die Funktion <code class="language-text">alertme()</code> ausgeführt werden. Genau bedeutet das, dass immer, wenn die Karte fertig geladen ist, ein Hinweisfenster erscheint. Verschieben Sie die Karte einmal. Dabei werden Sie sehen, dass das Ereignis <code class="language-text">on('load')</code> auch immer dann, wenn die Karte erschoben wird, eintritt.</p>
<p>Die beiden nachfolgenden Abbildungen zeigen Ihnen die Basiskarte mit dem Namen gray – einmal mit und einmal ohne optionale Ebene.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0a9fa2082d13d1b9ba7ce0af597af7c9/46115/943.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQoz12SW5KEIAxF2f/yxrZtHRTBt5vI1EnXdSw/UoRAbk4I4TxPW5bFhj5Z10b77b5WymR5zLauq9u+727Hcfj9eZ7diG3bdvmBy33f27v+WP1q3F5VbTFGG8fRcs5u+NzDR1Ax7adpctFAsPqpL8Gqqv3iMAwuwEWSUkqXj5VSnAyfOGAuuO+bxfglpNW+HzxZiVjbtr6SJDq1LFJEsTCm7GJCvlOIjASIRCJhYhLGp6PwaTp7143N83JVwRAi6U5FkmJP4dsbZp+m6PQWDIW92tHwRCMBTVzFAqNm86yoJEQkJMr7+8mXuAtq7BJGADJ8PYGKMH1NGBHtRRr4qM8WRKFCrBT4p/ySEeMM8UtQlfQtRKT2NQRIRD3ytrnYkNL12Tln/QOTKCG70T7a2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Die Basiskarte Gray mit optionale Ebene"
        title="Die Basiskarte Gray mit optionale Ebene"
        src="/static/0a9fa2082d13d1b9ba7ce0af597af7c9/5a190/943.png"
        srcset="/static/0a9fa2082d13d1b9ba7ce0af597af7c9/772e8/943.png 200w,
/static/0a9fa2082d13d1b9ba7ce0af597af7c9/e17e5/943.png 400w,
/static/0a9fa2082d13d1b9ba7ce0af597af7c9/5a190/943.png 800w,
/static/0a9fa2082d13d1b9ba7ce0af597af7c9/c1b63/943.png 1200w,
/static/0a9fa2082d13d1b9ba7ce0af597af7c9/46115/943.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<hr>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f2f6c89cf107a87c2b5cb90e505c5604/46115/944.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVQoz5WS4XaDIAyFef/XW6tIbTEBFHyJu5NseFhLN/fjngAhnzcRs+87cil4PBa4acbN3XFzMwIHpJhQSsG2bcg5dyV5ifWOyXkDEWG4WlwvIy4fAybrEGNESkljKzmras/q2gjVWqcw0ThMPwrbgh7oWUYsz/NdHWqrIbw46xW+k/F+URhzeEn+F6gt2/Gr3WdIdXoWdDikhUHEWNe1646Zu5D2vtyre51hSvHtl/9quwXLWv/ymcIzszyezW9PpJdbv920OmbYAs+KQsTCDBIRqbz3Gj8BI8Ymzj6FbuMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Die Basiskarte Gray ohne optionale Ebene"
        title="Die Basiskarte Gray ohne optionale Ebene"
        src="/static/f2f6c89cf107a87c2b5cb90e505c5604/5a190/944.png"
        srcset="/static/f2f6c89cf107a87c2b5cb90e505c5604/772e8/944.png 200w,
/static/f2f6c89cf107a87c2b5cb90e505c5604/e17e5/944.png 400w,
/static/f2f6c89cf107a87c2b5cb90e505c5604/5a190/944.png 800w,
/static/f2f6c89cf107a87c2b5cb90e505c5604/c1b63/944.png 1200w,
/static/f2f6c89cf107a87c2b5cb90e505c5604/46115/944.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="unterschiedliche-basemaps-auswählen" style="position:relative;"><a href="#unterschiedliche-basemaps-ausw%C3%A4hlen" aria-label="unterschiedliche basemaps auswählen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unterschiedliche Basemaps auswählen</h3>
<p>Im nächsten Beispiel habe ich im HTML-Dokument eine Auswahllist über der Karte eingefügt. So können Sie zwischen den verschiedenen ESRI Karten schnell hin und her wechseln und sich so einen Überblick über das Kartenangebot verschaffen.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_944.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-debug.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">select</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;position: absolute; top: 10px; right: 10px; z-index: 400&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;basemaps&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">onChange</span><span class="mtk1">=</span><span class="mtk8">&quot;changeBasemap(basemaps)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Topographic&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Topographic</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Streets&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Streets</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;NationalGeographic&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">National Geographic</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Oceans&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Oceans</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Gray&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Gray</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;DarkGray&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Dark Gray</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Imagery&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Imagery</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;ShadedRelief&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Shaded Relief</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;Terrain&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Terrain</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;USATopo&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">USATopo</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">select</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">7</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">layer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">changeBasemap</span><span class="mtk1">(</span><span class="mtk12">basemaps</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">basemap</span><span class="mtk1"> = </span><span class="mtk12">basemaps</span><span class="mtk1">.</span><span class="mtk12">value</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">layer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">removeLayer</span><span class="mtk1">(</span><span class="mtk12">layer</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">layer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk12">basemap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">addLayer</span><span class="mtk1">(</span><span class="mtk12">layer</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was haben wir genau gemacht? Hier gibt es nichts weltbewegend Neues. Eine Auswahlliste haben wir schon oft im Buch verwendet. Wenn ein Website-Besucher den aktiven Listeneintrag der Auswahlliste ändert, wird die aktuelle Kartenebene mit <code class="language-text">mymap.removeLayer(layer)</code> entfernt. Danach wird eine neue Ebene mit der gewünschten Option erstellt – <code class="language-text">layer = L.esri.basemapLayer(basemap)</code> – und diese wird dann zum Kartenobjekt hinzugefügt <code class="language-text">mymap.addLayer(layer)</code>.</p>
<p>Im Ergebnis können Sie sich mithilfe der Auswahlliste alle ESRI Karten ansehen. Oder Sie können es einem Website-Besucher ermöglichen die Karte, die dieser am schönsten findet, für seine Ansicht zu aktivieren.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/adc989a888b0f17e25bcedcc2b18d7cf/46115/942.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACq0lEQVQozyXRy24bBQCFYa/ZVFWFhMSum+5QBaJUpGmpbTwx4xnbY4/t8Yznfr/YHmecOPElTQmhD8ADIIHEAiGEQLzej2IWZ//rO7U//vyZ7cGkaVd8ph74fLzj+fgGLYux8ynra5ebm4hqY7N62LXH5pByd7/g/V3Ohw8lv/z6E//8+zt//f0bte33Hp1pgyenPo9OQj56GfO0YaH7TQzvLX4oEKUiRnCGHpxhRhLzSmdZGeyvHS4qHS+S0K0mvfEJtXxt8rRp8fg059GrjE/rEZots1x2uDxXuFqr+HEHM5Fx0h5mIJIuVLyoy6LU+PF9zvrSJitULF+ktt5ZfCmP+OSbjOeyg52ozOddokggi9psNzpBrqDO6vTHrzAcAS+WudiY3N5E7HcBh0PMdudi+W1qgrfk49ceQ6dHPhdZrwesqiFlpZLMFdxEIl9qaHaTkfkGN+oQZhJO2MF2OyT5kNXaYOafMfNb1J71b3lyGmA9FOUycd4lSNsk8+7RsT18wcRqYLjCsSDO+piBQDbvM9brWJ6Iqr9lPKuTFQq1YbqhrUlYXotyOT5WTcw3iIMvUKZfY/ot1FmDJO9x/y7GsL7FCzpcXRoslipOIBLGElEoMzWa1G7vAryoSRDLBJGEE4lHcMsXiJI2xVxBc1q4wXfc7kPKcsJ5pVNVBknSwwv/J7C9M6Kw83CKc4SeWgKWK1LMVcK0j+mLuKHAohwRlwMMv3W02u4feCSqSmOzNsgLFS+WaCtfIQ9eUtvuPfJcIUkH2H6HqBgS5ypTW0Cz69ixQHdyciw3zCZJ2qUohyxLlcsLk/PVhDCVMAIBxXhNbbNzCfMuWTHACySCpIcbyYysBvL0FGeu4GdDFudTVqXOu0PI/Q8pyyudoppRrDTihUJcjlhvXf4DxDrTV0aAMwYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Dieses Bild zeigt die ESRI Basiskarte Imagery."
        title="Dieses Bild zeigt die ESRI Basiskarte Imagery."
        src="/static/adc989a888b0f17e25bcedcc2b18d7cf/5a190/942.png"
        srcset="/static/adc989a888b0f17e25bcedcc2b18d7cf/772e8/942.png 200w,
/static/adc989a888b0f17e25bcedcc2b18d7cf/e17e5/942.png 400w,
/static/adc989a888b0f17e25bcedcc2b18d7cf/5a190/942.png 800w,
/static/adc989a888b0f17e25bcedcc2b18d7cf/c1b63/942.png 1200w,
/static/adc989a888b0f17e25bcedcc2b18d7cf/46115/942.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="shapefiles" style="position:relative;"><a href="#shapefiles" aria-label="shapefiles permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shapefiles</h2>
<p>Das Dateiformat Shapefile wurde von der Firma ESRI für die Software ArcView entwickelt. Shape Dateien sind speziell für die Verarbeitung von Geodaten entwickelt worden.</p>
<h3 id="was-genau-verbirgt-sich-hinter-dem-begriff-shapefile" style="position:relative;"><a href="#was-genau-verbirgt-sich-hinter-dem-begriff-shapefile" aria-label="was genau verbirgt sich hinter dem begriff shapefile permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Was genau verbirgt sich hinter dem Begriff Shapefile</h3>
<p>Ein <a href="https://de.wikipedia.org/w/index.php?title=Shapefile">Shapefile</a>[^de.wikipedia.org/w/index.php?title=shapefile] ist keine einzelne Datei. In der Regel handelt es sich um mehrere Dateien, die zu einem Zip-Archiv zusammengefasst sind. In diesem Zip-Archiv müssen mindestens die drei nachfolgend genannten Dateitypen vorhanden sein:</p>
<ul>
<li>Eine Datei mit der Endung <code class="language-text">.shp</code> dient zur Speicherung der Geometriedaten.</li>
<li>Eine Datei mit der Endung <code class="language-text">.dbf</code> enthält Attribute oder Eigenschaften.</li>
<li>Eine Datei mit der Endung <code class="language-text">.shx</code> dient als eine Art Index. Mithilfe dieser Datei sind die Geometriedaten in der Datei <code class="language-text">.shp</code> mit den Eigenschaften in der <code class="language-text">.dbf</code>-Datei verknüpft.</li>
</ul>
<blockquote>
<p>Weitere Informationen zu Shapefiles und wie Sie diese selbst erstellen können, finden Sie auf der Website <a href="http://desktop.arcgis.com/de/arcmap/10.3/manage-data/shapefiles/creating-a-new-shapefile.htm">http://desktop.arcgis.com</a>[^desktop.arcgis.com/de/arcmap/10.3/manage-data/shapefiles/creating-a-new-shapefile.htm].</p>
</blockquote>
<h3 id="wie-kommen-sie-an-ein-shapefiles" style="position:relative;"><a href="#wie-kommen-sie-an-ein-shapefiles" aria-label="wie kommen sie an ein shapefiles permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wie kommen Sie an ein Shapefiles</h3>
<p>Natürlich können Sie selbst ein Shapefile erstellen. Das ist aber gar nicht einfach und außerdem nicht Thema dieses Buches. Einfach ist es aber, an Shapefiles von anderen heranzukommen. Insbesondere Daten, die von öffentlichem Interesse sind, werden oft zum Download als Shapefile angeboten. Suchen einfach einmal in einer Suchmaschine nach Websites, die den Text <em>Open Data</em> enthalten.</p>
<p>Bei einer Suche nach <em>Open Data</em> in einer Suchmaschine im Internet habe ich unter anderem das Schienennetz der Deutschen Bahn als Shapefile gefunden: <a href="http://data.deutschebahn.com/dataset/geo-strecke">http://data.deutschebahn.com/dataset/geo-strecke</a>. Höchstwahrscheinlich interessieren Sie sich für Daten in der Nähe Ihres Wohnortes. Dann geben Sie zum Suchbegriff <em>Open Data</em> einfach den Namen einer Stadt in der Nähe Ihres Wohnortes ein. Eine Suche nach <em>Open Data</em> in der Nähe von <em>Koblenz</em> hat mich zu einer Website des Landesvermessungsamtes Koblenz geführt. Die Website <a href="https://lvermgeo.rlp.de/de/geodaten/opendata/">https://lvermgeo.rlp.de/de/geodaten/opendata/</a> informiert über das Angebot des Landesvermessungsamtes - insbesondere über das Angebot an offenen Daten. Einige dieser Daten, zum Beispiel die Flurgrenzen, stehen als Shapefile zur Verfügung.</p>
<p>Wenn Sie per Internetsuche keine passenden Daten finden, können Sie auf der Website von Openstreetmap, insbesondere auf der Unterseite <a href="https://wiki.openstreetmap.org/w/index.php?title=Shapefiles">https://wiki.openstreetmap.org/wiki/Shapefiles</a>[^wiki.openstreetmap.org/w/index.php?title=shapefiles] nach weiteren Anbietern suchen. Neben weiteren Informationen zum Shapefile Format gibt es hier auch eine Liste mit Anbietern von Shapefiles.</p>
<blockquote>
<p>Es muss nicht an Ihnen liegen, wenn Sie bei der Arbeit mit Geodaten auf einen Fehler stoßen. Insbesondere dann nicht, wenn Sie Daten von anderen in Ihre Arbeit einbinden. Da das Shapefile Format kompliziert ist, ist es gut, dass es im Internet Websites gibt, auf denen man eine Shapefile Datei testen kann. Eine dieser Websites ist <a href="http://leaflet.calvinmetcalf.com">http://leaflet.calvinmetcalf.com</a>[^leaflet.calvinmetcalf.com].</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/78b2d4468523151139d234d528329d0b/46115/969.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACb0lEQVQoz22Ry2sTURTGr6LVLgJuqu5EFFRc6sYu/AOk7gQRXEgVXwtBkKJWunGhG8GNLirZVLGa+ohNNWShKLhRK1rpI7VNOmkzzUwm80gy03kk6U/muhI8cDiHe+E730M8eDeDOJ1j/61Jdl//zpaTT9jQ1c1GIejvv8h4JsPVi5c4d+YCvYd6SXRvRQhBT0+PnAMDA/i+T7PZxLZthLkGJ64MI3YeZfveY2zb0csmIRCii4Pn7/Bx8jVnb9/jysMkh09d5si+A+RyOfL5PKOjoxLMcRzCMJRTALwbT8lrcSeEoHfPHq7dH+ZRNo1ZeoGujBMsv6I4n8ZQV/lfua4rQUVZValoVdJvxtm8tZsDu3aRfTNB2yuhLb5E0yYwamnsSgpde0+HFoGmE4YBpmnSaDQIgoC1tbW/gPES1+OREcnw7o2bNOwaJfUTiytZ8spbyoUxCj+eU5gZI4gs1u067SAgarWkZM/zqNfrElhkMhmSySTH+/p4lkpRnp1jIf+LhcoH9OIrlHIaY2EMTc9hVr/iuibuaoXAbdJqt/+R3G63EYlEQjIbGhqSH6ZSojA7japm0Zee4btZQv0pRFP4QQdlaQmrWJRS41RjVrHUeK6vryMGBwdRFIVWFFEzTXzPJaxo1L0yjjaBpaaoLj2namaxXQ1breDpGmGrRa1WwzAMmW6n05GEhGVZcol9iGn7QUBgWYSGgb8wwfJciumVHMWV9/hNjdrvRVS1LD0zjCq6ruPYtvQyJiXm5+dlQvFDFEWygyiisVpmeeoLyz8/4+S/4VVKYDtYpknVMKjoVQpKCcepU2+60s+G5/MHeQ+RrmaF5jUAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Test eines Shapefiles mithilfe der Website http://leaflet.calvinmetcalf.com. Das getestet Shapefile vg2500_geo84.zip finden Sie in den Beispieldateien."
        title="Test eines Shapefiles mithilfe der Website http://leaflet.calvinmetcalf.com. Das getestet Shapefile vg2500_geo84.zip finden Sie in den Beispieldateien."
        src="/static/78b2d4468523151139d234d528329d0b/5a190/969.png"
        srcset="/static/78b2d4468523151139d234d528329d0b/772e8/969.png 200w,
/static/78b2d4468523151139d234d528329d0b/e17e5/969.png 400w,
/static/78b2d4468523151139d234d528329d0b/5a190/969.png 800w,
/static/78b2d4468523151139d234d528329d0b/c1b63/969.png 1200w,
/static/78b2d4468523151139d234d528329d0b/46115/969.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="wie-binden-sie-shapefiles-in-ihre-leaflet-karte-ein" style="position:relative;"><a href="#wie-binden-sie-shapefiles-in-ihre-leaflet-karte-ein" aria-label="wie binden sie shapefiles in ihre leaflet karte ein permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wie binden Sie Shapefiles in Ihre Leaflet Karte ein?</h3>
<h4 id="deutsche-verwaltungsgrenzen-als-shapefile-in-der-leaflet-karte" style="position:relative;"><a href="#deutsche-verwaltungsgrenzen-als-shapefile-in-der-leaflet-karte" aria-label="deutsche verwaltungsgrenzen als shapefile in der leaflet karte permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deutsche Verwaltungsgrenzen als Shapefile in der Leaflet Karte</h4>
<p>Die Shape Datei, die ich im nächsten Beispiel verwende, habe ich von der Website <a href="https://www.arcgis.com/home/item.html?id=ae25571c60d94ce5b7fcbf74e27c00e0">https://www.arcgis.com</a>[^arcgis.com/home/item.html?id=ae25571c60d94ce5b7fcbf74e27c00e0 (bit.ly/3giIh50)] kopiert. Die Firma ESRI bietet auf dieser Website mit ArcGIS ein Geoinformationssystem, dass die Verwendung, Erstellung und Freigabe von Geodaten einfach macht. Ich habe mir den oben verlinkten Datensatz mit den Verwaltungsgrenzen von Deutschland kopiert. Die Datei landet unter dem Namen <code class="language-text">vg2500_geo84.zip</code> bei mir auf dem Computer.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c21127c3e2a7d5b5489e65cad59d5ae2/46115/970.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQoz3WQu24TQRSG9y2ANDTBcRugg8IWtDwDD8ATQIEsS8FBIiKgkPAKlHRECmblgBPn0tEEUEQRxYq0vu7Ozm3XH5oxGzmW8kufzq8zmjP/mWAYCxKpiEVKLCRJOkVIhbY5Nssxc0htGYsUZQyp0ihtvDc2I1he+075VcjS611KjRaLKyF3GlNfboSUVkIWGy1Kq7uUV1ssOd9ocbve5ObLHW7VvrFQa7JQD7lRCwmaJxc8/fSTyrs2T97s8GjrgOrWIdUP+1Q3O1Q22lScd2y0fe/xx0MevN9jee0H99f3ufd2j7vrHR5uHhGYUY+4FyG759h4jFQKo6THGk1mNFaraTUaozVO27/6PPv8m/rXv7zYPuX5l1MiYQhOOgf8OT7m4uyMUSLojWKU1iilsNZynRKpGQqFtBOEyRA6I88nBINul/55F2MM2hisMZeXJgWTyRWchNKMkxSZCpRMybPM9wO3Yvo/TZ7nnizLPIV3lZnBTsPhiCiKMMZibXZ5FsTjMVopv6JDa42U0lP4YvUrCYXwzMoPTOKYfr/vk7hGkWZexaCiusdEKvy92ccCkQgGg4FPUqSc/7PZYYW/7jv+AVAd1IeaJheFAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Download eines Shapefiles von der Adresse arcgis.com."
        title="Download eines Shapefiles von der Adresse arcgis.com."
        src="/static/c21127c3e2a7d5b5489e65cad59d5ae2/5a190/970.png"
        srcset="/static/c21127c3e2a7d5b5489e65cad59d5ae2/772e8/970.png 200w,
/static/c21127c3e2a7d5b5489e65cad59d5ae2/e17e5/970.png 400w,
/static/c21127c3e2a7d5b5489e65cad59d5ae2/5a190/970.png 800w,
/static/c21127c3e2a7d5b5489e65cad59d5ae2/c1b63/970.png 1200w,
/static/c21127c3e2a7d5b5489e65cad59d5ae2/46115/970.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Wie ich die Shape Datei mit Leaflet in eine Karte integriere, zeigt Ihnen das nachfolgende Beispiel. Natürlich gibt es dafür auch wieder ein Leaflet Plugin. Die Website zum Plugin <code class="language-text">Leaflet.Shapefile</code> finden Sie auf Github unter der Adresse <a href="https://github.com/calvinmetcalf/leaflet.shapefile">https://github.com/calvinmetcalf/leaflet.shapefile</a>. Die Datei zum Plugin heißt <code class="language-text">leaflet.shpfile.js</code>. Der gleiche Entwickler bietet auch ein Skript zum Analysieren der Shape Datei unter der Adresse <a href="https://github.com/calvinmetcalf/shapefile-js">https://github.com/calvinmetcalf/shapefile-js</a> an. Diese Datei heißt <code class="language-text">shp.js</code>. Diese beiden Dateien müssen Sie in Ihre HTML-Datei einbinden.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_943.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;shp.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet.shpfile.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">6</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">shpfile</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Shapefile</span><span class="mtk1">(</span><span class="mtk8">&#39;vg2500_geo84.zip&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">shpfile</span><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Die Zeilen</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;shp.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet.shpfile.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">shpfile</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Shapefile</span><span class="mtk1">(</span><span class="mtk8">&#39;vg2500_geo84.zip&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">shpfile</span><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span></code></pre>
<p>zeigen schon alles Notwendige.</p>
<p>Und was haben wir genau gemacht? Im Kopfbereich unserer Beispiel HTML-Datei haben wir zwei Skripte eingebunden. Einmal das Skript <code class="language-text">leaflet.shpfile.js</code> zum Leaflet Plugin und dann das Skript <code class="language-text">shp.js</code> zum Analysieren der Shape Datei. Danach haben wir mit der Zeile <code class="language-text">var shpfile = new L.Shapefile('vg2500_geo84.zip')</code> eine Ebene mit den Daten der Shape Datei erstellt. Zum Schluss haben wir diese Ebene zum Kartenobjekt hinzugefügt: <code class="language-text">shpfile.addTo(mymap)</code>. Als Ergebnis sehen Sie nun alle Verwaltungsgrenzen, also die reinen Geometrien. Eigenschaften, die in der Shape Datei enthalten sind, werden in diesem Beispiel noch nicht angezeigt. Das Anzeigen von Eigenschaften und das Zuordnen anderer Stile habe ich für das nächste Beispiel aufgehoben.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3a787d557bdcd0146ab9c144c7752c86/46115/967.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEklEQVQoz12SOW8TURRG88cQvyAdPR01/4EaqogiDR20cWKTRUBACpHjZOa9N4vHY8/y5s3iZbzFShMEOshOEHLaq6ujc+/37Vz0ehwJQUtIWlJyaAnCNCKM+xzaYjNrCcGl63ItHVajHDvscSIV3WjAuDAshgWLyZDFuGTnW7f7AJSSphAcC4kfBuhBuAGt5w1hcylDLMujrfzNzpmQTDPNvDDMqmIDXdYVO+dbQEmpExzl0nckwnNoSMmxrXj9ccarDyv2vxbkeUxhNEOTMtYJszxjkmvmw+I/cG13qhRJPOCn4zIKFENf8l1YfD0PefH+nt29X7w5WLGsNLPSMCkNdW6YVwV1njMvi23Dz4+WZ1JhOYq2LRh3HT41M569/cPu3j2NiwmztZnRzEcldZExKVKma3hlnp78YHoiJB2pMP2QVRZjIs3L/Tuev/vNtSy4TSPq1DAvc6bV2jJjOSqZVvk28F/STSlpuy7TNNk8fpEmqE7ClagogoRpnDDRmjpLmRhNPUhJ44j6KbD5WJEjy6LRuaFMYlbDglmSUvZ8xn0PW7nMTM4wiqhNtgkk1wktS9B23G3guneu41L1ewxcl0Wm6QcBP9aBWQrH9VCez6XyyMOYiU65LXOufJ+DG4svUj4BWjaBcrkzKcs4Ig66nHVuOLBt2r7PqZBIz6OjFJ7fw0QDvCDAdxR932VkNH8BZRC1n9q5uyMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird."
        title="Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird."
        src="/static/3a787d557bdcd0146ab9c144c7752c86/5a190/967.png"
        srcset="/static/3a787d557bdcd0146ab9c144c7752c86/772e8/967.png 200w,
/static/3a787d557bdcd0146ab9c144c7752c86/e17e5/967.png 400w,
/static/3a787d557bdcd0146ab9c144c7752c86/5a190/967.png 800w,
/static/3a787d557bdcd0146ab9c144c7752c86/c1b63/967.png 1200w,
/static/3a787d557bdcd0146ab9c144c7752c86/46115/967.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="deutsche-verwaltungsgrenzen-mit-optionen" style="position:relative;"><a href="#deutsche-verwaltungsgrenzen-mit-optionen" aria-label="deutsche verwaltungsgrenzen mit optionen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deutsche Verwaltungsgrenzen mit Optionen</h4>
<p>Im nächsten Beispiel sehen Sie, wie Sie das Aussehen der Formen in der Shape Datei beeinflussen könne.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_942.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;shp.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet.shpfile.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">6</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">shpfile</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Shapefile</span><span class="mtk1">(</span><span class="mtk8">&#39;vg2500_geo84.zip&#39;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">style</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">feature</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk15">return</span><span class="mtk1"> { </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;black&#39;</span><span class="mtk1">, </span><span class="mtk12">fillColor:</span><span class="mtk1"> </span><span class="mtk8">&#39;red&#39;</span><span class="mtk1">, </span><span class="mtk12">fillOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.75</span><span class="mtk1"> }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">shpfile</span><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Das vorhergehende Beispiel manipuliert die Option <code class="language-text">style</code>. Die Belegung der Option <code class="language-text">style</code> mit <code class="language-text">color:"black",fillColor:"red",fillOpacity:.75</code> färbt die Grenzen der Shape Datei schwarz und füllt die Formen mit der Farbe Rot – bei einer Transparenz von 75 Prozent. Das rot gefärbte Deutschland können Sie sich in der nächsten Abbildung ansehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/8e499dff9d320955ade95273d6d0f10a/46115/968.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVQoz12Ry27TYBCF/Qx9B3gW2CG28EYs2CEkRPewgN5SNalKqSoiaGP/Fztx4vh+ieP4ktIF2w8llVrKYnSko9E3Z2YMFYb0tc1gU7bNQGl04GN5Hn2tOdGan1MX03Ux7TF/qgVu4DOQG39KXebc1ku6qmRdlRjnkwkHlsWRENv6OjLxojlh6LFnWvSEYM80ufJ81CygKXMubYdjIcniiCZPWZc5N6sF69XiDngoBD0ptzp0HOzxmGDqcqrU1tsXguOPu5x82OXgsMf5xGXo2Kw2wCSmLTKaLGFdFQ/AIym2U+s0wlIaX5nMHcmh7dA/O+doZ4dfhsGP16+ofrd0eUyZRlRJRJsl90kfgELQVwpr6nKhbcqZTaxGDCce9pu3xIZBZBhMnz9jUWY0eUy71Q2ooMkzmiJ7vHJPCvYti76QXEqFKSVtmuG8e49rGMwMA//zJ9rFglUU0pU5dZGwKmLqPKFepP8BhdzqiVBoW9MEc9ZJxCqLES9eMn/ylGDQp05z6iBiXWTUecrSD7kpc9p/V75LKO+fMBCSMghY5yldEJK7c5IwIJ/6dFHMMgyoomD7jDZKEOMJWRI9Bh4JyTcpuZCS0+sRyziiK1KyuYetNLFjM7QU2QYYhDRZSpenzAKfLyOTU1M8Bm7uN9U2t5FP5c1o44CRVPQ2zVJzpTTTyZjvlsJ35lRhSJclXGvNmZSM3DF/ATrfq5WBL3KpAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wurden die Farben geändert."
        title="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wurden die Farben geändert."
        src="/static/8e499dff9d320955ade95273d6d0f10a/5a190/968.png"
        srcset="/static/8e499dff9d320955ade95273d6d0f10a/772e8/968.png 200w,
/static/8e499dff9d320955ade95273d6d0f10a/e17e5/968.png 400w,
/static/8e499dff9d320955ade95273d6d0f10a/5a190/968.png 800w,
/static/8e499dff9d320955ade95273d6d0f10a/c1b63/968.png 1200w,
/static/8e499dff9d320955ade95273d6d0f10a/46115/968.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="ein-pop-up-fenster" style="position:relative;"><a href="#ein-pop-up-fenster" aria-label="ein pop up fenster permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ein Pop-up-Fenster</h4>
<p>Schön wäre es, wenn man für jede Verwaltungseinheit den Namen in einem Pop-up Fenster angezeigt bekommen würde – und zwar genau dann, wenn man die Fläche auf der Karte anklickt. Im nächsten Beispiel sehen Sie, wie Sie dies umsetzen können.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_941.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;shp.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet.shpfile.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">5</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">shpfile</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Shapefile</span><span class="mtk1">(</span><span class="mtk8">&#39;vg2500_geo84.zip&#39;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">onEachFeature</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">feature</span><span class="mtk1">, </span><span class="mtk12">layer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">layer</span><span class="mtk1">.</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">GEN</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">shpfile</span><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>In diesem Beispiel haben wir die Option <code class="language-text">onEachFeature</code> verwendet. Wir haben dieser Option eine anonyme Funktion zugeordnet in der wir jedem Feature in der Shape Datei mithilfe von <code class="language-text">layer.bindPopup(feature.properties.GEN)</code> ein Pop-up Fenster zugewiesen haben. Im Pop-up Fenster erscheint der Text, der bei dem Feature im Attribut <code class="language-text">GEN</code> als Eigenschaft eingetragen ist. Wenn Sie sich nun fragen, woher Sie wissen können, dass es als Eigenschaft ein Attribut <code class="language-text">GEN</code> gibt, dann warten Sie bis zum nächsten Beispiel. Dort werde ich Ihnen zeigen, wie Sie alle Optionen auslesen können. Probieren Sie aber zunächst dieses Beispiel selbst aus. Öffnen Sie die Karte und klicken Sie einen Landkreis an. Wie in der nachfolgenden Abbildung zu sehen ist, sollte sich auch auf Ihrer Karte ein Pop-up Fenster öffnen.</p>
<p>Auf diese Art und Weise können Sie auch das Aussehen einer Form, abhängig vom Wert eines Attributes gestalten.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e8af2bc121c44cb5a5372b3de8a0c9a2/46115/966.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVQoz12Ry27TUBRF+3FMGPUr+BEkxIQBAj6AMYPS0qRtUh6KqpZCYt+HE8eJ3752nMSJHXVSqQwWSoqo2sHRls5gnX323lNRREc7dLfjOHSVRocB9nRKR2vOtObaG2NNJtjumNuqZBwEdOV271GVOTfVnHpR0ixK9n64Ll9sm5YQu/k8sJjGPlE05dCyaQvBkW1zqYZcDxRFEnIxHHJiS0wSs8ozmjJns5zRLGf3wGMhaEu506vhEGc0IvTGnCtFS0oOLAtnMmVpYoI44sqbcDkcstwC04R1YViZlGZRPABbUnAiJFUWYytNoCz8keJYSb79lrw8qHjTbjjtl6yKhPXMUGYxizRmbdL/Th+AQtBRCtsb09MO5cQhdgQD26J1GrD/4Y7997e8PtpQmYgqT1mX+T9QwSo3rArz+OW2vM+rIyQXUtHXDjf+mE4v5dnbPzx/d8dPMWOTJSyThLrMqYqUZZHsDlSz7AlQyJ2eCYV2NKvQp05japPw6tOaFx9vkdrQhD5VnNEUhirPmAcRmzLfOX7i8L6YQyHoCkkZhjS5oQ4jKnfCMoooxj51kjKPQhZxuCtjHaeIkYtJ48fAlpB8l5KelJz3B8yTmLrIML6P0ppo6HAlNCaOmYcRK5NR5xleGHAwsDi3xGPgNj9vm1sUsJhOWCchA6loWxbnUvNLOXiuS09ogpHPIop2wIHWfLUFfdflL/ZYuCK6NjExAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wird der Name der Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt."
        title="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wird der Name der Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt."
        src="/static/e8af2bc121c44cb5a5372b3de8a0c9a2/5a190/966.png"
        srcset="/static/e8af2bc121c44cb5a5372b3de8a0c9a2/772e8/966.png 200w,
/static/e8af2bc121c44cb5a5372b3de8a0c9a2/e17e5/966.png 400w,
/static/e8af2bc121c44cb5a5372b3de8a0c9a2/5a190/966.png 800w,
/static/e8af2bc121c44cb5a5372b3de8a0c9a2/c1b63/966.png 1200w,
/static/e8af2bc121c44cb5a5372b3de8a0c9a2/46115/966.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="ein-pop-up-fenster-mit-allen-informationen-des-features" style="position:relative;"><a href="#ein-pop-up-fenster-mit-allen-informationen-des-features" aria-label="ein pop up fenster mit allen informationen des features permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ein Pop-up-Fenster mit allen Informationen des Features</h4>
<p>Sie wissen nicht, welche Eigenschaften in der Shape Datei genau für die Geometrien enthalten sind – Sie möchten sich aber gerne einen Überblick über diese Eigenschaften verschaffen. Das nächste Beispiel zeigt Ihnen, wie Sie die Informationen nur mit JavaScript in Erfahrung bringen können.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_940.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;shp.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet.shpfile.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">5</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">shpfile</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Shapefile</span><span class="mtk1">(</span><span class="mtk8">&#39;vg2500_geo84.zip&#39;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">onEachFeature</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">feature</span><span class="mtk1">, </span><span class="mtk12">layer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">holder</span><span class="mtk1"> = []</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">key</span><span class="mtk1"> </span><span class="mtk4">in</span><span class="mtk1"> </span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">holder</span><span class="mtk1">.</span><span class="mtk11">push</span><span class="mtk1">(</span><span class="mtk12">key</span><span class="mtk1"> + </span><span class="mtk8">&#39;: &#39;</span><span class="mtk1"> + </span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">[</span><span class="mtk12">key</span><span class="mtk1">] + </span><span class="mtk8">&#39;&lt;br&gt;&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">popupContent</span><span class="mtk1"> = </span><span class="mtk12">holder</span><span class="mtk1">.</span><span class="mtk11">join</span><span class="mtk1">(</span><span class="mtk8">&#39;&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">layer</span><span class="mtk1">.</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk12">popupContent</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">shpfile</span><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Für die Beantwortung dieser Fragestellung nutzen wir auch wieder die Option <code class="language-text">onEachFeature</code>. In dieser Option erstellen wir eine Variable, genau ein Array, mit dem Namen <code class="language-text">holder</code>. Als nächstes durchlaufen wir in einer Schleife alle Schlüssel, die in den Eigenschaften der Shape Datei, also in <code class="language-text">feature.properties</code> enthalten sind. Wir fügen mit <a href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/push"><code class="language-text">push()</code></a>[^developer.mozilla.org/de/docs/web/javascript/reference/global_objects/array/push] jeden Eintrag in das Array <code class="language-text">holder</code> ein und separieren diesen von dem nächsten Eintrag mit <a href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><code class="language-text">join()</code></a>[^developer.mozilla.org/de/docs/web/javascript/reference/global_objects/array/join]. Den Text mit allen Schlüssel-Wert-Paaren fügen wir am Schluss als Pop-up Text zum Layer hinzu.</p>
<p>Als Ergebnis sehen Sie alle möglichen Schlüssel-Wert-Paare in einem Pop-up Fenster über Ihrer Karte, sobald Sie eine Fläche anklicken.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d2fa638196ae7abe74ab5d0cfa95722f/46115/965.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQoz13Ry27TQBTG8b4ob8J7wIItO0QvaaomAaqqtKKq7RmP7diJ77c4vsVtJVARUv8oKaKUxdEnzeKn883ZM6OIibKYbseymJoKFQYYyyUTpThVim+ei7ZYoDsuP5oKNwiYyu27R1sV3LdrNnXFUFfsnc3nHBkGx0LsZl/TWcY+UbTkQDcYC7FLzbGxLEVXxFzYDieGJE9iuiJjqApumxVDs3oCR0IwlnKXV7aN5TiEnsvMNBkJyUga7H/1Ofi8YHRpcmYprmyHZgumCX2Z0+UpQ10+g8dScCIkbRZjmIrA1PEdk0MhuFQ2R/otH25+okd39OucfpVTZTF1GtPn6d9Nn0EhmJgmhudyriyqhUVqCy6udQp7wV2b8fi95vHXA82qpC0S+nXxByrpipyuzF9WHkvBoWEwEZILaaIpi85zcWXAm1nP21mHs8jos2RXd1MVtGVKUya0RUq7yv4DhdzlqTBRlqINfYY0oklSXr8fePXuAU0WDKFPG2cMZU5bZKyDiNuqoP+38tOGT4c5EIKpkFRhyFDkbMKI3vXo4pCV57NJUtZRSB2Hu2P0cYpw5uRp/BI8FpIvUnIuJbMbjfW2VpmR+z6mUkS2xZVQ5HHMOozo8oxNkeGFAR81nZkuXoLb//OUxX0UUC8X9EmIJk3Gus5MKq5NC28+51woAsenjqIdqCnFJ0NwM5/zG0OsvA5NRsguAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel werden alle Informationen zur Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt."
        title="Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel werden alle Informationen zur Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt."
        src="/static/d2fa638196ae7abe74ab5d0cfa95722f/5a190/965.png"
        srcset="/static/d2fa638196ae7abe74ab5d0cfa95722f/772e8/965.png 200w,
/static/d2fa638196ae7abe74ab5d0cfa95722f/e17e5/965.png 400w,
/static/d2fa638196ae7abe74ab5d0cfa95722f/5a190/965.png 800w,
/static/d2fa638196ae7abe74ab5d0cfa95722f/c1b63/965.png 1200w,
/static/d2fa638196ae7abe74ab5d0cfa95722f/46115/965.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="esri-services" style="position:relative;"><a href="#esri-services" aria-label="esri services permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ESRI Services</h2>
<p>Sie wissen nun wie Sie eine ESRI Basiskarte laden, wie Sie mit dem Plugin ESRI-Leaflet grundsätzlich umgehen und wie Sie Dateien im Format Shapefile nutzen können.</p>
<p>ESRI bietet aber noch eine ganze Menge mehr. Sie können ArcGIS Server-Web-Services nutzen. Das ESRI Plugin unterstützt Sie auch bei der Verbindung mit einem Web Service, der sich auf einer ArcGIS Server-Website befindet und für Client-Anwendungen zur Verfügung gestellt wird. Mit einem ArcGIS Web Service kann entweder eine weitere <a href="http://esri.github.io/esri-leaflet/api-reference/#layers">Ebene</a> für eine Karte zur Verfügung gestellt oder eine bestimmte <a href="http://esri.github.io/esri-leaflet/api-reference/#tasks">Aufgabe</a> bearbeitet werden.</p>
<p>Eine Ebene kann dabei neben dem</p>
<ul>
<li><code class="language-text">L.esri.BasemapLayer</code>, den Sie ja schon kennengelernt haben,</li>
<li>ein <code class="language-text">L.esri.DynamicMapLayer,</code></li>
<li>ein <code class="language-text">L.esri.ImageMapLayer</code>,</li>
<li>ein <code class="language-text">L.esri.RasterLayer</code>,</li>
<li>ein <code class="language-text">L.esri.TiledMapLayer</code>,</li>
<li>ein <code class="language-text">L.esri.FeatureLayer</code>,</li>
<li>ein <code class="language-text">L.esri.Cluster.FeatureLayer</code> oder</li>
<li>ein <code class="language-text">L.esri.Heat.FeatureLayer</code> sein.</li>
</ul>
<p>Eine Aufgabe könnte das Einschränken der Anzeige auf bestimmte Objekte mit <code class="language-text">L.esri.Query</code> sein oder das Zuordnen von Adressen zu Koordinaten mit <code class="language-text">L.esri.Geocoding</code>.</p>
<p>Im nächsten Kapitel beginnen wir damit, das wir eine Ebene, nämlich einen <code class="language-text">L.esri.DynamicMapLayer</code>, mithilfe eines Web Services nutzen. Wenn Sie dieses Beispiel durchgearbeitet haben, können Sie alle anderen Layer ebenfalls verwenden. Die Vorgehensweise ist bei jedem einheitlich. Der einzige Unterschied besteht im Angebot der möglichen Methoden und Optionen. Da aber die Dokumentation zum Plugin sehr gut ist, dürfte dies keine Schwierigkeit darstellen. Die Dokumentation zu den Layern finden Sie unter der Adresse <a href="http://esri.github.io/esri-leaflet/api-reference/#layers">http://esri.github.io/esri-leaflet/api-reference/#layers</a>.</p>
<h3 id="lesridynamicmaplayer" style="position:relative;"><a href="#lesridynamicmaplayer" aria-label="lesridynamicmaplayer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>L.esri.DynamicMapLayer</h3>
<p>Für das nachfolgende Beispiel habe ich Daten des Geoportals Köln genutzt. Dieses Portal bietet den Zugriff auf offene Daten, Dienste und Anwendungen verschiedener Herkunft. Das Geoportal Köln zentralisieren nach eigenen Angaben Informationen aus den Bereichen Umwelt, Verkehr, Vermessung und Planung. Jeder hat die Möglichkeit die Geodaten des Geoportal Köln zu nutzen, anzusehen und zu analysieren. Informationen zum Geoportal Köln finden Sie auf der Website der <a href="http://www.stadt-koeln.de/politik-und-verwaltung/geoportal/">Stadt Köln</a>[^stadt-koeln.de/politik-und-verwaltung/geoportal]. Die Dokumentation zur Schnittstelle des Web Services finden Sie unter der Adresse <a href="https://geoportal.stadt-koeln.de/arcgis/">https://geoportal.stadt-koeln.de/arcgis/</a>. Wenn Sie dann auf den Eintrag <em>Behindertenparkplätze</em> klicken sehen Sie die Angaben, die speziell unser nachfolgendes Beispiel betreffen.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_939.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.97264</span><span class="mtk1">, </span><span class="mtk7">7.00469</span><span class="mtk1">], </span><span class="mtk7">12</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">//L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk8">&#39;https://geoportal.stadt-koeln.de/arcgis/rest/services/Behindertenparkplaetze/MapServer&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">dMap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">dynamicMapLayer</span><span class="mtk1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">url:</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">0.25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">useCors:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">dMap</span><span class="mtk1">.</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">featureCollection</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">featureCollection</span><span class="mtk1">.</span><span class="mtk12">features</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">Bezeichnung</span><span class="mtk1"> +</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk8">&#39;&lt;br&gt;Anzahl: &#39;</span><span class="mtk1"> +</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">featureCollection</span><span class="mtk1">.</span><span class="mtk12">features</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">Anzahl</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">        )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Als erstes haben wir im vorherigen Beispiel das Skript zum Esri Leaflet Plugin eingebunden. Als nächstes haben wir die URL, unter welcher der betreffende Service angeboten wird, in die Variabel <code class="language-text">url</code> gespeichert. Danach haben wir mit dem Code</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">dMap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk11">dynamicMapLayer</span><span class="mtk1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">url:</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">0.25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">useCors:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span></code></pre>
<p>ein <code class="language-text">L.esri.dynamicMapLayer</code>-Objekt erstellt und diesem gleichzeitig Optionen übergeben. Unter anderem die URL. Zuletzt haben wir dann mit dem Code</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">dMap</span><span class="mtk1">.</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">featureCollection</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">featureCollection</span><span class="mtk1">.</span><span class="mtk12">features</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">Bezeichnung</span><span class="mtk1"> +</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk8">&#39;&lt;br&gt;Anzahl: &#39;</span><span class="mtk1"> +</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">featureCollection</span><span class="mtk1">.</span><span class="mtk12">features</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">Anzahl</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">})</span></span></span></code></pre>
<p>jedem Feature ein Pop-up hinzugefügt und in dieses Pop-up die Eigenschaften <code class="language-text">Bezeichnung</code> und <code class="language-text">Anzahl</code> als Text eingetragen. Welche Eigenschaften Ihnen ein Web Service zur Verfügung stellt, finden Sie in der Dokumentation zum jeweiligen Service. Die Adresse zur Dokumentation des hier verwendeten Services hatte ich Ihnen weiter oben schon genannt.</p>
<p>Die nachfolgende Abbildung zeigt Ihnen alle Parkplätze, die im Web Service Behindertenparkplätze des Geoportals Köln eingetragenen sind.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/edeeefe20a319f34b4ea91e3f6c82613/46115/938.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVQoz11Sy27cMAzc//+ontqiQA8Jmm6aLNbZeG09+JBkf8EUpC130cOYoEUNyRmdSimotWJdVyzL4liXBaoFlNn/23mvU1WPrbWtdl0PWH4qpUJE/MLSmhNlEqSUIKIIIYKZHTlnj0baif/HyZiNzNBqBUvFMOmWtwYichKLZSeyvBNYjeEgtItWYNEmsAuiW6FoQYgZLNagIvO/tTt6407uE9oBZfJV1bUqvnqkivsUEFN2cmJBIvHYp7ZoRF3jkwlpiar4BMSKTOykl1HwORM+bncMd8Y4M64j4Tqy6/s45bGyfayLqHonIwuRMAbG64fgdSC8DwFvNwHLpnWpFbSbY4Y+GuQrMwtCFj/8nAjngfF0EXx7YXz/FTAnxnBXlNpAUjGlchjZNew6Hi5PUXGPgpAYzxfG1xfBlyfGz3P06Wxl1oqQTBL1KR/f56GhMfvK+1u0n5eR8eMsjuc/AXPI2OoErRZk3ghN//pA7C53DbtTZXc5ZsXvK+P9lhFjcmfnQN6YREEW98eeMyHG6K7/BflRNwn27yS1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte auf der die Behindertenparkplatze in der Stadt Köln mithilfe eines Webservices angezeigt werden. Sie können Informationen zum Parkplatz in einem Pop-up einsehen."
        title="Eine Karte auf der die Behindertenparkplatze in der Stadt Köln mithilfe eines Webservices angezeigt werden. Sie können Informationen zum Parkplatz in einem Pop-up einsehen."
        src="/static/edeeefe20a319f34b4ea91e3f6c82613/5a190/938.png"
        srcset="/static/edeeefe20a319f34b4ea91e3f6c82613/772e8/938.png 200w,
/static/edeeefe20a319f34b4ea91e3f6c82613/e17e5/938.png 400w,
/static/edeeefe20a319f34b4ea91e3f6c82613/5a190/938.png 800w,
/static/edeeefe20a319f34b4ea91e3f6c82613/c1b63/938.png 1200w,
/static/edeeefe20a319f34b4ea91e3f6c82613/46115/938.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="geocoding" style="position:relative;"><a href="#geocoding" aria-label="geocoding permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Geocoding</h3>
<p>Was ist <a href="https://de.wikipedia.org/w/index.php?title=Georeferenzierung">Geocoding</a>[^de.wikipedia.org/w/index.php?title=georeferenzierung]? Geocoding bezeichnet die Umwandlung von Adressen wie <em>'Kirchstraße 13, 56571 Muster'</em> in geografische Koordinaten wie <em>'50.423021 Breite'</em> und <em>'7.083739 Länge'</em>. Nur so können Sie nämlich einen Marker auf einer Karte platzieren oder die Karte an einer bestimmten Adresse zentriert öffnen.</p>
<blockquote>
<p>Nicht nur ESRI bietet Geocoding Dienste an. Auch OpenStreetMap bietet Ihnen diesen Service. <a href="https://nominatim.openstreetmap.org">Nominatim</a>[^nominatim.openstreetmap.org] ist eine Anwendung, mithilfe derer OpenStreetMap Daten anhand von Texten durchsucht werden können. Diese Texte sind in der Regel eine Adresse oder ein Teil einer Adresse. Falls der Suchtext mit einer Eigenschaft eines OpenStreetMap-Objektes, übereinstimmt, wird die Koordinate zu diesem Objekt auf eine Suchanfrage hin zurückgegeben.</p>
</blockquote>
<blockquote>
<p>Da Nominatim auf OpenStreetMap Daten beruht, können Sie sich nicht darauf verlassen, dass alle Adressen eingetragen sind. OSM ist keine kommerzielle Firma, sondern ein Projekt das auf der Mitarbeit von Freiwilligen beruht. Dafür können Sie aber selbst Einfluss auf den Datenbestand nehmen. Bei OpenStreetMap kann jeder mitmachen: <a href="http://wiki.openstreetmap.org/wiki/DE:Getting_Involved">http://wiki.openstreetmap.org/wiki/DE:Getting_Involved</a>[^wiki.openstreetmap.org/wiki/de:getting_involved]. Ein Pluign, dass unter anderem Nominatim als Service nutze, ist das Plugin <a href="https://github.com/perliedman/leaflet-control-geocoder">Leaflet Control Geocoder</a>[^github.com/perliedman/leaflet-control-geocoder]. Letzteres sehen wir uns im nächsten Kapitel an.</p>
</blockquote>
<p>Ich zeige Ihnen in diesem Kapitel anhand des <a href="https://github.com/Esri/esri-leaflet-geocoder">ESRI Leaflet Geocoder Plugins</a>[^github.com/esri/esri-leaflet-geocoder] folgendes:</p>
<ul>
<li>Ich zeige Ihnen, wie Sie eine Adresse in eine Koordinate umwandeln können.</li>
<li>Ich zeige Ihnen, wie Sie eine Koordinate in eine Adresse umwandeln können.</li>
<li>Ich zeige Ihnen, wie Sie eine Karte so öffnen können,
dass eine bestimmte Adresse zentriert angezeigt wird.</li>
</ul>
<h4 id="nach-eingabe-einer-adresse-den-passenden-ort-auf-der-karte-finden" style="position:relative;"><a href="#nach-eingabe-einer-adresse-den-passenden-ort-auf-der-karte-finden" aria-label="nach eingabe einer adresse den passenden ort auf der karte finden permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nach Eingabe einer Adresse den passenden Ort auf der Karte finden</h4>
<p>Sie zeigen eine Karte auf Ihrer Website an und möchten es anderen ermöglichen, zu einer bestimmten Adresse auf der Karte zu navigieren, nachdem Sie diese Adresse in einem Textfeld eingetragen haben. Dann integrieren Sie doch einfach ein ESRI Leaflet Geocoder Control in Ihre Karte. Wie Sie dies tun können zeigt Ihnen das nächste Beispiel.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_938.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-geocoder.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-geocoder.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 300px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.97264</span><span class="mtk1">, </span><span class="mtk7">7.00469</span><span class="mtk1">], </span><span class="mtk7">12</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">searchControl</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">geosearch</span><span class="mtk1">().</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">results</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">layerGroup</span><span class="mtk1">().</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">searchControl</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;results&#39;</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">data</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk11">clearLayers</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">i</span><span class="mtk1"> = </span><span class="mtk12">data</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1"> - </span><span class="mtk7">1</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1"> &gt;= </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1">--) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk11">addLayer</span><span class="mtk1">(</span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">(</span><span class="mtk12">data</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Zur Darstellung des Textfeldes für die Eingabe der Adresse ist es notwendig zwei weitere Skripte einzubinden. Neben dem Skript <code class="language-text">esri-leaflet.js</code> sollten Sie auch noch die Dateien <code class="language-text">esri-leaflet-geocoder.css</code> und <code class="language-text">esri-leaflet-geocoder.js</code> in Ihr HTML-Dokument einbinden. Die notwendigen Dateien hierfür finden Sie unter der Adresse <a href="https://github.com/Esri/esri-leaflet-geocoder">https://github.com/Esri/esri-leaflet-geocoder</a>. Als nächstes wird dann mit <code class="language-text">var searchControl = L.esri.Geocoding.geosearch().addTo(mymap);</code> das Eingabefeld für die zu suchende Adresse erstellt und zur Karte hinzugefügt. Dieses Eingabefeld nennt Leaflet auch Control. Wir brauchen eine Ebene, die die Suchergebnisse richtig verarbeitet. Diese erstellen wir mit der Zeile <code class="language-text">var results = L.layerGroup().addTo(mymap);</code>. Zum Schluss können wir dann das Ereignis <code class="language-text">on("results")</code> des Objektes <code class="language-text">searchControl</code> mit einer Funktion belegen.</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">searchControl</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;results&#39;</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">data</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk11">clearLayers</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">i</span><span class="mtk1"> = </span><span class="mtk12">data</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1"> - </span><span class="mtk7">1</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1"> &gt;= </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1">--) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">results</span><span class="mtk1">.</span><span class="mtk11">addLayer</span><span class="mtk1">(</span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">(</span><span class="mtk12">data</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">})</span></span></span></code></pre>
<p>Wenn es neue Suchergebnisse gibt, dann werden alle alten Suchergebnisse von der Ebene entfernt und die neuen Suchergebnisse als Marker auf der Ebene platziert.</p>
<blockquote>
<p>Ihre Adresse wird nicht auf der Karte gefunden? Das ESRI Leaflet Geocoder Control findet mithilfe der <a href="http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html">Methode <code class="language-text">geosearch()</code></a>[^esri.github.io/esri-leaflet/api-reference/controls/geosearch.html] standardmäßig nur Adressen, die aktuell auch sichtbar auf der Karte sind. Erst wenn Ihre - sicher vorhandene - Adresse auch bei einer Zoom-Stufe von 0 nicht gefunden wird, stimmt etwas nicht. Falls Sie lieber sofort die ganze Welt durchsuchen möchten, dann sollten Sie die Option <code class="language-text">useMapBounds</code> des Objektes, das Ihnen die Funktion <code class="language-text">L.esri.Geocoding.geosearch()</code> liefert, mit <code class="language-text">false</code> belegen.</p>
</blockquote>
<p>Die erste Ansicht der Karte nach dem Hinzufügen des ESRI Leaflet Geocoder Control Plugins ist nicht spektakulär. Sie sehen in der linken oberen Ecke eine kleine Lupe. Wenn Sie diese anklicken, öffnet sich ein Textfeld. In dieses Textfeld können Sie nun die Adresse eingeben, nach der Sie suchen möchten. Standardmäßig werden Ihnen alternative Eingaben vorgeschlagen. Sie können das Verhalten des Plugins mit vielen Optionen beeinflussen. Sehen sich die Dokumentation unter Adresse <a href="http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html">http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html</a> an. Vielleicht ist da sogar eine Option dabei, auf die Sie selbst nicht gekommen wären, die sie aber als nützlich ansehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a0fb94013d7b37745846cf575aed8552/46115/937.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVQoz2VSQZLDIAzL/5/YU7tNCBhwYKZ378iJWJo9KA4gC8tmKaWYHs3652Otd2utOUqplqJY791U1WqtHp2vasdxOA/nBNaLhGDl8TB9Pq2JWFW1nLOFsJ9xCyYijhijR4hS+I6lt2aa0omLBHIt1W98v9d/QvinACoFhiA+krNXFmP6soQYtt3tYj3bJnjGnAXecQAxkewEAqRtC14h1mgBgSpTSh7nyxbYIhmRljAU7CHp9foZfaTIvcpvyxcBN81JFFzXbSQymTngzANyy3crFEOE2Hwhn9CMeTAuSKsU4a34x1BKOff10Iv3VxErHj2kTfawVh1rABViKOANjler/qxmYZ8y+8FJEawQYvv1yPESvK+5WJI8zrEfQvB+/wJAeDuYfyMHxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Nach Eingabe einer Adresse den passenden Ort auf der Karte finden."
        title="Nach Eingabe einer Adresse den passenden Ort auf der Karte finden."
        src="/static/a0fb94013d7b37745846cf575aed8552/5a190/937.png"
        srcset="/static/a0fb94013d7b37745846cf575aed8552/772e8/937.png 200w,
/static/a0fb94013d7b37745846cf575aed8552/e17e5/937.png 400w,
/static/a0fb94013d7b37745846cf575aed8552/5a190/937.png 800w,
/static/a0fb94013d7b37745846cf575aed8552/c1b63/937.png 1200w,
/static/a0fb94013d7b37745846cf575aed8552/46115/937.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="mithilfe-eines-parameters-in-der-url-den-passenden-ort-finden" style="position:relative;"><a href="#mithilfe-eines-parameters-in-der-url-den-passenden-ort-finden" aria-label="mithilfe eines parameters in der url den passenden ort finden permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mithilfe eines Parameters in der URL den passenden Ort finden</h4>
<p>Manchmal kommt es vor, dass Sie eine Karte schon an einer bestimmten Adresse zentriert öffnen möchten. Wie Sie so etwas umsetzten können, zeigt Ihnen das nächste Beispiel.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_937.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-geocoder.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 300px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">x</span><span class="mtk1"> = </span><span class="mtk12">location</span><span class="mtk1">.</span><span class="mtk12">search</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">y</span><span class="mtk1"> = </span><span class="mtk12">x</span><span class="mtk1">.</span><span class="mtk11">split</span><span class="mtk1">(</span><span class="mtk8">&#39;=&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">temp</span><span class="mtk1"> = </span><span class="mtk12">y</span><span class="mtk1">[</span><span class="mtk7">1</span><span class="mtk1">]</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">address</span><span class="mtk1"> = </span><span class="mtk11">decodeURIComponent</span><span class="mtk1">(</span><span class="mtk12">temp</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.97264</span><span class="mtk1">, </span><span class="mtk7">7.00469</span><span class="mtk1">], </span><span class="mtk7">3</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">geocode</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">text</span><span class="mtk1">(</span><span class="mtk12">address</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">run</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">result</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">setView</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">, </span><span class="mtk7">13</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was haben wir genau gemacht? Angenommen, wir haben in der Adresszeile des Browsers den Text <code class="language-text">?test=56751 Gering</code> an die URL angefügt. Dieser Text würde im Beispiel als erstes in der Variablen <code class="language-text">x</code> gespeichert. Hierzu wird die <a href="https://wiki.selfhtml.org/index.php?title=JavaScript/Location/search">Eigenschaft <code class="language-text">location.search</code></a>[^wiki.selfhtml.org/index.php?title=javascript/location/search] zu Hilfe genommen. Diese Eigenschaft speichert eine Zeichenkette die, durch ein Fragezeichen getrennt, zur aktuellen URL gehört. Die Variable <code class="language-text">x</code> enthält also nun den Text <code class="language-text">test=56729 Kehrig</code>. Diesen Text haben wir dann mithilfe von <code class="language-text">x.split("=")</code> an der Position des Gleichheitszeichens getrennt und die beiden Teile als Array in der Variablen <code class="language-text">y</code> gespeichert. Den Adressteil können wir nun über <code class="language-text">y[1]</code> abrufen. Wir müssen die Adresse vor der Eingabe in eine Suchfunktion aber noch dekodieren. In der URL wurde diese nämlich kodiert. <code class="language-text">var address = decodeURIComponent(temp)</code> macht aus <code class="language-text">56729%20Kehrig</code> wieder <code class="language-text">56729 Kehrig</code> und speichert den dekodierten Text in der Variablen <code class="language-text">address</code> ab. Und diesen Text können wir nun als Suchtext in die Methode <code class="language-text">text()</code> des Geocode Objektes eingeben und auf dem Ergebnis die Methode <code class="language-text">run()</code> ausführen.</p>
<blockquote>
<p>Weitere Informationen zu <code class="language-text">decodeURIComponent()</code> finden Sie unter der Adresse <a href="https://wiki.selfhtml.org/index.php?title=JavaScript/decodeURIComponent">https://wiki.selfhtml.org/</a>[^wiki.selfhtml.org/index.php?title=javascript/decodeuricomponent].</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="js" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">geocode</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">text</span><span class="mtk1">(</span><span class="mtk12">address</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">run</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">result</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">setView</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">.</span><span class="mtk12">results</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">latlng</span><span class="mtk1">,</span><span class="mtk7">13</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">});</span></span></span></code></pre>
<p>Die Rückruffunktion, die daraufhin ausgeführt wird, erstellt einen Marker für das erste Ergebnis und zentriert diesen Marker, bei einer Zoom-Stufe von 13, in der Karte. Eine <a href="https://de.wikipedia.org/w/index.php?title=R%C3%BCckruffunktion">Rückruffunktion</a>[^de.wikipedia.org/w/index.php?title=r%c3%bcckruffunktion] ist eine Funktion, die einer anderen Funktion als Parameter übergeben und von dieser erst später, unter definierten Bedingungen mit definierten Argumenten, aufgerufen wird. Eine solche Funktion kennen Sie sicher auch unter dem englischen Namen <code class="language-text">callback function</code>.</p>
<p>Möchten Sie die Suchanfrage genauer formulieren? Dann ersetzen Sie den Text</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">geocode</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">text</span><span class="mtk1">(</span><span class="mtk8">&#39;Amselweg 7, Koblenz, Rheinland Pfalz, 65065&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">run</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">results</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">});</span></span></span></code></pre>
<p>mit</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">geocode</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">address</span><span class="mtk1">(</span><span class="mtk8">&#39;Amselweg 7&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">city</span><span class="mtk1">(</span><span class="mtk8">&#39;Koblenz&#39;</span><span class="mtk1">).</span><span class="mtk11">region</span><span class="mtk1">(</span><span class="mtk8">&#39;Rheinland Pfalz&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">postal</span><span class="mtk1">(</span><span class="mtk7">65065</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">.</span><span class="mtk11">run</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">err</span><span class="mtk1">, </span><span class="mtk12">results</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">});</span></span></span></code></pre>
<p>Welche Funktionen Sie genau verwenden können, ist in der Dokumentation beschrieben: <a href="https://esri.github.io/esri-leaflet/api-reference/tasks/geocode.html">https://esri.github.io/</a>[^esri.github.io/esri-leaflet/api-reference/tasks/geocode.html].</p>
<p>Voilà! Wenn sie an die URL, unter der Sie Ihre Leaflet Karte abegelegt haben, den Text <code class="language-text">?test=56751 Gering</code> anhängen, wird Ihnen die in der nachfolgenden Abbildung dargestellte Karte angezeigt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVQoz12S646bMBSEef8XqqpWq+5K+6NSEm42xAESwNwhgWQfYKo5G2+r/hhsiePxd+bY69oejW2RnQrEUYqhH3G/b6K+H6DVEYk2Iu61MtDa4FyUOB4zKHWUusfjgbpu4BX5BWVl0fUD/EMMYwrcthXb/Y48v2C3i+D7Cod9hChMEPhK6ng5L2maDuu64na7YZ4XeMMwoq0tqkslSuMU92VBX1skoUa0j3DYhUJ3vV7RNC1OppB1HCcxoqGT9/j4QP17h+LtHZdIw/z8hSEIob6/wLy+w3z7gfjlDbYb0LcdxnEUE0biyHiRM/b4OaYZ8lMhWYSBQhBo0WEfIwqUtFeEGjbWXwe5/r+nxHCeZ0zTjHVbZTjMy2Wl4hRpdkGsc6zLjOVJQ6plWb7ouFLetm2SBQPlgELS+epv+HGKurIyQXbAfdt2YPbOhIbO3HPIVWWFjCZU8JwsnwaNSM6p1rUVAOlo/SRzHpIhydLkJCT/Grm2SeMOspbm0zShbXu0TSdGHBQJeZFX5CXM84HyaThCiu2z8PONzWJKsr7rpZb/GQFhrG0lb48/SHM+l3LI1o0UOtM0PSHLzkLmwj+XFnvG47Mmeg4vQZoY/AEFzhyVtsBVJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Mithilfe eines Parameters in der URL den passenden Ort finden."
        title="Mithilfe eines Parameters in der URL den passenden Ort finden."
        src="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/5a190/936.png"
        srcset="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/772e8/936.png 200w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/e17e5/936.png 400w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/5a190/936.png 800w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/c1b63/936.png 1200w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="nach-klick-auf-die-karte-die-passende-adresse-ausgeben" style="position:relative;"><a href="#nach-klick-auf-die-karte-die-passende-adresse-ausgeben" aria-label="nach klick auf die karte die passende adresse ausgeben permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nach Klick auf die Karte die passende Adresse ausgeben</h4>
<p>Umgekehrtes Geocoding ist die Bezeichnung für die Umwandlung geografischer Koordinaten in, für Menschen gut lesbare, Adressen. Sie wissen ja schon, dass Leaflet bei einem Klick mit der Maus auf die Karte die Koordinaten in einem Objekt speichert. Nun möchten Sie aber gerne anstelle der Koordinaten wissen, welche Adresse Sie gerade angeklickt haben. Das nächste Beispiel zeigt ihnen, wie Sie dies erreichen können.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_936.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet-geocoder.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 300px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, { </span><span class="mtk12">doubleClickZoom:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1"> }).</span><span class="mtk11">setView</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.97264</span><span class="mtk1">, </span><span class="mtk7">7.00469</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">12</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;click&#39;</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">e</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">r</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk12">Geocoding</span><span class="mtk1">.</span><span class="mtk11">reverseGeocode</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">latlng</span><span class="mtk1">(</span><span class="mtk12">e</span><span class="mtk1">.</span><span class="mtk12">latlng</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">run</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">error</span><span class="mtk1">, </span><span class="mtk12">result</span><span class="mtk1">, </span><span class="mtk12">response</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">removeLayer</span><span class="mtk1">(</span><span class="mtk12">r</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">r</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">.</span><span class="mtk12">latlng</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">              .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">              .</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk12">result</span><span class="mtk1">.</span><span class="mtk12">address</span><span class="mtk1">.</span><span class="mtk12">Match_addr</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">              .</span><span class="mtk11">openPopup</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">          })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Das haben wir gemacht? Wir haben veranlasst, dass immer zu dem Zeitpunkt, zu dem jemand auf die Karte klickt, eine umgekehrte Geocoding Suche gestartet wird. Genau habe wir dies mit dem Programmcode, der in der Funktion <code class="language-text">mymap.on('click', function(e){}</code> ausgeführt wird, erreicht. Gleichzeitig wird ein Marker an der Position, die angeklickt wurde, erstellt. Das Ergebnis der Suche – also die gefundene Adresse – wird schlussendlich als Text in einem Pop-up zum Marker angezeigt. Wie dieses Pop-up aussieht, können Sie sich in der nächsten Abbildung ansehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVQoz12S646bMBSEef8XqqpWq+5K+6NSEm42xAESwNwhgWQfYKo5G2+r/hhsiePxd+bY69oejW2RnQrEUYqhH3G/b6K+H6DVEYk2Iu61MtDa4FyUOB4zKHWUusfjgbpu4BX5BWVl0fUD/EMMYwrcthXb/Y48v2C3i+D7Cod9hChMEPhK6ng5L2maDuu64na7YZ4XeMMwoq0tqkslSuMU92VBX1skoUa0j3DYhUJ3vV7RNC1OppB1HCcxoqGT9/j4QP17h+LtHZdIw/z8hSEIob6/wLy+w3z7gfjlDbYb0LcdxnEUE0biyHiRM/b4OaYZ8lMhWYSBQhBo0WEfIwqUtFeEGjbWXwe5/r+nxHCeZ0zTjHVbZTjMy2Wl4hRpdkGsc6zLjOVJQ6plWb7ouFLetm2SBQPlgELS+epv+HGKurIyQXbAfdt2YPbOhIbO3HPIVWWFjCZU8JwsnwaNSM6p1rUVAOlo/SRzHpIhydLkJCT/Grm2SeMOspbm0zShbXu0TSdGHBQJeZFX5CXM84HyaThCiu2z8PONzWJKsr7rpZb/GQFhrG0lb48/SHM+l3LI1o0UOtM0PSHLzkLmwj+XFnvG47Mmeg4vQZoY/AEFzhyVtsBVJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Nach Klick auf die Karte die passende Adresse ausgeben."
        title="Nach Klick auf die Karte die passende Adresse ausgeben."
        src="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/5a190/936.png"
        srcset="/static/2d4b055ec103b4b41e6d7d8a3a593d5a/772e8/936.png 200w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/e17e5/936.png 400w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/5a190/936.png 800w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/c1b63/936.png 1200w,
/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Die Dokumentation zum ESRI Reverse Geocoding finden Sie unter der Internetadresse [<a href="http://esri.github.io/%5D(">http://esri.github.io/](</a><a href="http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html%5D%5B%5Eesri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html%5D">http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html][^esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html]</a>.</p>
<h3 id="feature-services" style="position:relative;"><a href="#feature-services" aria-label="feature services permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feature Services</h3>
<p>Im vorletzten Kapitel haben wir mit dem <code class="language-text">L.esri.dynamicMapLayer</code> Daten über einen Webservice geladen. Dabei wurden alle zur Verfügung stehenden Daten auf der Karte angezeigt. Das kann sehr unübersichtlich werden. Meist bietet ein Webservice große Datenmengen an. Sie möchten sicherlich nur die für Sie und Ihre Anwender relevanten Daten auf Ihrer Karte anzeigen. Eine Lösung für diese Aufgabe erarbeiten wir in diesem Kapitel.</p>
<p>In diesem Beispiel werden wir die <a href="https://esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html">Klasse <code class="language-text">L.esri.featureLayer</code></a>[^esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html] instanziieren. Vorher haben wir mit der Klasse <a href="https://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html"><code class="language-text">L.esri.dynamicMapLayer</code></a>[^esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html] gearbeitet. Vielleicht fragen Sie sich nun, wie die beiden Klassen sich genau unterscheiden. ESRI erklärt dies wie folgt: Mit einem <a href="http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002w8000000">Feature-Service</a>[^resources.arcgis.com/de/help/main/10.2/index.html#//0154000002w8000000]
können Sie Funktionen über das Internet bereitstellen. Mit dem <a href="http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002m7000000">Karten-Service</a>[^resources.arcgis.com/de/help/main/10.2/index.html#//0154000002m7000000] können Sie Karten im Web bereitstellen. Meiner Meinung nach ist ein <em>Feature Service</em> ein spezieller <em>Karten-Service</em> – denn ein Feature Service setzt eine Karte voraus.</p>
<blockquote>
<p>Interessieren Sie sich für die technologische Entwicklung beim ESRI? Die wichtigsten Informationen zur ArcGIS Plattform und zu ergänzenden Technologien können Sie auf dem Blog GIS IQ – <a href="https://gis-iq.esri.de">https://gis-iq.esri.de/</a> – mitverfolgen.</p>
</blockquote>
<h4 id="attribute" style="position:relative;"><a href="#attribute" aria-label="attribute permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribute</h4>
<p>So, nun kommen wir zum praktischen Beispiel. Wir konfigurieren eine Abfrage zum Filtern von Daten. Konkret verwenden wir Daten zur Bodengeologie, deren Daten über die Adresse <a href="https://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer">https://services.arcgis.com</a>[^services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer (t<em>beispieldateien_zum</em>)] bereit gestellt werden.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="18"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_935.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">select</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;bodengeologieID&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Reset</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Saure regionalmetamorphe Gesteine&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">        Saure regionalmetamorphe Gesteine</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;fluvioglaziale Sedimente&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        fluvioglaziale Sedimente</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Kalkstein&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Kalkstein</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Geschiebelehm/Geschiebemergel&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        Geschiebelehm/Geschiebemergel</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Mergel&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Mergel</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Toniger Lehm&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Toniger Lehm</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Tiefengesteine bzw. Plutonite&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        Tiefengesteine bzw. Plutonite</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;keine Informationen&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">        keine Informationen</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Basische bis ultrabasische vulkanischen Gesteine (Vulkanite)&#39;&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">        Basische bis ultrabasische vulkanischen Gesteine (Vulkanite)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Löss&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Löss</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Residualton&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Residualton</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Fluviale Tone, Schluffe und Lehme&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">        Fluviale Tone, Schluffe und Lehme</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Sandstein&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Sandstein</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Sande der Flussterrassen&#39;&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">        Sande der Flussterrassen</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Tonstein&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Tonstein</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Steiniger Lehm&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Steiniger Lehm</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Residuallehm&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Residuallehm</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;PARAMADOTXT=&#39;Schiefer&#39;&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Schiefer</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">select</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">12</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk8">&#39;http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer/0&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">bodengeologie</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">getElementById</span><span class="mtk1">(</span><span class="mtk8">&#39;bodengeologieID&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">featureLayer</span><span class="mtk1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">url:</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">popupTemplate</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk8">&#39;&lt;h3&gt;Details:&lt;/h3&gt;</span><span class="mtk6">\n\</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk8">PARAMADOTXT: {PARAMADOTXT}&lt;br&gt;&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1">.</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">layer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk10">console</span><span class="mtk1">.</span><span class="mtk11">log</span><span class="mtk1">(</span><span class="mtk12">layer</span><span class="mtk1">.</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">Util</span><span class="mtk1">.</span><span class="mtk11">template</span><span class="mtk1">(</span><span class="mtk12">popupTemplate</span><span class="mtk1">, </span><span class="mtk12">layer</span><span class="mtk1">.</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">bodengeologie</span><span class="mtk1">.</span><span class="mtk11">addEventListener</span><span class="mtk1">(</span><span class="mtk8">&#39;change&#39;</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1"> () {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1">.</span><span class="mtk11">setWhere</span><span class="mtk1">(</span><span class="mtk12">bodengeologie</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was macht der Programmcode in diesem Beispiel konkret. Zunächst wird mit dem Befehl <code class="language-text">var bodengeologieLayer = L.esri.featureLayer({ url: url }).addTo(mymap);</code> ein <code class="language-text">L.esri.featureLayer</code> Objekt erstellt und dieses zur Karte hinzugefügt. Der nächste Schritt ist das Filtern der Daten. Dies erreichen wir mit der Zeile <code class="language-text">bodengeologieLayer.setWhere(bodengeologie.value);</code>, wichti ist der Einschub <code class="language-text">setWhere</code>. Das Ergebnis sehen Sie in der nächsten Abbildung. Wenn Sie in der Auswahlliste den Eintrag <em>Schiefer</em> auswählen, werden nur die Regionen in denen Schiefer vorkommt, auf der Karte als Bereich angezeigt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/eb47f424c754cfbe8f427836ae4464d8/53ac9/935a.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVQoz42SW2/CMAyF+///3CbtYRfEBoUWaHxJAxQqVTqTk6ULTEh7sJLY1snnk1TaNDg1Dfq+RzgecQwh7i+XAdfriHH8f0zThIq7DlzXoMUCstlARMBMaA8SwxHHnIr81NL5Pix/Pp9RiSo0BOz3e1DbzkVihari4ASdoySqOq/3YflhGFDlBuccuLgxNQq8V6zbRGq5TPhQMNIQ3RTSms5GenC/QraWvSV5FDSxUjBSiMKseK09HCtCr/jYmDBH6ixaemoa0cNMmG/yquhIsd4pnpYeRAyvjFXr8V4rVBjO0Q1ptmL20A6uML4jwctXEhbhKLLaeSy2PnqaBcqxDWoe2YqxQQjLreKt9gg+PUr20va9lxuiknAeefZQOH6R588eXh/9N/3jXZ4qE34DB6n1fXgOzs8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Karte zur Veranschaulichung der Bodengeologie mithilfe eines Feature Layer Service."
        title="Karte zur Veranschaulichung der Bodengeologie mithilfe eines Feature Layer Service."
        src="/static/eb47f424c754cfbe8f427836ae4464d8/5a190/935a.png"
        srcset="/static/eb47f424c754cfbe8f427836ae4464d8/772e8/935a.png 200w,
/static/eb47f424c754cfbe8f427836ae4464d8/e17e5/935a.png 400w,
/static/eb47f424c754cfbe8f427836ae4464d8/5a190/935a.png 800w,
/static/eb47f424c754cfbe8f427836ae4464d8/c1b63/935a.png 1200w,
/static/eb47f424c754cfbe8f427836ae4464d8/53ac9/935a.png 1287w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="abstand-visualisieren" style="position:relative;"><a href="#abstand-visualisieren" aria-label="abstand visualisieren permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abstand visualisieren</h4>
<p>Ein weiteres Merkmal, das auf Landkarten oft wichtig ist, ist die Entfernung zu einem Punkt. Oft möchte man gerne wissen, welche Objekte sich innerhalb eines bestimmten Abstands zu einer bestimmten Koordinate befinden. Diese Fragestellung beantwortet das nächste Beispiel.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="19"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/5/index_934.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;esri-leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, {}).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">12</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span><span class="mtk1">.</span><span class="mtk11">basemapLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;Gray&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk8">&#39;http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer/0&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">bodengeologie</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">getElementById</span><span class="mtk1">(</span><span class="mtk8">&#39;bodengeologieID&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk12">esri</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">featureLayer</span><span class="mtk1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">url:</span><span class="mtk1"> </span><span class="mtk12">url</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">nearbyIds</span><span class="mtk1"> = []</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;click&#39;</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">e</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">bodengeologieLayer</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">query</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">nearby</span><span class="mtk1">(</span><span class="mtk12">e</span><span class="mtk1">.</span><span class="mtk12">latlng</span><span class="mtk1">, </span><span class="mtk7">5000</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">ids</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> (</span><span class="mtk12">error</span><span class="mtk1">, </span><span class="mtk12">ids</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">j</span><span class="mtk1"> = </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk12">j</span><span class="mtk1"> &lt; </span><span class="mtk12">nearbyIds</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1">; </span><span class="mtk12">j</span><span class="mtk1">++) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">              </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1">.</span><span class="mtk11">setFeatureStyle</span><span class="mtk1">(</span><span class="mtk12">nearbyIds</span><span class="mtk1">[</span><span class="mtk12">j</span><span class="mtk1">], {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;#3388FF&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">              })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">            }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">nearbyIds</span><span class="mtk1"> = </span><span class="mtk12">ids</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">i</span><span class="mtk1"> = </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1"> &lt; </span><span class="mtk12">ids</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1">++) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">              </span><span class="mtk12">bodengeologieLayer</span><span class="mtk1">.</span><span class="mtk11">setFeatureStyle</span><span class="mtk1">(</span><span class="mtk12">ids</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">], {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;#BA454E&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">              })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">            }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">          })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was passiert hier? Zunächst werden im Beispiel Bodengeologien mithilfe des Objektes <code class="language-text">L.esri.featureLayer</code> zur Karte hinzugefügt. Soweit gibt es keinen Unterschied zum vorherigen Beispiel. Danach rufen wir die Funktion <code class="language-text">nearby()</code> des <a href="https://esri.github.io/esri-leaflet/api-reference/tasks/query.html">Objektes <code class="language-text">L.esri.Query()</code></a>[^esri.github.io/esri-leaflet/api-reference/tasks/query.html] für jeden Marker auf. Alle die Marker, die sich in einem Abstand von 5000 Metern befinden, werden im Anschluss rot (#BA454E) gefärbt. Alle anderen bekommen die Farbe Blau (#3388FF);</p>
<p>Das Ergebnis sehen Sie im nächsten Bild. Sobald Sie einen Punkt auf der Karte anklicken, werden alle Geologien im Abstand von 5000 Metern um die angeklickte Stelle rot hervorgehoben.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4e574272f27a1b49223c85bd84ec5fe6/53ac9/935b.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVQoz3VSy24TQRD0/38CIOADOEY5cLCIjCBKpPBwEEYBxyaOd+fRrxG7DqdCPc6aDY9DaWp6u6ure3bCLDCzBxCRioGrauV+Dny4j/lut8MkpQQiqmDmChVCTAnMv2OOIc+b/Cve9z0mTnLeF1Y3Qri8VnxYKnJmsLtVfSAwTDCGx6ugkxDCwSFRRhMFKQtWjSJmhoZQhcfu/ivolxgjcs4HURVGMYFSxu3pGWi9hpiB8rCCP8TGgi407jgkb6Ni+T2j+XIFDi1EBUwZqvLXDk1Hgv4oY9teQCyYXhbcBEXXFbxfGjYtoUmCbeD6PQ8PxIybVhAToe+6vUO5H0NFkEjwZmGYzkuNmxCut4rjdwWPXnV4uxBcfLXDNL6edeP7dYf3go66N2WcXxmOLgo2wQsyQiR8WhmezTo8n3V4fNLj9WdDV/bjet5qK2gTY/fzzgWpCraRauLLjwVE/jN7A8F8ZXhx9gNPTrp6Pp31mM4Nxfaju8tNQ1jcGu6W3/ALNxXtNw+IEEEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Karte zur Veranschaulichung der Bodengeologie mithilfe eines Feature Layer Service. Außerdem werden per Klick die Bodengeologien die in einem bestimmten Abstand zur angeklickten Position liegen farblich hervorgehoben."
        title="Karte zur Veranschaulichung der Bodengeologie mithilfe eines Feature Layer Service. Außerdem werden per Klick die Bodengeologien die in einem bestimmten Abstand zur angeklickten Position liegen farblich hervorgehoben."
        src="/static/4e574272f27a1b49223c85bd84ec5fe6/5a190/935b.png"
        srcset="/static/4e574272f27a1b49223c85bd84ec5fe6/772e8/935b.png 200w,
/static/4e574272f27a1b49223c85bd84ec5fe6/e17e5/935b.png 400w,
/static/4e574272f27a1b49223c85bd84ec5fe6/5a190/935b.png 800w,
/static/4e574272f27a1b49223c85bd84ec5fe6/c1b63/935b.png 1200w,
/static/4e574272f27a1b49223c85bd84ec5fe6/53ac9/935b.png 1287w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="in-diesem-kapitel-haben-wir-" style="position:relative;"><a href="#in-diesem-kapitel-haben-wir-" aria-label="in diesem kapitel haben wir  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In diesem Kapitel haben wir …</h2>
<p>In diesem Teil haben wir uns als erstes die Karten, die ESRI anbietet, angesehen. Danach haben wir mit einem Shapefile gearbeitet und ESRI Webservices genutzt. Sie wissen nun was ein <code class="language-text">L.esri.DynamicMapLayer,</code> was Geocoding und was ein <code class="language-text">L.esri.FeatureLayer</code> ist.
<img src="https://vg07.met.vgwort.de/na/d3cd58a707a94d5d96054dc2915f26c1" width="1" height="1" alt=""></p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .default-dark .mtk1 { color: #D4D4D4; }
  .default-dark .mtk12 { color: #9CDCFE; }
  .default-dark .mtk11 { color: #DCDCAA; }
  .default-dark .mtk8 { color: #CE9178; }
  .default-dark .mtk4 { color: #569CD6; }
  .default-dark .mtk3 { color: #6A9955; }
  .default-dark .mtk17 { color: #808080; }
  .default-dark .mtk7 { color: #B5CEA8; }
  .default-dark .mtk15 { color: #C586C0; }
  .default-dark .mtk10 { color: #4EC9B0; }
  .default-dark .mtk6 { color: #D7BA7D; }
  .default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><section id="comments" class="comments container"><h3>Comments</h3><div></div></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/esri-leaflet/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-87f5ae838a3e11ab908d.js"],"app":["/app-22cb55dfda824cdcd61f.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5f1261b30b7ee352090a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7be8df31721789d53c28.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ff96b6ab0b9e02237c1f.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-cc50847cd79f7bcf4507.js"],"component---src-templates-category-js":["/component---src-templates-category-js-49bc4748c0cd1500052b.js"],"component---src-templates-post-js":["/component---src-templates-post-js-e52ae0ae34ca5aa437b9.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-26ffbf608cbeadb83d5e.js"]};/*]]>*/</script><script src="/polyfill-87f5ae838a3e11ab908d.js" nomodule=""></script><script src="/component---src-templates-post-js-e52ae0ae34ca5aa437b9.js" async=""></script><script src="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js" async=""></script><script src="/commons-0f2138c6f91c8ca8f8cc.js" async=""></script><script src="/app-22cb55dfda824cdcd61f.js" async=""></script><script src="/framework-a8bc927eb7481ca28d49.js" async=""></script><script src="/webpack-runtime-ca740af77c191d080be4.js" async=""></script></body></html>