<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.94192faef3675174f929.css" data-identity="gatsby-global-css">pre[class*=language-].line-numbers{padding-left:3.8em}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;left:-3.8em;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--primary:#16868f;--secondary:#16868f;--link-color:#fff;--border-color:#111;--heading-font-color:var(--primary);--background-color:#252525;--sidebar-color:#2b2b2b;--navbar-color:#181818;--navbar-color-hover:#272727;--sidebar-color-hover:#383838;--sidebar-color-focus:#444;--category-background-color:#161616;--category-background-color-hover:#1f1f1f;--light-border-color:#444;--toolbar-background-color:#181818;--toolbar-color:#eee;--font-color:#b3b9c5;--medium-font-color:#aaa;--dark-font-color:#8f949d;--bright-font-color:#eee;--input-background:#393939;--blockquote-background-color:rgba(0,0,0,.4);--blockquote-color:var(--dark-font-color);--black:#111;--inline-code-background-color:hsla(0,0%,100%,.08);--inline-code-color:#b3b9c5;--dark-opacity:rgba(0,0,0,.2);--dark-opacity-hover:rgba(0,0,0,.3);--reverse:#111;--scrollbar:var(--border-color);--scrollbar-track:var(--light-border-color);--yellow:#16868f;--button-color:#6b76f3;--page-width:1000px;--font-family:"Source Serif Pro",-apple-system,BlinkMacSystemFont,"Inter","Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--heading-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font-family:Menlo,"DM Mono","Roboto Mono",Courier New,monospace}*,:after,:before{box-sizing:border-box}a:focus-visible,button:focus-visible{outline:3px solid var(--primary)}body{-webkit-font-smoothing:antialiased;background:var(--navbar-color);color:var(--font-color);font-family:var(--font-family);font-size:1rem;line-height:1.6;margin:0}blockquote,ol,p,table,ul{color:var(--font-color);font-size:1.2rem;margin:0 0 2rem}button{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;border-radius:8px;cursor:pointer;font-family:var(--heading-font-family)}ol li,ul li{margin-bottom:.5rem}ol li p,ul li p{margin:0}ol li ol,ul li ul{margin:.3rem}h1,h2,h3,h4,h5{color:var(--heading-font-color);font-family:var(--heading-font-family);font-weight:600;line-height:1.2;margin:0 0 1.5rem;scroll-margin-top:80px}h3,h4,h5{color:var(--secondary);font-weight:500}a{text-decoration:none}a,a.button{font-family:var(--heading-font-family)}a.button{border:1px solid var(--button-color)!important;border-radius:8px;color:var(--reverse);display:block;font-size:1.1rem;font-weight:600;line-height:1.2;padding:.75rem 1.25rem;text-align:center}a.button,a.button:hover{background:var(--button-color)}a.button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}a.button:active{-webkit-transform:scale(.95);transform:scale(.95)}a.button.icon-button{align-items:center;display:flex}a.button.icon-button img{margin-right:.5rem;max-height:22px}table{border-collapse:separate;border-radius:8px;border-spacing:0;display:block;font-family:var(--heading-font-family);font-size:.95rem;max-width:100%;overflow-x:auto;width:100%}table :not(pre)>code[class*=language-]{font-size:.95rem!important}tbody,thead{white-space:nowrap}th{border-bottom:2px solid var(--light-border-color)}tfoot th{border-top:1px solid var(--light-border-color)}td{border-bottom:1px solid var(--light-border-color)}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;word-break:break-word}tbody tr:nth-child(odd){background-color:var(--dark-opacity)}tbody tr:last-child td:first-of-type{border-bottom-left-radius:8px}tbody tr:last-child td:last-of-type{border-bottom-right-radius:8px}@media screen and (min-width:800px){table{border:1px solid var(--light-border-color);display:table}tbody,thead{white-space:normal}}.sidebar{background:var(--sidebar-color);border-right:1px solid var(--light-border-color);height:100vh;left:0;overflow-x:hidden;overflow-y:hidden;position:fixed;top:0;width:320px;z-index:9}.sidebar:hover{overflow-y:auto}.sidebar .categories{margin-top:60px}.sidebar .title{align-items:center;background:var(--toolbar-background-color);color:var(--font-color);display:flex;font-size:.85rem;font-weight:600;height:35px;justify-content:space-between;padding:0 .5rem 0 2.5rem;position:fixed;text-transform:uppercase;top:0;width:320px;z-index:8}.sidebar button.collapse-categories{height:35px;padding:0 .75rem}.sidebar button.collapse-categories:hover{background:var(--dark-opacity)}.sidebar button.collapse-categories div{border:1px solid var(--font-color);line-height:0;padding:1px 3px}.sidebar button.collapse-categories svg rect{fill:var(--font-color)}.sidebar button.category{align-items:center;background:var(--category-background-color);border:none;border-radius:0;color:var(--bright-font-color);cursor:pointer;display:grid;font-size:.8rem;font-weight:700;grid-template-columns:1.5rem auto;margin-bottom:1px;padding:.75rem 1rem;position:-webkit-sticky;position:sticky;text-align:left;text-transform:uppercase;top:60px;width:100%;z-index:7}.sidebar button.category:hover{background:var(--category-background-color-hover);color:var(--bright-font-color)}.sidebar button.category:focus-visible{background:var(--primary);border-bottom:none;color:var(--reverse)!important;outline:none}.sidebar button.category:focus{color:var(--bright-font-color);outline:none}.sidebar button.category svg{margin-right:.5rem}.sidebar button.category svg path,.sidebar button.category:focus svg path{stroke:var(--bright-font-color)}.sidebar button.category:focus-visible svg path{stroke:var(--reverse)}.sidebar nav{width:320px}.sidebar nav.collapsed{display:none}.sidebar a{align-items:center;border-left:3px solid transparent;color:var(--medium-font-color);display:grid;font-family:var(--heading-font-family);font-size:.85rem;grid-template-columns:2rem auto;line-height:1.2;padding:.4rem 1rem}.sidebar a svg path{-webkit-filter:var(--icon-filter);filter:var(--icon-filter)}.sidebar a:hover{background:var(--sidebar-color-hover);color:var(--bright-font-color)}.sidebar a.active,.sidebar a:focus{background:var(--sidebar-color-focus);border-left:3px solid var(--primary);color:var(--bright-font-color);outline:none}.sidebar a.active svg path{fill:var(--primary)}.container{margin-left:auto;margin-right:auto;max-width:var(--page-width);padding:2rem}.container.large{max-width:1350px}.container.small,.small{max-width:550px}.navigation{background:var(--navbar-color);border-bottom:1px solid var(--light-border-color);height:60px;left:0;position:fixed;top:0;width:100%;z-index:9}.navigation-inner{font-family:var(--heading-font-family);height:100%;margin:0 auto;max-width:var(--page-width);padding:.5rem 1.5rem}.navigation button,.navigation-inner{align-items:center;display:flex;justify-content:space-between}.navigation button{background:transparent;border:none;color:var(--font-color);cursor:pointer;font-weight:500;gap:.5rem;line-height:0;padding:.5rem;position:relative}.navigation button:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation button:focus{outline:none}.navigation button:focus-visible{outline:3px solid var(--primary)}.navigation button span{font-size:.9rem}.navigation button svg rect{fill:var(--font-color)}.navigation nav{gap:.6rem;height:100%}.navigation nav,.navigation nav a{align-items:center;display:flex;justify-content:center}.navigation nav a{border-radius:8px;color:var(--font-color);font-size:.9rem;font-weight:500;gap:.4rem;line-height:1.1;padding:.5rem}.navigation nav a.active{color:var(--bright-font-color)}.navigation nav a.brand{font-size:1rem;font-weight:600}.navigation nav a.brand span{white-space:nowrap}.navigation nav a:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation nav img{max-height:20px;max-width:25px}.theme-switcher{margin-left:.5rem}.theme-switcher img{max-width:20px}.toolbar-section{align-items:center;display:flex;flex:0 0 155px;justify-content:flex-end}.navigation nav .brand-section{flex:0 0 155px;justify-content:flex-start}.hero{padding:1rem 0}.hero .flex-content{align-items:center}.hero header{padding:2rem 0 0;text-align:left}.hero h1{color:var(--bright-font-color);font-size:3rem;margin-bottom:1.5rem}.hero p.subtitle{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.3rem}.hero .hero-buttons{display:flex;gap:1.5rem}.hero-buttons a.hero-button{align-items:center;border:none;color:var(--dark-font-color);display:flex;font-size:.9rem;gap:.4rem;justify-content:space-between}.hero-buttons a.hero-button:hover{background:transparent;border:none;color:var(--font-color)}.hero-buttons a.hero-button img{display:block;max-height:18px}.bright{color:var(--bright-font-color)}article{padding-bottom:3rem}article header{padding-top:2rem;text-align:center}article h1{color:var(--bright-font-color);font-size:2.5rem;font-weight:700;margin-bottom:.75rem}article h2,article h3,article h4,article h5{margin:0 0 1.25rem}article h4{border-bottom:1px solid var(--light-border-color);margin-bottom:.75rem}article .description{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.45rem;margin-bottom:0}.post-image{margin-bottom:1rem}.post-details{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:.9rem;margin:.5rem 0}.post-details a{border-bottom:none}.tags{align-items:center;display:flex;flex-wrap:wrap;font-family:var(--heading-font-family);gap:.5rem;justify-content:center;margin:1.5rem 0}.tags a{border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);display:inline-block;font-size:.9rem;font-weight:600;line-height:normal;padding:.4rem .6rem;vertical-align:middle}.tags a,.tags a:hover{background:var(--reverse)}.tags a:hover{border:1px solid var(--primary);color:var(--primary)}article a{border-top:2px solid transparent;color:var(--link-color);font-weight:600}article a,article a:hover{border-bottom:2px solid var(--primary)}article a:hover{background:var(--primary);border-top:2px solid var(--primary);color:var(--reverse)}article li a,article li a:hover{border-bottom:none;border-top:none}article img{display:block;max-width:100%}article h2{font-size:1.9rem;padding-bottom:.25rem}article h2 code{border-bottom:1px solid var(--border-color);font-size:2.2rem!important}article h3{font-size:1.75rem}article h3 code{font-size:1.6rem!important}article h4{font-size:1.15rem;padding-bottom:.25rem;text-transform:uppercase}article h4 code{font-size:1.25rem!important}article h5{font-size:1rem;text-transform:uppercase}h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}blockquote{background:var(--blockquote-background-color);border:1px solid var(--light-border-color);border-left:4px solid var(--primary);border-radius:8px;font-family:var(--heading-font-family);padding:1.5rem}blockquote p{color:var(--blockquote-color)}blockquote ul{margin-top:1rem}blockquote p:last-of-type,blockquote ul:last-of-type{margin-bottom:0}.comments{padding-bottom:2rem}.comments h3{font-size:1.75rem}.blog-page h2{border-bottom:1px solid var(--light-border-color);margin-top:2.5rem}a.post{grid-gap:1rem;align-items:center;border:1px solid transparent;display:grid;grid-template-columns:auto 60px;margin-left:-1rem;margin-right:-1rem;padding:.4rem 1rem}a.post.new,a.post:hover{background:var(--dark-opacity);border:1px solid transparent;border-radius:8px;font-family:var(--heading-font-family)}a.post.new{background:transparent;border:1px solid transparent}a.post.new:hover{background:var(--dark-opacity)}a.post.new time{color:var(--secondary)!important}a.post.new h3{color:var(--bright-font-color)}a.post.new .new-badge{color:var(--yellow);margin-left:.75rem}a.post h3{color:var(--font-color);-webkit-filter:brightness(1);filter:brightness(1);font-size:1.1rem;font-weight:500;margin:0}a.post:hover h3{color:var(--bright-font-color)}a.post time,a.post:hover time{color:var(--dark-font-color)}a.post time{display:block;font-family:var(--code-font-family);font-size:.8rem;font-weight:400;text-align:center}.projects{display:flex;flex-direction:column}@media screen and (min-width:600px){.projects{grid-gap:2rem;display:grid;grid-template-columns:repeat(auto-fill,300px);justify-content:center}}.project{background:var(--dark-opacity);border:1px solid var(--border-color);border-radius:8px;color:var(--dark-font-color);display:flex;flex-direction:column;padding:1.5rem}.project h2{border-bottom:none;font-size:1.5rem;margin-bottom:0;text-align:center}.project img{height:auto;margin-top:.5rem;max-height:100px;max-width:100%;-o-object-fit:contain;object-fit:contain}.project .description{color:var(--font-color);font-family:var(--heading-font-family);font-size:1.2rem;line-height:1.3;margin-bottom:1rem;text-align:center}.project .links{display:flex;gap:.5rem}.project .stars{align-items:center;display:flex;gap:.75rem;justify-content:center;margin-top:auto}.project .stars img{margin-top:0;max-width:20px}a.anchor.before{border:none}a.anchor.before:hover{background:transparent}a.anchor.before svg{fill:#fff}a.image-link,a.image-link:hover{border-bottom:none;border-top:none}a.image-link:hover{background:none}.primary-color{color:var(--primary)}.primary-underline{border-bottom:3px solid var(--primary)}.deemphasized{color:var(--dark-font-color)}.gatsby-resp-image-wrapper{margin-left:0!important}a.gatsby-resp-image-link{background:transparent!important;border-bottom:none!important;border-top:none!important}.highlighted{background:var(--primary);color:var(--reverse)}.not-found-image{margin:0 auto}.flex{display:flex}.flex-align-center{align-items:center}.flex-justify-between{justify-content:space-between}.flex-content{gap:1.5rem}.flex-content,.main-header{display:flex;justify-content:space-between}.main-header{align-items:center;border-bottom:1px solid var(--light-border-color)}.main-header a{font-size:1rem}.main-image{border:1px solid var(--light-border-color);border-radius:8px;height:auto;margin-left:2rem;width:250px}.search-bar{grid-gap:1rem;align-items:center;display:grid;grid-template-columns:auto 50px}.search-icon{cursor:pointer;max-width:30px}.search-input{-webkit-appearance:none;background:var(--input-background);border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);font-size:1.1rem;line-height:1.1;padding:.75rem 1rem;width:100%}.search-input:active,.search-input:focus,.search-input:hover{border-color:var(--primary)}.search-input:focus{box-shadow:1px 1px 1px var(--primary);-webkit-filter:brightness(1.1);filter:brightness(1.1);outline:none}::-webkit-scrollbar{background:var(--scrollbar);height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scrollbar-track);border-radius:0}::selection{background:var(--primary);color:var(--reverse)}::-moz-selection{background:var(--primary);color:var(--reverse)}::marker{color:var(--primary)}.search-input::-webkit-search-cancel-button{color:var(--bright-font-color)}.collapsed .sidebar{display:none}.desktop-only{display:block!important}main{background:var(--background-color);margin-top:60px;min-height:calc(100vh - 215px)}.footer{background:var(--navbar-color);border-top:1px solid var(--light-border-color);font-family:var(--heading-font-family);padding:3rem 0}.footer section{align-items:center;display:flex;flex-direction:column;gap:1.25rem}.footer img{display:inline-block;max-height:20px;width:auto}.footer nav{display:flex;gap:.25rem;margin:0 1rem}.footer a,.footer span{align-items:center;color:var(--dark-font-color);display:flex;font-size:.9rem;line-height:1.2;padding:0 .5rem}.footer span{color:var(--toolbar-color)}.footer a:hover{color:var(--link-color)}@media screen and (max-width:800px){blockquote,ol,p,table,ul{font-size:1.1rem;margin:0 0 1.5rem}.flex-content{flex-direction:column;gap:.5rem}main{margin-top:60px}ol,ul{padding-left:1rem}.navigation nav.social-nav,.sidebar{display:none}.navigation-inner{justify-content:space-between;padding-right:0}.navigation nav{gap:.5rem}.navigation nav a{flex-direction:column;font-size:.8rem;gap:.25rem;padding:0 .25rem}.navigation nav a:hover{background:transparent}.navigation button.theme-switcher{margin-left:0;margin-right:-.5rem;min-width:auto}.navigation nav a.brand{font-size:.9rem;margin-left:0;margin-right:0;padding:0}.navigation nav img{max-width:20px}.toolbar-section{flex:initial;margin-left:0}.navigation nav .brand-section{flex:initial}.navbar img{max-width:30px}.projects{grid-gap:1rem;grid-template-columns:repeat(2,50%)}.project .stars{justify-content:center}.desktop-only{display:none!important}.hero{padding:0}.hero h1{font-size:2.25rem}.hero header{padding:1rem 0 0}.hero .container{padding-bottom:1rem}.hero p.subtitle{font-size:1.2rem}.hero .flex-content,.hero .hero-buttons{align-items:flex-start}.hero .hero-buttons{flex-direction:column;gap:.5rem}.post-image{max-height:75px;max-width:75px}.main-image{margin:0 0 1rem;width:150px}.flex-content div{order:2}.flex-content img{order:1}.container{padding:1rem}.navigation-inner{padding:0 1rem}article{padding-bottom:0}article h1{font-size:2.2rem;line-height:1.2}article h2{font-size:1.8rem}article header{padding-top:1.5rem}article .description{font-size:1.3rem}a.post h3{font-size:1rem}.project img{max-height:50px}}#resume header{text-align:left}#resume section h2,#resume section h3,#resume section h4,#resume section h5{margin-bottom:1rem;margin-top:0}#resume section h2{border-bottom:1px solid var(--light-border-color);font-size:1.1rem;margin-top:2.5rem;text-transform:uppercase}#resume section h3{align-items:center;display:flex;font-weight:600;justify-content:space-between}#resume section h3 span{display:block;font-size:1rem;font-weight:400}#resume section h3{font-size:1.3rem;margin-bottom:.5rem}#resume section li,#resume section p{font-size:1rem;line-height:1.3}#resume section li{margin-bottom:.5rem}.hidden{display:none}:root{--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--terminal-color:var(--code-font-color)}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.9rem!important;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;background:var(--code-background-color);border:1px solid var(--light-border-color);border-radius:8px;font-family:Menlo,monospace;margin-bottom:2rem;margin-top:2rem;overflow:initial;padding:1rem}:not(pre)>code[class*=language-]{-webkit-font-smoothing:antialiased;background:var(--inline-code-background-color)!important;color:var(--inline-code-color)!important;font-size:1rem!important;font-weight:600;padding:2px 3px;white-space:pre-wrap}article a:hover code{color:var(--reverse)!important}pre.language-text{background:transparent;margin-left:-1.5rem;padding-bottom:0;padding-top:.5rem}.line-numbers-rows{display:none}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:1rem;position:relative}@media screen and (min-width:800px){.line-numbers-rows{display:block}pre.language-text.line-numbers{padding-left:1.5rem!important}pre[class*=language-].line-numbers{padding-left:4rem}pre.language-shell,pre.language-terminal{padding-left:1.5rem!important}pre.language-shell .line-numbers-rows,pre.language-terminal .line-numbers-rows,pre.language-text .line-numbers-rows{display:none}}code.language-text{background:var(--light-background)!important;box-shadow:none;color:var(--font-color)!important}pre.language-text code.language-text{border:none}code.language-shell:before{color:var(--comment);content:"$ "}pre.language-terminal{-webkit-text-size-adjust:none;background:var(--reverse);border:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--font-color);margin:2rem 0;padding-top:3rem;position:relative;white-space:normal}code.language-terminal{-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;color:var(--terminal-color)}pre.language-terminal:before{background:var(--category-background-color);border-bottom:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--dark-font-color);content:"\2022 \2022 \2022";font-size:2.5rem;left:0;letter-spacing:-5px;line-height:0;margin:0;padding:15px 0 12px;position:absolute;text-indent:6px;top:0;width:100%}.line-numbers .line-numbers-rows{border-right:1px solid #444;font-size:100%;left:-3.8rem;letter-spacing:-1px;padding-right:.5rem;pointer-events:none;position:absolute;top:1rem!important;width:3rem!important}.line-numbers-rows>span:before{color:#777}.gatsby-highlight{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;font-size:.9rem;margin-bottom:1.5rem;margin-top:1.5rem;max-width:999999px;overflow-x:auto;overflow-y:hidden}.gatsby-highlight pre[class*=language-]{float:left;margin-bottom:0;margin-top:0;min-width:100%}.gatsby-highlight-code-line{background-color:#222;border-left:.25rem solid #74cf74;display:block;margin-left:-1.25rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem}.filename{align-items:center;background:#171717;border-top-left-radius:8px;border-top-right-radius:8px;color:#ccc;display:flex;font-family:var(--heading-font-family);font-size:.9rem;line-height:1;margin-bottom:-2rem;padding:.5rem 1.5rem .9rem}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-jsx .token.class-name{color:var(--tag)!important}code::selection,pre::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}pre[class*=language-]{margin-bottom:1.5rem;margin-top:1.5rem}.filename{margin-bottom:-1.9rem}.light{--primary:#16868f;--secondary:#444;--heading-font-color:#222;--link-color:#111;--border-color:#bbb;--light-border-color:#e0e0e0;--background-color:#fff;--sidebar-color:#f0f0f0;--navbar-color:#f0f0f0;--navbar-color-hover:#ddd;--sidebar-color-hover:#dedede;--sidebar-color-focus:#fff;--category-background-color:#d5d5d5;--category-background-color-hover:silver;--toolbar-color:#333;--toolbar-background-color:#f0f0f0;--font-color:#454545;--medium-font-color:#555;--dark-font-color:#888;--input-background:transparent;--bright-font-color:#222;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fff;--terminal-color:var(--bright-font-color);--scrollbar:#888;--scrollbar-track:#bbb;--yellow:#16868f;--button-color:var(--primary)}.light pre[class*=language-]{border-color:var(--heading-font-color)}.light pre.language-terminal,.light table{border-color:var(--border-color)}.light blockquote{border-left-color:var(--border-color);border-color:var(--border-color) var(--border-color) var(--border-color) var(--primary)}.sepia{--primary:#6c71c4;--secondary:#cb4b16;--heading-font-color:#211806;--link-color:#332810;--border-color:#332810;--light-border-color:#6b4a00;--background-color:#ebdbb2;--sidebar-color:#fef0cf;--navbar-color:#f0d69a;--navbar-color-hover:#e2c175;--sidebar-color-hover:#eed18e;--sidebar-color-focus:#fff6e3;--category-background-color:#d8ba76;--category-background-color-hover:#c8a961;--toolbar-color:#332810;--toolbar-background-color:#fdf6e3;--font-color:#372e19;--medium-font-color:#6b4a00;--dark-font-color:#6b4a00;--input-background:transparent;--bright-font-color:#211806;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fdf6e3;--terminal-color:var(--bright-font-color);--scrollbar:#a48337;--scrollbar-track:#c8a961;--yellow:#e59e32;--button-color:var(--primary)}.sepia .comments{background:#444;border-radius:8px;margin-bottom:2rem;padding:2rem}.sepia pre[class*=language-]{border-color:var(--heading-font-color)}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">docker-lamp einrichten | Astrid Günther</title><meta data-react-helmet="true" name="description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de/ubuntu-docker-lamp-einrichten/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="docker-lamp einrichten"/><meta data-react-helmet="true" property="og:description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="docker-lamp einrichten"/><meta data-react-helmet="true" name="twitter:description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de","name":"docker-lamp einrichten","alternateName":"docker-lamp einrichten"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de/ubuntu-docker-lamp-einrichten/","name":"docker-lamp einrichten","image":"https://blog.astrid-guenther.de/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de","name":"docker-lamp einrichten","alternateName":"docker-lamp einrichten","headline":"docker-lamp einrichten","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png"},"description":"Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"}]</script><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-a96efd9e91f9049fb541.js"/><link as="script" rel="preload" href="/framework-a8bc927eb7481ca28d49.js"/><link as="script" rel="preload" href="/app-24df0ae8e19938884045.js"/><link as="script" rel="preload" href="/commons-711ca7686977bac14a85.js"/><link as="script" rel="preload" href="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-5bf317be5f8d2d313ff1.js"/><link as="fetch" rel="preload" href="/page-data/ubuntu-docker-lamp-einrichten/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/352937542.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article class="h-entry"><section class="p-author h-card hidden"><p><a class="u-url" href="https://blog.astrid-guenther.de/ubuntu-docker-lamp-einrichten/">Astrid Günther</a>created by<img src="/static/me-f1824a760e002339b4da1b33f0f0b776.jpg" alt="Me" class="u-photo"/><span class="p-name" rel="me">Astrid Günther</span>in<span class="p-country-name">Germany</span>.</p><p><span class="p-note">Hi, I’m Astrid, webworker, writer and I like open-source.</span></p></section><header><div class="container"><div class="post-details"><div><div class="post-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:150px;height:150px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADVUlEQVQ4y6WVX2gURxzHpylcTMkf4u7mmiKILUV88CHYij0lieZyu3exNh5IAn0IQY2RpLEUKxRBDHnRo/ElEv+gKGgxpfQtpUh9EB9UfFBf8nA3s73cbdTksvnTeomUvZuvzOzdeacmCl0YdmBnP/P7853vEKYrpGiUyXer4mG60sl0ZYzpCmW6ks4NygxtzNz9Seffez/1MEMlzNDKihn5yQeTen1+Hma6EmO6gsIw1FfvQC1o80dw4WqYGRph7V7JKAAToXpi6qqYR4pADjM0xwx5s8xQOQtqnAVqs+aedY7Vt9ORawJrxSYRZiiEhb2FCPMh52EZZqgZs80LuquKx3xlnPmruZjTxnKevn+TA8D8Lz9naOOajBmsE/9EzFzJitPMw0REiG4jPHnQxxf/uIqlh7fxYuIBZob7sfzojgDyf2/9ilhjeZYF6zK5f8MyQhqo9RRqZqgZUSMz5OX2pZOYPt2L4keQ7MuDmLseQbxjI6ctVWBBLQ+MMV31kFw3xQfHbPtY7MoXfh+VgPkbZ5Ds2Q6rvwXJgz7MnvsJjv0M2RdpLPw2AtpcIWrr1tuFdhIpDUMF9Vc70a2EPzn6tayRM59CsvtLmB2bMH15CKJW0a0Eia4GZNKLckNrwM9pUwU3g3V54JjQEaW7KpHs8WWtIwE+e/GEXDwz/B1oWz3siYewb94AbVrjysZQMXv+uFwj67j9Qy6V4AIpYf6adHzf53DmZ2Sx566dxn8Wg9XjQ2JoP54vLsC+Mw7rewPxri14euEEEge+wuL4FaRGfgTz13ApKxeYXhl4aAfivU2wJx5h7u5fmHt8D08unJSRTn67Gf/8eQ2pkaNvAcqUq2TKU0cC3M6lnBruB/1mPZKD3WDtGzA5eADJU/2INhCkzh5bJeVCU2pkU6byTbGfwvphN2JNFfKo0fbPEG2uRKL7C2SXnpc0hZU0ZTXZXI/A6tsJa6BVgmZHc7JZXlE2HYS2rl1Z2JHDeP15Q9hGsbAVz7uP3viVVY+e+frRW9EcQsIcKqU50BZhDpU89oY5lBfMgUm3Ul1zoCGNmMb/s69kqK7UYBOhguvufU+DjQmDNYMaie9RSg22MAw3fRpQRaM63n4FqO4VEBZXgEbMYOkV8BLECps0Iuev2gAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png 1x" /><img loading="lazy" width="150" height="150" srcset="/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png 1x" src="/static/90020e3cb43b0bdf6641a85cf3dd7fea/92ab1/ubuntu.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div>Written by<!-- --> <a class="u-url" href="https://astrid-guenther.de"><span>Astrid Günther</span></a> <!-- -->on<a href="https://blog.astrid-guenther.de/ubuntu-docker-lamp-einrichten/"><time datetime="2021-02-06" class="dt-published"> <!-- -->2021-02-06</time></a></div><h1 class="p-name">docker-lamp einrichten</h1><div class="post-meta"><div class="tags p-category"><a class="tag-Linux" href="/tags/linux">Linux</a><a class="tag-Ubuntu" href="/tags/ubuntu">Ubuntu</a><a class="tag-docker-lamp" href="/tags/docker-lamp">docker-lamp</a><a class="tag-Joomla" href="/tags/joomla">Joomla</a></div></div></div></header><div id="/ubuntu-docker-lamp-einrichten/" class="container post-content e-content"><p>Zur Erinnerung: <em>Docker</em> erleichtert die Verwaltung von Software in Containern. <em>Docker Compose</em> ist ein Tool, welches die Arbeit mit mehreren Containern vereinfacht.</p>
<p>Hier geht es um <em>docker-lamp</em>. <em>docker-lamp</em> ist eine Software die</p>
<ul>
<li>vorgefertigte Docker-Images,</li>
<li>Docker-Container und</li>
<li>Skripte</li>
</ul>
<p>bietet, die dich bei der Entwicklung in einer <a href="https://de.wikipedia.org/w/index.php?title=LAMP_(Softwarepaket)&#x26;oldid=199333875">LAMP Umgebung</a> unterstützen. In diesem Teil richte ich die Umgebung ein.</p>
<blockquote>
<p>Eine LAMP-Umgebung besteht aus den vier Komponenten Linux (Betriebssystem), Apache (Webserver), MySQL (Datenbanksystem) und PHP (serverseitiger Skript-Interpreter).</p>
</blockquote>
<h2 id="voraussetzungen" style="position:relative;"><a href="#voraussetzungen" aria-label="voraussetzungen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Voraussetzungen</h2>
<p>Neben <a href="/ubuntu-docker-einrichten-docker-lamp">Docker</a> ist <a href="/ubuntu-docker-compose-einrichten-docker-lamp">Docker Compose</a> notwendig. Wenn du diesem <a href="/mein-ubuntu-rechner-mit-docker-lamp-themen/">Set</a>[^<a href="https://blog.astrid-guenther.de/mein-ubuntu-rechner-mit-docker-lamp-themen/%5D">https://blog.astrid-guenther.de/mein-ubuntu-rechner-mit-docker-lamp-themen/]</a> bisher gefolgt bist, passt alles.</p>
<h3 id="optional-und-auf-eigene-gefahr-entfernen-von-docker-images--containern" style="position:relative;"><a href="#optional-und-auf-eigene-gefahr-entfernen-von-docker-images--containern" aria-label="optional und auf eigene gefahr entfernen von docker images  containern permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optional und auf eigene Gefahr: Entfernen von Docker-Images, -Containern</h3>
<p>Bei der Arbeit mit Docker passiert es leicht, dass viele nicht verwendete Images, Container und Datenvolumen gesammelt werden, die Ausgabe verkomplizieren und unnötigen Festplattenspeicher verbrauchen.</p>
<p>Aus diesem Grund räume ich meine bisher zu Übungszwecken erstellten Docker-Elemente auf. Ich nenne das <a href="https://de.wikipedia.org/wiki/Tabula_rasa">Tabula rasa</a>!</p>
<h4 id="container" style="position:relative;"><a href="#container" aria-label="container permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Container</h4>
<h5 id="auflisten" style="position:relative;"><a href="#auflisten" aria-label="auflisten permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auflisten</h5>
<p>Ich überprüfe die Container in meinem System mit <code class="language-text">docker ps</code>. Durch Hinzufügen des Parameters <code class="language-text">-a</code> werden alle angezeigt.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker ps -a</span></span></code></pre>
<h5 id="stoppen-und-entfernen" style="position:relative;"><a href="#stoppen-und-entfernen" aria-label="stoppen und entfernen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stoppen und Entfernen</h5>
<p>Wenn ich sicher bin, ergänze ich das Flag <code class="language-text">-q</code>, um die IDs an die Befehle <code class="language-text">docker stop</code> und <code class="language-text">docker rm</code> zu übergeben:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker stop $(docker ps -a -q)</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker rm $(docker ps -a -q)</span></span></code></pre>
<blockquote>
<p>digitalocean.com behandelt in einem <a href="https://www.digitalocean.com/community/tutorials/how-to-remove-docker-images-containers-and-volumes-de">Artikel</a> alle gängigen Befehle, die zum Entfernen von Images, Containern und Volumen bei Docker verwendet werden.</p>
</blockquote>
<h4 id="images" style="position:relative;"><a href="#images" aria-label="images permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Images</h4>
<h5 id="auflisten-1" style="position:relative;"><a href="#auflisten-1" aria-label="auflisten 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auflisten</h5>
<p>Ich liste die Images in meinem System mit <code class="language-text">docker images</code> auf. Durch Hinzufügen des Parameters <code class="language-text">-a</code> werden alle angezeigt, auch die inaktiven.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker images -a</span></span></code></pre>
<h5 id="entfernen" style="position:relative;"><a href="#entfernen" aria-label="entfernen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entfernen</h5>
<p>Wenn ich sicher bin, ergänze ich den Parameter <code class="language-text">-q</code>, um die IDs an den Befehle Docker <code class="language-text">rmi</code> zu übergeben:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker rmi $(docker images -a -q)</span></span></code></pre>
<h2 id="einrichten-von-docker-lamp" style="position:relative;"><a href="#einrichten-von-docker-lamp" aria-label="einrichten von docker lamp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Einrichten von <a href="https://github.com/degobbis/docker-lamp/">docker-lamp</a></h2>
<h3 id="eine-frische-umgebung" style="position:relative;"><a href="#eine-frische-umgebung" aria-label="eine frische umgebung permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eine frische Umgebung</h3>
<p>Ich verfüge über eine frische Dockerinstallation. Auf meinem Rechner ist kein Image und somit kein Container. Die folgenden Befehle zeigen beide eine leere Tabelle:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker images -a</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker ps -a</span></span></code></pre>
<h3 id="docker-lamp-repository-von-github-klonen" style="position:relative;"><a href="#docker-lamp-repository-von-github-klonen" aria-label="docker lamp repository von github klonen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>docker-lamp Repository von Github klonen</h3>
<p>Nun klone ich das <code class="language-text">docker-lamp</code> Github Repository in ein Verzeichnis nach Wahl.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">git clone https://github.com/degobbis/docker-lamp.git --depth 1 -b 2.0.0-dev</span></span></code></pre>
<blockquote>
<p>Mit <code class="language-text">-b 2.0.0-dev</code> wird der passende Branch gezogen und mit <code class="language-text">--depth 1</code> wird nur die History von diesem Branch gezogen.</p>
</blockquote>
<p>Als nächstes wechsele ich in den Ordner <code class="language-text">docker-lamp</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">cd docker-lamp</span></span></code></pre>
<blockquote>
<p>Diese Beschreibung ist an die <a href="https://github.com/degobbis/docker-lamp/tree/2.0.0-dev">Version 2 von docker-lamp</a>[^github.com/degobbis/docker-lamp] angepasst. Deshalb ist zur Zeit noch ein Wechsel zum Entwicklungszweig notwendig. Die notwendigen Befehle hierzu sind <code class="language-text">git fetch origin</code> und dann <code class="language-text">git checkout 2.0.0-dev</code>.</p>
</blockquote>
<h3 id="umgebungsvariablen" style="position:relative;"><a href="#umgebungsvariablen" aria-label="umgebungsvariablen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Umgebungsvariablen</h3>
<h4 id="env-example-in-env-umbennen-und-editieren" style="position:relative;"><a href="#env-example-in-env-umbennen-und-editieren" aria-label="env example in env umbennen und editieren permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.env-example in .env umbennen und editieren</h4>
<p>Im <code class="language-text">docker-lamp</code>-Ordner kopiere ich die versteckte Datei <code class="language-text">.env-example</code> nach <code class="language-text">.env</code>.</p>
<blockquote>
<p>Im Verzeichnis <code class="language-text">docker-lamp</code> befindet sich die unsichtbare Datei <code class="language-text">.env-example</code>, welche nach <code class="language-text">.env</code> kopiert wird. Wofür ist die Datei <code class="language-text">.env</code> wichtig? Diese beinhaltet wesentliche Einstellungen. Konfigurationsdaten müssen besonders geschützt werden, wenn sie sich in einem vom Webserver erreichbaren Verzeichnis befinden. Deshalb ist der Zugriff auf <code class="language-text">.env</code> zu unterbinden. Deshalb ist diese versteckt.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">cp .env-example .env</span></span></code></pre>
<p>Mittels <code class="language-text">nano .env</code> öffne ich die Datei zum editieren.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nano .env</span></span></code></pre>
<h4 id="env-datei-abändern" style="position:relative;"><a href="#env-datei-ab%C3%A4ndern" aria-label="env datei abändern permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.env Datei abändern</h4>
<h5 id="eigene-ip-adresse---zwingend" style="position:relative;"><a href="#eigene-ip-adresse---zwingend" aria-label="eigene ip adresse   zwingend permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eigene IP-Adresse - zwingend</h5>
<p>Ich belege in der Datei <code class="language-text">.env</code> den Parameter <code class="language-text">REMOTE_HOST_IP=</code> mit der IP des eigenen Rechners. In meinem Fall ist das <code class="language-text">192.168.178.138</code>. Der gesamte Eintrag lautet: <code class="language-text">REMOTE_HOST_IP=192.168.178.138</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># To use PHP xDebug set your host IP here (192.168.0.100)</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source">REMOTE_HOST_IP=192.168.209.138</span></span></code></pre>
<blockquote>
<p>Die eigenen IP kann man unter anderem mit dem Befehl <code class="language-text">ip address</code> in Erfahrung bringen.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ ip address</span></span>
<span class="grvsc-line"><span class="grvsc-source">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet 127.0.0.1/8 scope host lo</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet6 ::1/128 scope host</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">    link/ether 00:0c:29:8a:bf:d9 brd ff:ff:ff:ff:ff:ff</span></span>
<span class="grvsc-line"><span class="grvsc-source">    altname enp2s1</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet 192.168.209.138/24 brd 192.168.209.255 scope global dynamic noprefixroute ens33</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft 1248sec preferred_lft 1248sec</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet6 fe80::c526:e1ca:5b3e:7b1/64 scope link noprefixroute</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5 id="app_basedir---zwingend" style="position:relative;"><a href="#app_basedir---zwingend" aria-label="app_basedir   zwingend permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>APP_BASEDIR - zwingend</h5>
<p>Ich nutze <code class="language-text">/srv/www</code> als Stammverzeichnis für den Webserver und ändere deshalb die Variable <code class="language-text">APP_BASEDIR</code> ab. Für mein Beispiel nutze ich <code class="language-text">APP_BASEDIR=/srv</code>. Gleichzeitig kopiere ich alle Daten im Verzeichnis <code class="language-text">DEINE-docker-lamp-INSTALLATION/data</code> nach <code class="language-text">/srv</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># Set your project folder for websites and configurations.</span></span>
<span class="grvsc-line"><span class="grvsc-source"># If you want to outsource this, use the ./data folder as the base skeleton.</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_BASEDIR=/srv</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<blockquote>
<p>Es ist zwingend, beim Einrichten das Verzeichnis <code class="language-text">APP_BASEDIR</code> anzupassen. <code class="language-text">APP_BASEDIR</code> ist mit einem absoluten Pfad zu belegen!</p>
</blockquote>
<h5 id="benutzer-id-unter-ubuntu" style="position:relative;"><a href="#benutzer-id-unter-ubuntu" aria-label="benutzer id unter ubuntu permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Benutzer ID unter Ubuntu</h5>
<p>Auf Linux-Systemen ist es zwingend die Benutzer-IDs richtig zu setzen. Auf den meisten Rechnern ist nur ein Nutzer eingerichtet und diesem ist meistens die ID 1000 zugeordnet. Deshalb ist dies in <code class="language-text">docker-lamp</code> voreingestellt. In der <code class="language-text">.env</code> gibt es den folgenden Eintrag.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># Set your user and group ID from your Linux host,</span></span>
<span class="grvsc-line"><span class="grvsc-source"># it will be automatically assigned to the user and group &#39;virtual&#39;</span></span>
<span class="grvsc-line"><span class="grvsc-source"># inside the containers used for Apache and php-fpm processes.</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source"># You can safely ignore this on Windows and MacOS, but don&#39;t disable it!</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_USER_ID=1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_GROUP_ID=1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<p>Warum sind <code class="language-text">APP_USER_ID</code> und <code class="language-text">APP_GROUP_ID</code> mit 1000 voreingestellt? In Ubuntu ist <code class="language-text">1000</code> die erste ID die im Falle von Benutzern und Gruppen bei der Installation angelegt wird. Wenn man das System selbst installiert hat, ist die eigene ID 1000. Überprüfen kann man dies mit dem Befehl <code class="language-text">id -u</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ id -u</span></span>
<span class="grvsc-line"><span class="grvsc-source">1000</span></span></code></pre>
<p>Falls die ID des <code class="language-text">docker-lamp</code> ausführenden Benutzers von 1000 abweicht, ist dieser Eintrag zu korrigieren.</p>
<blockquote>
<p>Möchest du gleichzeitig prüfen, in welcher Gruppe sich dein Benutzer befindet? Dann verwende den Befehl <code class="language-text">id</code> ohne den Parameter <code class="language-text">-u</code>.</p>
</blockquote>
<h3 id="die-docker-lamp-befehle" style="position:relative;"><a href="#die-docker-lamp-befehle" aria-label="die docker lamp befehle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Die docker-lamp Befehle</h3>
<blockquote>
<p>Tipp: Belege den Wert für <code class="language-text">DEBUG</code> in der Datei <code class="language-text">DEINE-docker-lamp-INSTALLATION/docker-lamp</code> mit <code class="language-text">1</code>, um dir genauere Informationen im Falle von Problemen anzeigen zu lassen.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">#!/usr/bin/env bash</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"># Define debug mode.</span></span>
<span class="grvsc-line"><span class="grvsc-source">DEBUG=1</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h3 id="hauptbefehle" style="position:relative;"><a href="#hauptbefehle" aria-label="hauptbefehle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hauptbefehle</h3>
<h4 id="start-via-docker-lamp-start" style="position:relative;"><a href="#start-via-docker-lamp-start" aria-label="start via docker lamp start permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start via <code class="language-text">./docker-lamp start</code></h4>
<pre class="grvsc-container default-dark" data-language="" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp start</span></span></code></pre>
<p>Beim Starten von <code class="language-text">docker-lamp</code> geschieht folgendes:</p>
<ul>
<li>Es werden verschiedene Docker-Container erstellt.</li>
<li>Es werden verschiedene PHP-Umgebungen erstellen.</li>
<li>SSL/TLS wird zu lokalen Domains hinzufügen.</li>
<li>Es wird eine phpmyadmin-Schnittstelle zu den Datenbanken zur Verfügung gestellt.</li>
<li>Es wird ein lokaler Mailserver mit Webmail-Funktionalität bereit gestellt.</li>
<li>Und last but not least werden die zuvor gesicherten Datenbanken aus SQL-Dateien, welche sich im Ordner <code class="language-text">initDB</code> befinden, ausgelesen und ausgeführt.</li>
</ul>
<pre class="grvsc-container default-dark" data-language="" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp start</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Start creating SSL certificates:</span></span>
<span class="grvsc-line"><span class="grvsc-source">Create certificate for: localdomains,localhost,joomla.local,joomla.test,*.joomla.local,*.joomla.test,wp.local,wp.test,*.wp.local,*.wp.test,wpms.local,wpms.test,*.wpms.local,*.wpms.test</span></span>
<span class="grvsc-line"><span class="grvsc-source">2022/05/18 09:09:29 open localdomains/key.pem: file exists</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">All certificates created.</span></span>
<span class="grvsc-line"><span class="grvsc-source">Start server:</span></span>
<span class="grvsc-line"><span class="grvsc-source">[+] Running 8/8</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_bind        Started                                  2.8s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_db          Started                                  2.0s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_mailhog     Start...                                 2.5s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_phpmyadmin  St...                                    3.8s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_php80       Started                                  4.5s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_php81       Started                                  4.6s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_php74       Started                                  4.3s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_apache24    Star...                                  5.3s</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<h5 id="domains" style="position:relative;"><a href="#domains" aria-label="domains permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Domains</h5>
<p>Wenn alles fehlerfrei verläuft, kann man nun den Inhalt seiner <code class="language-text">www-Root</code>, also von <code class="language-text">APP_BASEDIR + /www</code>, im Browser unverschlüsselt über die folgenden URLs aufrufen:</p>
<ul>
<li><a href="http://localhost:8000">http://localhost:8000</a> - phpmyadmin</li>
<li><a href="http://localhost:8025">http://localhost:8025</a> - mailhog webmail</li>
<li><a href="http://localhost/">http://localhost/</a> - verwendet die als Standard konfigurierte PHP-Version</li>
<li><a href="http://localhost:8074">http://localhost:8074</a> - Website verwendet PHP7.4</li>
<li><a href="http://localhost:8074/phpinfo/">http://localhost:8074/phpinfo/</a> - PHP-Konfiguration der PHP7.4-Umgebung</li>
<li><a href="http://localhost:8080">http://localhost:8080</a> - Webseite, die PHP8.0 verwendet</li>
</ul>
<p>Die Ports für SSL Aufrufe der Seite beginnen mit 84:</p>
<ul>
<li><a href="https://localhost:8400">https://localhost:8400</a> - phpmyadmin</li>
<li><a href="https://localhost/">https://localhost/</a> - verwendet die als Standard konfigurierte PHP-Version</li>
<li><a href="https://localhost:8474">https://localhost:8474</a> - Website verwendet PHP7.4</li>
<li><a href="https://localhost:8474/phpinfo/">https://localhost:8474/phpinfo/</a> - PHP-Konfiguration der PHP7.4-Umgebung</li>
<li><a href="https://localhost:8480">https://localhost:8480</a> - Webseite, die PHP8.0 verwendet</li>
</ul>
<h5 id="docker-container" style="position:relative;"><a href="#docker-container" aria-label="docker container permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Docker Container</h5>
<pre class="grvsc-container default-dark" data-language="" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ docker ps -a</span></span>
<span class="grvsc-line"><span class="grvsc-source">CONTAINER ID   IMAGE                               COMMAND                  CREATED          STATUS          PORTS                                                                                                                                                                                                                                                                                                                                                                                              NAMES</span></span>
<span class="grvsc-line"><span class="grvsc-source">0bbafc680755   degobbis/apache24-alpine:latest     &quot;/httpd-php-entrypoi…&quot;   38 minutes ago   Up 38 minutes   0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp, 0.0.0.0:8074-&gt;8074/tcp, :::8074-&gt;8074/tcp, 0.0.0.0:8080-8081-&gt;8080-8081/tcp, :::8080-8081-&gt;8080-8081/tcp, 0.0.0.0:8400-&gt;8400/tcp, :::8400-&gt;8400/tcp, 0.0.0.0:8474-&gt;8474/tcp, :::8474-&gt;8474/tcp, 80/tcp, 0.0.0.0:8480-8481-&gt;8480-8481/tcp, :::8480-8481-&gt;8480-8481/tcp, 0.0.0.0:80-&gt;8074/tcp, :::80-&gt;8074/tcp, 0.0.0.0:443-&gt;8474/tcp, :::443-&gt;8474/tcp   docker-lamp_apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">b44a14bc93e2   degobbis/php80-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   38 minutes ago   Up 38 minutes   9000/tcp                                                                                                                                                                                                                                                                                                                                                                                           docker-lamp_php80</span></span>
<span class="grvsc-line"><span class="grvsc-source">253ad84e59a2   degobbis/php81-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   38 minutes ago   Up 38 minutes   9000/tcp                                                                                                                                                                                                                                                                                                                                                                                           docker-lamp_php81</span></span>
<span class="grvsc-line"><span class="grvsc-source">65ea0e6d6acc   phpmyadmin/phpmyadmin:fpm-alpine    &quot;/docker-entrypoint.…&quot;   38 minutes ago   Up 38 minutes   9000/tcp                                                                                                                                                                                                                                                                                                                                                                                           docker-lamp_phpmyadmin</span></span>
<span class="grvsc-line"><span class="grvsc-source">063631c55af2   degobbis/php74-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   38 minutes ago   Up 38 minutes   9000/tcp                                                                                                                                                                                                                                                                                                                                                                                           docker-lamp_php74</span></span>
<span class="grvsc-line"><span class="grvsc-source">fa6271eedada   mailhog/mailhog:latest              &quot;MailHog&quot;                38 minutes ago   Up 38 minutes   0.0.0.0:1025-&gt;1025/tcp, :::1025-&gt;1025/tcp, 0.0.0.0:8025-&gt;8025/tcp, :::8025-&gt;8025/tcp                                                                                                                                                                                                                                                                                                               docker-lamp_mailhog</span></span>
<span class="grvsc-line"><span class="grvsc-source">68fce40022ce   degobbis/mariadb105-alpine:latest   &quot;/docker-entrypoint …&quot;   38 minutes ago   Up 38 minutes   0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp                                                                                                                                                                                                                                                                                                                                                          docker-lamp_db</span></span>
<span class="grvsc-line"><span class="grvsc-source">cd8f0581aadc   cytopia/bind:0.15                   &quot;/docker-entrypoint.…&quot;   38 minutes ago   Up 38 minutes   0.0.0.0:53-&gt;53/tcp, 0.0.0.0:53-&gt;53/udp, :::53-&gt;53/tcp, :::53-&gt;53/udp                                                                                                                                                                                                                                                                                                                               docker-lamp_bind</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<h4 id="anhalten-via-docker-lamp-shutdown" style="position:relative;"><a href="#anhalten-via-docker-lamp-shutdown" aria-label="anhalten via docker lamp shutdown permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Anhalten via <code class="language-text">./docker-lamp shutdown</code></h4>
<p>Alles was über den Befehl <code class="language-text">aufgebaut wird, wird mittels</code> wieder herunterfahren beziehungsweise gesichert. Die Datenbanken werden automatische im Verzeichnis `` als SQL-Dump gespeichert, um beim nächsten Start von hier wiederhergestellt zu werden.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="18"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp shutdown</span></span></code></pre>
<h4 id="weiter-befehle" style="position:relative;"><a href="#weiter-befehle" aria-label="weiter befehle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Weiter Befehle</h4>
<p>Weitere Befehle und Hilfsskripte kannst du dir via <code class="language-text">./docker-lamp --help</code> ansehen.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="19"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp --help</span></span>
<span class="grvsc-line"><span class="grvsc-source">-- Help for the command: docker-lamp  --</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Usage:</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; docker-lamp &lt;command&gt; [&lt;parameters&gt;]</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">For more details about the allowed parameters use:</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; docker-lamp &lt;command&gt; --help</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Commands:</span></span>
<span class="grvsc-line"><span class="grvsc-source">start [&lt;parameters&gt;]</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; If &#39;start&#39; is used without parameters, the server is started with the globally defined settings from the &#39;.env&#39; file.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; If parameters are set, these will override the global settings. The phpmyadmin and mailhog containers always start.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">restart</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Restarts the server with the same configuration as started before.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">shutdown [&lt;parameters&gt;]</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Shuts down the server completely deleting also all volumes created.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; If not other set, all databases will be saved before.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">stop</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Stops the server.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; However, unlike &#39;shutdown&#39;, the database volume is preserved and the databases are not saved before.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Likewise, the files in the &#39;initDB&#39; folder are ignored by the next start.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">update-images</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Downloads the newest images globally defined in the &#39;.env&#39; file, or set in the parameters.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; If parameters are set, these will override the global settings. The new images will be tagged all latest.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">delete-obsolete-images</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Deletes obsolete images remaining after updated images.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">cli &lt;CONTAINER-NAME&gt; [&lt;parameters&gt;][ &#39;&lt;COMMAND-TO-PASS&gt;&#39;]</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Uses &#39;docker exec -it &lt;CONTAINER-NAME&gt;&#39; to launch into the cli in the container, or to execute the passed command.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Use single quotes &#39; to pass the command to the container to be executed in it.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">save-db &lt;DB-NAME&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Uses &#39;docker-compose down&#39; to stop the server.</span></span></code></pre>
<h3 id="eigene-projekte-in-den-container-mappen" style="position:relative;"><a href="#eigene-projekte-in-den-container-mappen" aria-label="eigene projekte in den container mappen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eigene Projekte in den Container mappen</h3>
<h4 id="das-verzeichnis-ist-flexibel" style="position:relative;"><a href="#das-verzeichnis-ist-flexibel" aria-label="das verzeichnis ist flexibel permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Das Verzeichnis ist flexibel</h4>
<p>Wenn man die Projekte erst neu anlegt ist der einfachste Weg, das Verzeichnis <code class="language-text">APP_BASEDIR + /www</code> im <code class="language-text">docker-lamp</code>-Verzeichnis zu verwenden. Dies gilt ebenfalls, wenn der Speicherort änderbar ist und man die Projekte leicht verschieben kann. <code class="language-text">APP_BASEDIR + /www</code> wird im Container unter <code class="language-text">/srv/www</code> eingebunden - falls du meinem Beispiel bisher gefolgt bist und es nicht in der <code class="language-text">.env</code> anders belegt ist. Im letzteren Fall ist das in der Variablen <code class="language-text">APP_BASEDIR</code> gesetzte Verzeichnis dasjenige, welches in den Container eingebunden wird.</p>
<h4 id="eigene-verzeichnisse-im-container" style="position:relative;"><a href="#eigene-verzeichnisse-im-container" aria-label="eigene verzeichnisse im container permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eigene Verzeichnisse im Container</h4>
<p>Um weitere Verzeichnisse mit den eigenen Webprojekten im Container zur Verfügung zu haben, ist es erforderlich, die Datei Standardkonfiguration zu überschreiben.</p>
<h4 id="beispiel" style="position:relative;"><a href="#beispiel" aria-label="beispiel permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Beispiel</h4>
<p>Angenommen, du möchtest das Verzeichnis <code class="language-text">/home/youruser/git</code> im <code class="language-text">apache24-Container</code> verwenden.</p>
<ol>
<li>Ich stoppe den Server via</li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="20"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp shutdown</span></span></code></pre>
<ol start="2">
<li>Sieh dir die Konfiguration für den <code class="language-text">apache24-Container</code> an. Du findest diese in der Datei <code class="language-text">config.yml</code> im Verzeichnis <code class="language-text">DEINE-docker-lamp-INSTALLATION/.config/httpd/apache24</code>.</li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="21"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">apache24:</span></span>
<span class="grvsc-line"><span class="grvsc-source">  image: degobbis/apache24-alpine:latest</span></span>
<span class="grvsc-line"><span class="grvsc-source">  container_name: ${COMPOSE_PROJECT_NAME}_apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">  hostname: apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">  links: ${HTTPD_LINKS}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  volumes:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${DOCKER_LAMP_BASEDIR}/.config/httpd/apache24/conf.d:/usr/local/apache2/conf.d:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${DOCKER_LAMP_BASEDIR}/.config/httpd/apache24/vhosts:/usr/local/apache2/vhosts:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${APP_BASEDIR:-${DOCKER_LAMP_BASEDIR}/data}:/srv:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - pma:/var/www/pma</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - phpsocket:/run/php</span></span>
<span class="grvsc-line"><span class="grvsc-source">  ports: ${HTTPD_PORTS}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  environment:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    TZ: ${MY_TZ:-UTC}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    LC_ALL: ${MY_LOCALES:-en_GB.UTF-8}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    APP_USER_ID: ${APP_USER_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    APP_GROUP_ID: ${APP_GROUP_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  dns:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - 172.16.238.100</span></span>
<span class="grvsc-line"><span class="grvsc-source">  networks:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    net:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      ipv4_address: 172.16.238.10</span></span></code></pre>
<ol start="3">
<li>Kopiere nun diese Datei nach <code class="language-text">APP_BASEDIR + /httpd/apache24/config.yml</code> und ergänze die Zeile <code class="language-text">- /home/youruser/git:/home/youruser/git:rw</code>.</li>
</ol>
<blockquote>
<p>Wir nutzen die Datei <code class="language-text">APP_BASEDIR + /httpd/apache24/config.yml</code> und ändern nicht direkt die Datei <code class="language-text">DEINE-docker-lamp-INSTALLATION/.config/httpd/apache24/config.yml</code>, damit beim nächsten <code class="language-text">docker-lamp</code>-Update die Änderung der Konfiguration nicht überschrieben wird.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="22"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">apache24:</span></span>
<span class="grvsc-line"><span class="grvsc-source">  image: degobbis/apache24-alpine:latest</span></span>
<span class="grvsc-line"><span class="grvsc-source">  container_name: ${COMPOSE_PROJECT_NAME}_apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">  hostname: apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">  links: ${HTTPD_LINKS}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  volumes:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${DOCKER_LAMP_BASEDIR}/.config/httpd/apache24/conf.d:/usr/local/apache2/conf.d:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - /home/youruser/git:/home/youruser/git:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${DOCKER_LAMP_BASEDIR}/.config/httpd/apache24/vhosts:/usr/local/apache2/vhosts:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - ${APP_BASEDIR:-${DOCKER_LAMP_BASEDIR}/data}:/srv:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - pma:/var/www/pma</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - phpsocket:/run/php</span></span>
<span class="grvsc-line"><span class="grvsc-source">  ports: ${HTTPD_PORTS}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  environment:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    TZ: ${MY_TZ:-UTC}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    LC_ALL: ${MY_LOCALES:-en_GB.UTF-8}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    APP_USER_ID: ${APP_USER_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    APP_GROUP_ID: ${APP_GROUP_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">  dns:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    - 172.16.238.100</span></span>
<span class="grvsc-line"><span class="grvsc-source">  networks:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    net:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      ipv4_address: 172.16.238.10</span></span></code></pre>
<blockquote>
<p>Weitere Informationen zur Verwendung von Volumes mit <code class="language-text">compose</code> gibt es in der <a href="https://docs.docker.com/storage/volumes/#use-a-volume-with-docker-compose">docker-Dokumentation</a> oder in der <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference">compose-Referenz</a>.</p>
</blockquote>
<ol start="4">
<li>Jetzt starte ich den Server mit <code class="language-text">./docker-lamp start</code> neu, damit die letzten Änderungen übernommen werden.</li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="23"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">./docker-lamp start</span></span></code></pre>
<ol start="5">
<li>Ich teste die Änderung</li>
</ol>
<p>Das in meinem Beispiel neu verlinkte Verzeichnis wird im <code class="language-text">apache24-Container</code> unter <code class="language-text">/home/youruser/git</code> verlinkt. Ich wechsele via <code class="language-text">./docker-lamp cli apache24</code> in den Container und überzeuge mich davon:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="24"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp cli apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/srv/www$ cd /home/youruser/git/</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/home/youruser/git$ ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">total 4</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    4 virtual  virtual       4096 May 16 11:16 joomla-development</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/home/youruser/git$ </span></span></code></pre>
<p><code class="language-text">./docker-lamp cli apache24</code> ist eine Hilfe für diejenigen, die die Docker-Befehle nicht kennen. Wer mit Docker-Befehlen vertraut ist oder diese lernen möchte: <code class="language-text">./docker-lamp cli apache24</code> bewirkt das gleiche wie <code class="language-text">docker exec -it ${params}${env}${COMPOSE_PROJECT_NAME}_${CLI_CONTAINER} /usr/bin/env ${shell}</code>. In meinem Fall ist dies konkret <code class="language-text">docker exec -it --user 1000 docker-lamp_apache24 /usr/bin/env sh</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="25"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp cli apache24</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/srv/www$ cd /home/youruser/git/</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/home/youruser/git$ ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">total 4</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    4 virtual  virtual       4096 May 16 11:16 joomla-development</span></span></code></pre>
<blockquote>
<p>Über den Befehl <code class="language-text">docker exec -ti docker-lamp_apache24 sh</code> öffnet man eine Befehlszeile im Container <code class="language-text">docker-lamp_php74</code>. Über <code class="language-text">exit</code> kommt man wieder aus dem Container heraus. Der Docker wird ohne weitere Parameter unter dem Benutzer <code class="language-text">root</code> ausgeführt. Dies erkennst du am Zeichen <code class="language-text">#</code> anstelle von <code class="language-text">$</code> nach dem Login im nachfolgenden Listing. Der <code class="language-text">docker-lamp</code> Befehl verwendet jederzeit den konfigurierten User. Worfür ist dies wichtig? Wenn du Dateien erstellst gibt es hinterher beispielsweise keine Konflikte mit den Dateiberechtigungen.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="26"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ docker exec -ti docker-lamp_apache24 sh</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/srv/www# cd /home/youruser/git/</span></span>
<span class="grvsc-line"><span class="grvsc-source">apache24:/home/youruser/git# ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">total 4</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    4 virtual  virtual       4096 May 16 11:16 joomla-development</span></span></code></pre>
<ol start="6">
<li>So wie ich das Verzeichnis in den Container apache24 eingebunden habe, wiederhole ich dies für die PHP Container!</li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="27"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ sudo cp /home/youruser/docker-lamp/docker-lamp/.config/php/php56/config.yml /srv/php/php56/config.yml</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ sudo cp /home/youruser/docker-lamp/docker-lamp/.config/php/php73/config.yml /srv/php/php73/config.yml</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ sudo cp /home/youruser/docker-lamp/docker-lamp/.config/php/php74/config.yml /srv/php/php74/config.yml</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ sudo cp /home/youruser/docker-lamp/docker-lamp/.config/php/php80/config.yml /srv/php/php80/config.yml</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ sudo cp /home/youruser/docker-lamp/docker-lamp/.config/php/php81/config.yml /srv/php/php81/config.yml</span></span></code></pre>
<h3 id="zertifikat" style="position:relative;"><a href="#zertifikat" aria-label="zertifikat permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zertifikat</h3>
<p>Falls die Konfiguration der Zertifikate geändert wird, ist erforderlich, den Server neu zu starten. Am besten vor Änderungen den Befehl <code class="language-text">./docker-lamp shutdown</code> aufrufen.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="28"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ./docker-lamp shutdown</span></span>
<span class="grvsc-line"><span class="grvsc-source">/home/youruser/docker-lamp/docker-lamp/.env included</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Selected settings:</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; Save all databases.</span></span>
<span class="grvsc-line"><span class="grvsc-source">-&gt; No additional archiving of databases.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">-- Start saving databases. --</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">-- Saving the databases finished. --</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">[+] Running 2/6</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_apache24    Removed                                                                                                                                                          1.5s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠦ Container docker-lamp_phpmyadmin  Stopping                                                                                                                                                         0.7s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠦ Container docker-lamp_php74       Stopping                                                                                                                                      [+] R[+] Running 9/9.7s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_apache24    Removed                                                                                                                                       1.5so ⠿ Container docker-lamp_phpmyadmin  Removed                                                                                                                                       1.1s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_php74       Removed                                                                                                                                       1.1so ⠿ Container docker-lamp_php80       Removed                                                                                                                                       1.0s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_php81       Removed                                                                                                                                       0.6so ⠿ Container docker-lamp_bind        Removed                                                                                                                                       1.4s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_mailhog     Removed                                                                                                                                       0.6s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Container docker-lamp_db          Removed                                                                                                                                      10.4s</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ⠿ Network docker-lamp_net           Removed                                                                                                                                       0.2s</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_db-data-dir</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_phpsocket</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_pma</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<h4 id="minica" style="position:relative;"><a href="#minica" aria-label="minica permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Minica</h4>
<p>Ich benötige ein Zertifikat in meinen con­tai­ne­ri­sie­rten Webservern, um verschlüsselte Websites zu nachzustellen und so zu testen. <code class="language-text">docker-lamp</code> nutzt für diesen Zweck <a href="https://github.com/jsha/minica">Minica</a>.</p>
<blockquote>
<p>Minica erstellt beim ersten Aufruf ein Root-Zertifikat, auf welchem alle daraufhin erzeugten Zertifikate basieren.</p>
</blockquote>
<h5 id="angabe-in-der-datei-deine-docker-lamp-installationdocker-lamp" style="position:relative;"><a href="#angabe-in-der-datei-deine-docker-lamp-installationdocker-lamp" aria-label="angabe in der datei deine docker lamp installationdocker lamp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Angabe in der Datei <code class="language-text">DEINE-docker-lamp-INSTALLATION/docker-lamp</code></h5>
<p>Standardmäßig werden die in der Datei <code class="language-text">DEINE-docker-lamp-INSTALLATION/docker-lamp</code> in der Variablen <code class="language-text">MINICA_DEFAULT_DOMAINS</code> festgelegten Domains zertifiziert.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="29"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">MINICA_DEFAULT_DOMAINS=&quot;localdomains,localhost,joomla.local,joomla.test,*.joomla.local,*.joomla.test,wp.local,wp.test,*.wp.local,*.wp.test,wpms.local,wpms.test,*.wpms.local,*.wpms.test&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5 id="angaben-in-der-datei-env" style="position:relative;"><a href="#angaben-in-der-datei-env" aria-label="angaben in der datei env permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Angaben in der Datei <code class="language-text">.env</code></h5>
<p>Um zusätzliche Domains zu zertifizieren, git es die Variablen <code class="language-text">SSL_DOMAINS</code> und <code class="language-text">SSL_LOCALDOMAINS</code> in der Datei <code class="language-text">.env</code>. Hierzu gibt es später mehr Informationen.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="30"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_DOMAINS=</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_LOCALDOMAINS=</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5 id="zusätzliche-domain-hinzufügen" style="position:relative;"><a href="#zus%C3%A4tzliche-domain-hinzuf%C3%BCgen" aria-label="zusätzliche domain hinzufügen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zusätzliche Domain hinzufügen</h5>
<p>Eine eigene Domain fügt man im <code class="language-text">docker-lamp</code>-Verzeichnis mittels nachfolgender Befehle hinzu. Ich belasse hier die Standardeinstellungen. Die Erklärungen finde ich an dieser Stelle trotzdem wichtig, weil man die Standardeinstellungen schon nutzt und sich so besser in docker-lamp orientiert.</p>
<blockquote>
<p>Ein konkretes <a href="/ubuntu-docker-lamp-verwenden-eigene-domain">Beispiel</a> habe ich später beschrieben.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="31"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nano .env</span></span></code></pre>
<p>Hier dann je nach Wunsch folgenden Einträge erweitern:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="32"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">TLD_SUFFIX=local=127.0.0.1,test=127.0.0.1</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_LOCALDOMAINS=</span></span></code></pre>
<blockquote>
<p>Als <code class="language-text">TLD_SUFFIX</code> trägt man lediglich das Wort ein, welches ganz am Ende der <a href="https://de.wikipedia.org/w/index.php?title=Uniform_Resource_Locator&#x26;oldid=207716904">URL</a> steht. Das ist die <a href="https://de.wikipedia.org/w/index.php?title=Top-Level-Domain&#x26;oldid=208512458">Top-Level-Domain TLD</a>. Diese hatten wir in der Variablen <code class="language-text">MINICA_DEFAULT_DOMAINS</code> festgelegt. Eine <code class="language-text">TLD</code> ist <code class="language-text">joomla</code>. Als <code class="language-text">TLD_SUFFIX</code> reicht <code class="language-text">local</code> reicht aus. <code class="language-text">joomla.local</code> ist nicht notwendig. Alle <a href="https://de.wikipedia.org/w/index.php?title=Domain_(Internet)&#x26;oldid=207898687">Domains und Subdomains</a> mit der Top-Level-Domain <code class="language-text">.local</code> werden durch den vorherigen Eintrag abgefangen.</p>
</blockquote>
<blockquote>
<p>Benötigst du eine weitere Top-Level-Domain inklusive Subdomains, beispielsweise <code class="language-text">mytdl</code> mit <code class="language-text">jedemengesubdomains.mytld</code>? Nun kommt <code class="language-text">TLD_SUFFIX</code> ins Spiel. Das heißt: <code class="language-text">TLD_SUFFIX=mytdl</code> und <code class="language-text">SSL_LOCALDOMAINS=subdomain1.mytdl,*.subdomain2.mytdl</code> spielen zusammen. Aber dazu später mehr im konkreten <a href="/ubuntu-docker-lamp-verwenden-eigene-domain">Beispiel</a>.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="33"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">             (root)                 0. Ebene, Null-Label</span></span>
<span class="grvsc-line"><span class="grvsc-source">               |</span></span>
<span class="grvsc-line"><span class="grvsc-source">               |</span></span>
<span class="grvsc-line"><span class="grvsc-source">              mytdl                 1. Ebene, Top-Level-Domains (TLD)</span></span>
<span class="grvsc-line"><span class="grvsc-source">         /           \</span></span>
<span class="grvsc-line"><span class="grvsc-source">        /             \</span></span>
<span class="grvsc-line"><span class="grvsc-source">  subdomain1       subdomain2       2. Ebene, Second-Level-Domains</span></span>
<span class="grvsc-line"><span class="grvsc-source">    /  |   \         /   |  \</span></span>
<span class="grvsc-line"><span class="grvsc-source">s11    s12  s13   s21    s22  s23   3. Ebene, Third-Level-Domains</span></span></code></pre>
<p>Dann die Verzeichnisse für die Ebenen erstellen. Für die zweite Ebene wäre das <code class="language-text">/data/www/subdomain1</code> und <code class="language-text">/data/www/subdomain2</code> erstellen. <code class="language-text">/data/www/joomla</code> sollte bereits vorhanden sein. Die dritte Ebenen führt man analog fort: <code class="language-text">/data/www/subdomain1/s11</code>, <code class="language-text">/data/www/subdomain1/s12</code>, <code class="language-text">/data/www/subdomain1/s13</code>, <code class="language-text">/data/www/subdomain2/s21</code>, <code class="language-text">/data/www/subdomain2/s22</code>, <code class="language-text">/data/www/subdomain2/s23</code>.</p>
<p>Bereits vorkonfiguriert für die Entwicklung mit Joomla ist die nachfolgende Struktur.</p>
<blockquote>
<p>Für Wordpress Entwickler gibt es neben <code class="language-text">joomla</code> weiter Domains auf der 3. Ebenen.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="34"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">             (root)                 0. Ebene, Null-Label</span></span>
<span class="grvsc-line"><span class="grvsc-source">             /   \</span></span>
<span class="grvsc-line"><span class="grvsc-source">            /     \</span></span>
<span class="grvsc-line"><span class="grvsc-source">         test     local             1. Ebene, Top-Level-Domains (TLD)</span></span>
<span class="grvsc-line"><span class="grvsc-source">         /           \</span></span>
<span class="grvsc-line"><span class="grvsc-source">        /             \</span></span>
<span class="grvsc-line"><span class="grvsc-source">    joomla           joomla         2. Ebene, Second-Level-Domains</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">                                    3. Ebene, Third-Level-Domains</span></span></code></pre>
<p>Falls du etwas an der Konfiguration geändet hast, lösche den Ordner <code class="language-text">APP_BASEDIR/ca/localdomains</code>. Um weiter an <code class="language-text">docker-lampp</code> zu arbeiten starten wir den Server wieder mittels <code class="language-text">./docker-lamp start</code>.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="35"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">./docker-lamp start</span></span></code></pre>
<h4 id="importieren-des-zertifikates" style="position:relative;"><a href="#importieren-des-zertifikates" aria-label="importieren des zertifikates permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Importieren des Zertifikates</h4>
<p>Ruft man die URL <code class="language-text">https://joomla.test/</code> oder <code class="language-text">https://joomla.local/</code> im Browser auf, erscheint ein Sicherheitshinweis. Der Browser kennt das Zertifikat bisher nicht. Deshalb importiere ich es im nächsten Schritt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/dbb854adabaabf882770158c7017795f/37523/dockerlamp_zert.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 72.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACGElEQVQ4y41SyXLTQBT03/IB/AAH4MQBhwNU5W9SRRE4xHaQrCXaQrRau+RYmpHkpuYpkk0olkNXv5l502r1m0VZeHisHxBHOrLUQp3ryNM7aMo1dO0rQl+B70rwXZk48GTcO2ts5c8w9G/Q1WtImytI2y9Q1Q0WPH0BVl6CFRdgxYeZh/1HHB8//TdwuARLX2LRVe/RcoAxhpYNJ7Q9mubvoB7q42AcqMJXQvACLQM4O6DrOnDOZ4zrc/C5FmesZWgJDTgH6t0bIbgk9X1dIM8LlGWFoqiQZzmyLEdRlMQC4izPS6RpRhBijPFnguUSvAfSJIJjO/D9ALtdQgJxnCBJMyRJShAi016cpE/u/uRwf3LS9wOG4fhPiD7x+6xtf3cYxyFMw4Tj3MOybFiWRTytTdMi2LYDe9q3HQRBiP2+Bu+AOnqNBS+X6AYgCFzIsgxdNyBLWyiKAmWrUgQEb2SPap9q1/Up46Y5PHPYAXmWjPkkY2ZRtENV1TgeQRgmHo6/cNf1pwzPHfreD6iqBstyYJomNFXDg+vNgxDZig+JlyDWgsVZXe/BWDvOIX57yjCJQ6iaTs6my+JiEET0e2E4ssjMdT3qE7WYthCkt1y+Gx32A+A+OLi5WUGSZKzXG6xWa9zefieY5jgUQ+DOgKbpMAyLOIx2s2AnBOcM8+RpACHCMCRH5CCOcTg0aJp25qkWEA/7XPAn2wsVbdsxDwIAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Sicherheitshinweis"
        title="Sicherheitshinweis"
        src="/static/dbb854adabaabf882770158c7017795f/37523/dockerlamp_zert.png"
        srcset="/static/dbb854adabaabf882770158c7017795f/772e8/dockerlamp_zert.png 200w,
/static/dbb854adabaabf882770158c7017795f/e17e5/dockerlamp_zert.png 400w,
/static/dbb854adabaabf882770158c7017795f/37523/dockerlamp_zert.png 720w"
        sizes="(max-width: 720px) 100vw, 720px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p><code class="language-text">https://joomla.test/</code> und <code class="language-text">https://joomla.local/</code> adressieren die gleichen Dateien. Warum wurden zwei verschiedene Domains zur Verfügung gestellt, die das gleiche Ziel verlinken? Ganz einfach. So kannst du Debuggen und gleichzeitg Browsen.</p>
</blockquote>
<h4 id="zertifikat-importieren" style="position:relative;"><a href="#zertifikat-importieren" aria-label="zertifikat importieren permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zertifikat importieren</h4>
<p>In Mozilla Firefox importiert man das Zertifikat wie folgt:</p>
<ol>
<li>Öffne die Einstellungen (Preferences). und klicke in der linken Seitenleiste auf Datenschutz &#x26; Sicherheit (Privacy and Security).</li>
<li>Im rechten Bereich findest du nun weiter unten den Abschnitt Sicherheit (Security). Klicke hier auf die Schaltfläche Zertifikate anzeigen (View Certificates).</li>
<li>Wechsele in den Tabulator Zertifizierungsstellen (Authorities).</li>
<li>Importiere die Datei <code class="language-text">APP_BASEDIR/ca/minica-root-ca.pem</code>. Achte darauf, dass du <code class="language-text">Webseite vertrauen</code> aktivierst.</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/987f74f8a47eafb26365df4d757135af/9040f/dockerlamp_zertbrowser.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACDElEQVQoz22S204TURSGeTMfwFfgxgRMYyqdaWfaOdYErFSKFyReEBApIy1PYbzzSoqRQkwM0bZMD5Q50ClFMO1nZmMJCV6s7HXI+va/114zqppFN00syyaX0zFNG9vOYxgmcU1RVNLpjPCz2ZyIFSWL8kwjq2qizzQtYbE/I6dl9ISBlbSRRLMiAEtLL3Ech3J5hx2nwsbmOzY3NtmtVNgtO+w9ecv62jqmZWGZtoDdAh/r5B5ZGLM2ipZBSsnMzz9la+s91zd/GAwiouiSILhgcBExurkmavj4xS/UP+5j5G2sf+oEUJVyGKqFqd1Kz+dfiOdVq3v0+x6u26HXO6PbO6Pd7tLpdPG8EK8b8XX/G0Y8rvsK7fgG2xbSUykJVVVJJpM4zgfCMORXo0Gr2eK00RJns9kkGg4ZM+bo+BhDN+9gAnh/oJmMwsJCirm5eba3y3ieR+PkJ26nTW/k0+33cF2Xq6srJuMJR/Uj8Xn/BcamKAq6bohPqVaqDH+P6P9w6a595tw5IPjexh+ERNGQ8XjC4WH9IXDqxEBZTgtYMvkcZ8fh8nJE4If4tVP6n04IW+eE0QDfCwiCkFrt4CEwTsQ2BUqSLPYt3sXl5SLLxSKLiQL52UVeJ0qsFlYpvVllZaVEofDqblx3wOmyTqHTQhxrmi5GoGRUZEkmt6Chqwaafpufqru/2H8BgREvMSdESFwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Zertifikat importieren"
        title="Zertifikat importieren"
        src="/static/987f74f8a47eafb26365df4d757135af/5a190/dockerlamp_zertbrowser.png"
        srcset="/static/987f74f8a47eafb26365df4d757135af/772e8/dockerlamp_zertbrowser.png 200w,
/static/987f74f8a47eafb26365df4d757135af/e17e5/dockerlamp_zertbrowser.png 400w,
/static/987f74f8a47eafb26365df4d757135af/5a190/dockerlamp_zertbrowser.png 800w,
/static/987f74f8a47eafb26365df4d757135af/c1b63/dockerlamp_zertbrowser.png 1200w,
/static/987f74f8a47eafb26365df4d757135af/29007/dockerlamp_zertbrowser.png 1600w,
/static/987f74f8a47eafb26365df4d757135af/9040f/dockerlamp_zertbrowser.png 1613w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>Das Zertifikat wird von <code class="language-text">docker-lamp</code> standardmäßig für die <code class="language-text">https://joomla.test/</code> oder <code class="language-text">https://joomla.local/</code> erstellt. Unter <code class="language-text">https://test/</code> oder <code class="language-text">https://local/</code> gibt es weiterhin den Fehler. Ein konkretes <a href="/en/ubuntu-docker-lamp-verwenden-eigene-domain">Beispiel</a> beschreibt die Vorgehensweise zum Zertifizieren von neuen Domains.</p>
</blockquote>
<h2 id="mögliche-fehler" style="position:relative;"><a href="#m%C3%B6gliche-fehler" aria-label="mögliche fehler permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mögliche Fehler</h2>
<p>Je nach Konfiguration kommt es unter Ubuntu 20.04 beim Aufruf von <code class="language-text">./docker-lamp start</code> zu einem Fehler</p>
<h3 id="permission-denied-but-minica-root-capem-exists" style="position:relative;"><a href="#permission-denied-but-minica-root-capem-exists" aria-label="permission denied but minica root capem exists permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>permission denied (but minica-root-ca.pem exists)</h3>
<p>Falls die Ausgabe von <code class="language-text">./docker-lamp start</code> mit dem nachfolgenden Text startet, stimmen Berechtigungen nicht.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="36"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">./.env included</span></span>
<span class="grvsc-line"><span class="grvsc-source">2021/02/04 19:57:06 open minica-root-ca-key.pem: permission denied (but minica-root-ca.pem exists)</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h4 id="abhilfe-schafft-die-folgende-vorgehensweise" style="position:relative;"><a href="#abhilfe-schafft-die-folgende-vorgehensweise" aria-label="abhilfe schafft die folgende vorgehensweise permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abhilfe schafft die folgende Vorgehensweise</h4>
<p>Als erstes ins <code class="language-text">APP_BASEDIR</code> wechseln in meinem Fall ist die <code class="language-text">/srv</code>. Prüfe als nächstes in diesem Verzeichnis alle Rechte. Alle Inhalte sollten dem aktuellen Benutzer und dessen Gruppe gehören.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="37"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">/srv$ ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">insgesamt 40</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  9 root   youruser 4096 Mai 17 14:50 ./</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxr-xr-x 20 root   root   4096 Apr 26 08:54 ../</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  2 youruser youruser 4096 Mai 17 01:12 apache24/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  3 youruser youruser 4096 Mai 17 13:28 ca/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  3 youruser youruser 4096 Mai 17 01:12 httpd/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  2 youruser youruser 4096 Mai 17 03:44 initDB/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  7 youruser youruser 4096 Mai 17 01:12 php/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  2 youruser youruser 4096 Mai 15 05:36 phpinfo/</span></span>
<span class="grvsc-line"><span class="grvsc-source">-rw-rw-r--  1 youruser youruser  144 Mai 15 05:36 README.md</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x  5 youruser youruser 4096 Mai 17 03:44 www/</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<p>Mit dem folgenden Befehl alle Inhalte dem aktuellen Benutzer, in dem Falle beide Mal <code class="language-text">deinBenutzer</code>, zuweisen.</p>
<blockquote>
<p>Unter Umständen ist das Verzeichnis  <code class="language-text">/srv</code> ebenfalls anzupassen. Je nachdem welches Linux System benutzt wird, gehört der Benutzer der Gruppe der <em>Sudoers</em> zu. Unter ArchLinux ist das <code class="language-text">wheel</code>, auf anderen kann es auch <code class="language-text">sudoers</code> sein. Prüfe dem Befehl <code class="language-text">id</code>, wie die Gruppe in deinem Fall heißt und ob dein Benutzer dieser Gruppe angehört. Passe dann den Ordner an: <code class="language-text">$ sudo chown root:&lt;SUDOERGRUPPE> /srv</code> und <code class="language-text">$ sudo chmod 775 /srv</code>. Wichtig ist, dass dein Benutzer im Verzeichnis <code class="language-text">/srv</code> schreiben darf.</p>
</blockquote>
<pre class="grvsc-container default-dark" data-language="" data-index="38"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo chown -R deinBenutzer:deinBenutzer .</span></span></code></pre>
<p>Am Ende wieder zurück ins <code class="language-text">docker-lamp</code>-Verzeichnis wechseln und den Befehl <code class="language-text">./docker-lamp start</code> wiederholen.</p>
<h3 id="error-for-docker-lamp_bind-cannot-start-service-bind" style="position:relative;"><a href="#error-for-docker-lamp_bind-cannot-start-service-bind" aria-label="error for docker lamp_bind cannot start service bind permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ERROR: for docker-lamp_bind Cannot start service bind</h3>
<pre class="grvsc-container default-dark" data-language="" data-index="39"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">Creating docker-lamp_bind ... error</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: for docker-lamp_bind  Cannot start service bind: driver failed programming external connectivity on endpoint docker-lamp_bind (f4e68e24013e93124e6f55ebe821a87c5ca58cf7dca8c6388181fac9956ed26e): Error starting dockeruserland proxy: listen tcp4 0.0.0.0:53: bind: address already in use</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: for bind  Cannot start service bind: driver failed programming external connectivity on endpoint docker-lamp_bind (f4e68e24013e93124e6f55ebe821a87c5ca58cf7dca8c6388181fac9956ed26e): Error starting userland proxy: listen tcp4 0.0.0.0:53: bind: address already in use</span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: Encountered errors while bringing up the project.</span></span>
<span class="grvsc-line"><span class="grvsc-source">make: *** [Makefile:51: server-up] Fehler 1</span></span></code></pre>
<h4 id="abhilfe-schafft-die-folgende-vorgehensweise-1" style="position:relative;"><a href="#abhilfe-schafft-die-folgende-vorgehensweise-1" aria-label="abhilfe schafft die folgende vorgehensweise 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abhilfe schafft die folgende Vorgehensweise</h4>
<ol>
<li><code class="language-text">sudo systemctl disable systemd-resolved.service</code></li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="40"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ sudo systemctl disable systemd-resolved.service</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removed /etc/systemd/system/dbus-org.freedesktop.resolve1.service.</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removed /etc/systemd/system/multi-user.target.wants/systemd-resolved.service.</span></span></code></pre>
<ol start="2">
<li><code class="language-text">sudo systemctl stop systemd-resolved.service</code></li>
</ol>
<pre class="grvsc-container default-dark" data-language="" data-index="41"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ sudo systemctl stop systemd-resolved.service</span></span></code></pre>
<blockquote>
<p>Was ist der Unterschied zwischen <code class="language-text">systemctl stop</code> und <code class="language-text">systemctl disable</code> beziehungsweise <code class="language-text">systemctl start</code> und <code class="language-text">systemctl enable</code>? <code class="language-text">systemctl start</code> und <code class="language-text">systemctl enable</code> machen verschiedene Dinge. Mit <code class="language-text">enable</code> wird der angegebene Dienst an relevanten Stellen eingehängt, sodass er beim Booten automatisch gestartet wird. <code class="language-text">start</code> startet das Gerät sofort. Deaktivieren und Stoppen sind das Gegenteil davon. <a href="http://manpages.ubuntu.com/manpages/hirsute/en/man1/systemctl.1.html">Manpage</a></p>
</blockquote>
<ol start="3">
<li>Einstellungen anpassen</li>
</ol>
<p>Viele Wege führen nach Rom. Ich beschreibe dir hier meine Vorgehensweise. Alternativ kannst du die Anpassungen in den Einstellungen deiner Netzwerkverbindung vornehmen. Achte dabei darauf, dass die Datei <code class="language-text">/etc/resolv.conf</code> nach den Änderungen nicht mehr beschreibbar ist.</p>
<p><code class="language-text">sudo rm /etc/resolv.conf</code></p>
<p>Warum ist die Datei zu löschen?</p>
<p>Die Datei <code class="language-text">/etc/resolv.conf</code> ist ein Symlink.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="42"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ll /etc/</span></span>
<span class="grvsc-line"><span class="grvsc-source">insgesamt 1128</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">lrwxrwxrwx   1 root root      39 Feb  4 00:00 resolv.conf -&gt; ../run/systemd/resolve/stub-resolv.conf</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<p>Die verlinkte Datei hat folgenden Inhalt:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="43"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ cat /etc/resolv.conf</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">nameserver 127.0.0.53</span></span>
<span class="grvsc-line"><span class="grvsc-source">options edns0</span></span>
<span class="grvsc-line"><span class="grvsc-source">search localdomain</span></span></code></pre>
<p>Mit dem Löschen der Datei wird gleichzeitig der Symlink gelöscht. Würden wir die Datei nicht löschen, würde der Inhalt bei jedem Neustart wiederhergestellt. Der Eintrag <code class="language-text">nameserver 127.0.0.53</code> ist aber die Ursache für den Fehler, den wir lösen möchten.</p>
<ol start="4">
<li><code class="language-text">sudo nano /etc/resolv.conf</code></li>
</ol>
<p>Als letztes erstellen wir die Datei mit <code class="language-text">sudo nano /etc/resolv.conf</code> neu. Dann tragen wir zwei passende <code class="language-text">nameserver</code> ein, wobei <code class="language-text">nameserver 192.168.178.2</code> ein Beispiel für die Konfiguration einer Fritzbox ist, und passen alles an die eigenen Gegebenheiten an.</p>
<pre class="grvsc-container default-dark" data-language="" data-index="44"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nameserver 127.0.0.1</span></span>
<span class="grvsc-line"><span class="grvsc-source">nameserver 192.168.178.2</span></span></code></pre>
<p>Es ist wichtig, dass der Eintrag <code class="language-text">nameserver 127.0.0.1</code> an erster Stelle steht. Nach einem Neustart wird der <code class="language-text">docker</code>-Container verwendet. Wenn der nicht verfügbar ist, wird auf <code class="language-text">nameserver 192.168.178.2</code> verwiesen. So ist sichergestellt, dass eine Internetverbindung auch bei gestopptem Container verfügbar ist.</p>
<ol start="5">
<li><code class="language-text">dns=default</code> im NetworkManager</li>
</ol>
<p>Als letztes stellen wir den NetworkManager auf <code class="language-text">dns=default</code> ein.</p>
<p>Dazu wird erst der Dienst gestoppt:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="45"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo systemctl stop NetworkManager.service</span></span></code></pre>
<p>Danach öffnen wir die Datei zum editieren:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="46"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo gedit /etc/NetworkManager/NetworkManager.conf</span></span></code></pre>
<p>Dann fügen wir im Bereich <code class="language-text">[main]</code> die Zeile <code class="language-text">dns=default</code> ein:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="47"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">[main]</span></span>
<span class="grvsc-line"><span class="grvsc-source">dns=default</span></span>
<span class="grvsc-line"><span class="grvsc-source">plugins=ifupdown,keyfile</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">[ifupdown]</span></span>
<span class="grvsc-line"><span class="grvsc-source">managed=false</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">[device]</span></span>
<span class="grvsc-line"><span class="grvsc-source">wifi.scan-rand-mac-address=no</span></span></code></pre>
<p>Am Ende starten wir den Dienst wieder:</p>
<pre class="grvsc-container default-dark" data-language="" data-index="48"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo systemctl start NetworkManager.service</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<p>Voila! Das war es.</p>
<h2 id="gesamtes-set" style="position:relative;"><a href="#gesamtes-set" aria-label="gesamtes set permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gesamtes Set</h2>
<ol>
<li><a href="/ubuntu-vorwort-docker-lamp">Vorwort</a></li>
<li><a href="/ubuntu-git-einrichten-docker-lamp">Git</a></li>
<li><a href="/ubuntu-docker-einrichten-docker-lamp">Docker</a></li>
<li><a href="/ubuntu-docker-compose-einrichten-docker-lamp">Docker Compose</a></li>
</ol>
<p>-> 5. <a href="/ubuntu-docker-lamp-einrichten">docker-lamp einrichten</a></p>
<ol start="6">
<li><a href="/ubuntu-docker-lamp-verwenden">docker-lamp verwenden</a></li>
<li><a href="/ubuntu-docker-lamp-verwenden-eigene-projekte">docker-lamp mit eigenen Projekten</a></li>
<li><a href="/ubuntu-vscode-docker-lamp">Visual Studio Code</a></li>
<li><a href="/ubuntu-docker-lamp-verwenden-eigene-domain">docker-lamp mit eigenen Domain</a></li>
</ol>
<img src="https://vg02.met.vgwort.de/na/dbab92cdc0b54da0bfde0222255f2d20" width="1" height="1" alt="">
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><section id="comments" class="comments container"><h3>Comments</h3><div></div></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ubuntu-docker-lamp-einrichten/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-87f5ae838a3e11ab908d.js"],"app":["/app-24df0ae8e19938884045.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5f1261b30b7ee352090a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7be8df31721789d53c28.js"],"component---src-pages-books-js":["/component---src-pages-books-js-ffee86f2ac01d1e02a72.js"],"component---src-pages-index-js":["/component---src-pages-index-js-bdba66464409bbe474c1.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-a01e40860ee25e8046f1.js"],"component---src-templates-category-js":["/component---src-templates-category-js-49bc4748c0cd1500052b.js"],"component---src-templates-post-js":["/component---src-templates-post-js-5bf317be5f8d2d313ff1.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-26ffbf608cbeadb83d5e.js"]};/*]]>*/</script><script src="/polyfill-87f5ae838a3e11ab908d.js" nomodule=""></script><script src="/component---src-templates-post-js-5bf317be5f8d2d313ff1.js" async=""></script><script src="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js" async=""></script><script src="/commons-711ca7686977bac14a85.js" async=""></script><script src="/app-24df0ae8e19938884045.js" async=""></script><script src="/framework-a8bc927eb7481ca28d49.js" async=""></script><script src="/webpack-runtime-a96efd9e91f9049fb541.js" async=""></script></body></html>