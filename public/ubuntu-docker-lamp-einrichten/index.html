<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.285364cacd1526d9876d.css" id="gatsby-global-css">:root{--font-color:#495057;--link-color:#16868f;--heading-color:#183446;--dark-font-color:#212529;--light-font-color:#868e96;--light-background:#fafafa;--light-blockqoute:#fafafa;--dark-blockqoute:#16868f;--border:#d6d9de;--font-weight-normal:200;--font-weight-bigger1:250;--font-weight-bigger2:300;--font-weight-biggest:350}pre{font-size:.7rem}@media screen and (min-width:800px){pre{font-size:.8rem}}@media screen and (min-width:1000px){pre{font-size:1rem}}*,:after,:before{box-sizing:border-box}html{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI,Roboto,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;color:var(--font-color);font-weight:var(--font-weight-normal);font-size:.9rem;line-height:1.5}body{margin:0;padding:0 1.5rem}@media screen and (min-width:800px){body{padding:0 2rem}}article{min-width:0}section{margin:2rem 0}section>h2{margin-top:4rem}@media screen and (min-width:800px){section{margin:3rem 0}}.container{max-width:1100px;margin-left:auto;margin-right:auto}img{display:inline-block;max-width:100%;height:auto}blockquote,dl,ol,p,table,ul{font-size:1.05rem;margin:0 0 1.5rem}ul{padding:0 1rem}@media screen and (min-width:800px){ul{padding:0 2rem}}ul li p{margin:0}ul li ul{padding-left:1rem;margin:0}ul li ul li{margin:.25rem 0}ol li ol{margin-bottom:0}.task-list-item [type=checkbox]{margin-right:.5rem}blockquote{margin:1.5rem 0;padding:1rem;background:var(--light-blockqoute);border-top:1px solid var(--dark-blockqoute);border-right:5px solid var(--dark-blockqoute)}blockquote p{margin:0}blockquote a{padding:1px 4px}blockquote a,blockquote a:hover{border-bottom:2px solid var(--dark-blockqoute);color:var(--heading-color)}blockquote a:hover{border-radius:.3rem;background:var(--dark-blockqoute)}h1,h2,h3,h4,h5{margin:0 0 1.5rem;font-weight:var(--font-weight-biggest);line-height:1.2;color:var(--heading-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1:not(:first-child),h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}h1{font-size:2.5rem;line-height:1.1}h2{font-size:1.75rem}h2 code{font-size:1.75rem!important}h3{font-size:1.5rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.5rem!important}h4{font-size:1.4rem;color:var(--font-color);font-weight:var(--font-weight-bigger1)}h4,h5{margin-bottom:1rem}h5{font-size:1.2rem}@media screen and (min-width:800px){h1{font-size:3rem}h2{font-size:2rem}h2 code{font-size:2rem!important}h3{font-size:1.6rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.6rem!important}}aside{min-width:300px}aside p,aside ul{font-size:.95rem}aside ul{padding-left:1rem}aside h3{font-size:1.4rem}aside a.link:hover{border-bottom:0;background:var(--light-background)}.aside-content{border-top:2px solid var(--light-background)}@media screen and (min-width:1100px){.aside-content{border-top:0;border-left:2px solid var(--light-background);padding-left:2rem}.aside-content section{margin-top:.25rem}}a.link{display:grid;grid-template-columns:45px auto;align-items:center;color:var(--heading-color);border-bottom:none;padding:.75rem;border-radius:.3rem}a.link:hover{border-bottom:none;background:var(--light-background)}a.link img{display:inline-block;height:auto;margin-right:1rem;height:22px;width:auto}.lead{margin:4rem 0}.lead h1{color:var(--dark-font-color);font-weight:var(--font-weight-biggest);font-size:2.5rem;margin-bottom:2rem}.lead p{font-size:1.1rem}@media screen and (min-width:800px){.lead h1{font-size:3rem}.lead p{font-size:1.2rem}}p.subtitle{color:var(--light-font-color);font-size:1.2rem}@media screen and (min-width:800px){p.subtitle{font-size:1.4rem}}a{color:var(--link-color);text-decoration:none;font-weight:var(--font-weight-bigger2)}a:hover{border-bottom:2px solid var(--link-color);color:var(--heading-color)}a.gatsby-resp-image-link:hover{border-bottom:none}a code{border-bottom:2px solid var(--link-color)}a code:hover{background:var(--link-color)!important;color:#fff!important}main{margin-top:7rem}.navbar{width:100%;padding:1rem 2rem;position:fixed;top:0;left:0;background:#fff;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);z-index:2}.navbar .flex{justify-content:space-between}.footer a,.navbar a{border-radius:.3rem;padding:.5rem;margin:0 .25rem;color:var(--light-font-color);border-bottom:none;font-weight:var(--font-weight-normal)}.footer a:hover,.navbar a:hover{background:var(--light-background);color:var(--font-color)}.navbar a:first-of-type{margin-left:-1rem}.navbar a:last-of-type{margin-right:-1rem}.navbar a.brand{font-size:1.1rem;font-weight:var(--font-weight-bigger2);color:var(--font-color);white-space:nowrap}@media screen and (min-width:800px){main{margin-top:0}.navbar{margin:2rem 0 5rem;padding:1.5rem 0;position:static;background:#fff;box-shadow:none}.navbar .flex{justify-content:flex-start}.footer a,.navbar a{padding:1rem 1.5rem;font-size:1.1rem}.navbar a.brand{font-size:1.3rem;margin-right:3rem}.navbar a:first-of-type{margin-left:-1.5rem}}.footer{margin:3rem auto}.footer>.flex{flex-direction:column}.footer-links,.footer>.flex{align-items:center;justify-content:center}.footer-links{display:flex;flex-wrap:wrap}.flex nav{padding:1rem 0}.footer a.img{display:flex;align-items:center;padding:0;margin:0 .75rem;background:none}.footer img{height:30px;width:30px}@media screen and (min-width:800px){.footer{margin:5rem auto}.footer>.flex{align-items:flex-start;margin-left:-1.5rem;margin-right:-1.5rem}.footer a.img{padding:0 .5rem;margin:0 1rem}}.emoji{margin:0 .4rem 0 .1rem}table{border-collapse:collapse;border-spacing:0;width:100%;max-width:100%;overflow-x:auto;display:block}th{border-bottom:2px solid var(--light-background)}tfoot th{border-top:2px solid var(--light-background)}td{border-bottom:2px solid var(--light-background)}td,th{text-align:left;padding:.75rem!important;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}tbody tr:nth-child(2n){background-color:var(--light-background)}.flex{display:flex;align-items:center}.grid{display:grid;align-items:stretch}.grid.projects{grid-template-columns:40px auto}.row .cell.description{grid-column:1/span 2;margin-bottom:2rem;line-height:1.3;font-size:1.1rem}@media screen and (min-width:800px){.grid{margin-left:-1rem;margin-right:-1rem}.grid.projects{grid-template-columns:50px 1fr 4fr}.row .cell.description{grid-column:auto;margin-bottom:0}.grid.posts{grid-template-columns:200px 4fr}.grid.lists{grid-template-columns:2fr 4fr}.grid.posts.with-tags{grid-template-columns:200px 4fr 2fr}}.row{display:contents}.lists .row,.posts .row{display:block;margin-bottom:2rem;border-bottom:none}.row .cell{display:flex;align-items:center;font-weight:var(--font-weight-biggest);color:var(--dark-font-color);font-size:1.2rem;line-height:1.2;padding:.5rem 0}.row .cell time{font-size:.8rem}@media screen and (min-width:800px){.row .cell{font-size:1.1rem}.row .cell time{font-size:.9rem}.row .cell.simple{padding:.5rem 0}.lists .row,.posts .row{display:contents}.row:hover>*{background:var(--light-background)}.row .cell.simple:first-child,.row .cell:first-child{padding-left:1rem;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.row .cell.simple:last-child,.row .cell:last-child{padding-right:1rem;padding-left:1rem;border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}}.row .cell.light{font-weight:var(--font-weight-normal);color:var(--light-font-color)}.grid.guide{grid-gap:1.5rem;grid-auto-rows:1fr;margin-top:3rem;margin-left:0;margin-right:0}.grid.guide a{transition:all .2s ease;display:flex;align-items:center;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);border-bottom:none}.grid.guide .gatsby-image-wrapper{margin-right:1.5rem}.grid.guide a:hover{transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}.grid.guide h2{margin:0;font-size:1rem;flex:1 1}@media screen and (min-width:600px){.grid.guide{grid-template-columns:repeat(2,minmax(0,1fr))}.grid.guide a{flex-direction:column;justify-content:center}.grid.guide h2{text-align:center;margin:1rem 0 0;flex:none}.grid.guide .gatsby-image-wrapper{margin-right:0}}@media screen and (min-width:800px){.grid.guide{grid-template-columns:repeat(3,minmax(0,1fr))}}@media screen and (min-width:1000px){.grid.guide{grid-template-columns:repeat(4,minmax(0,1fr))}}@media screen and (min-width:1200px){.grid.guide{grid-template-columns:repeat(5,minmax(0,1fr))}}html body div#___gatsby div#gatsby-focus-wrapper main.container section.grid.post article div p span.gatsby-resp-image-wrapper a.gatsby-resp-image-link img.gatsby-resp-image-image{border:1px solid #ddd;border-radius:4px;padding:5px}.grid.post{grid-gap:3rem;margin-left:0;margin-right:0}.article-header h1{font-size:2rem;margin-bottom:1rem;margin-top:.5rem}@media screen and (min-width:1100px){.grid.post{grid-template-columns:3fr 1fr}.article-header h1{font-size:2.75rem;margin-bottom:3rem}}[type=search]{display:block;padding:.8rem 1rem;border:2px solid var(--border);width:100%;max-width:400px;border-radius:.3rem;font-size:1rem}:-moz-placeholder,:-ms-input-placeholder,::-moz-placeholder,::-webkit-input-placeholder,::placeholder{color:var(--light-font-color)}.suggested{flex-direction:column;align-items:stretch;margin-left:-1rem;margin-right:-1rem}.suggested a{text-align:center;margin:1rem;border-bottom:none;transition:all .2s ease;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);color:var(--font-color)}.suggested a:hover{transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}@media screen and (min-width:800px){.suggested{flex-direction:row}.suggested a{flex-grow:0;flex-shrink:0;flex-basis:calc(50% - 2rem)}}.small{max-width:600px}.medium{max-width:750px}.meta,time{color:var(--light-font-color);font-size:.9rem;white-space:nowrap;font-weight:var(--font-weight-normal)}.count{font-weight:var(--font-weight-biggest);color:var(--link-color)}.tags{display:flex!important;align-items:center;overflow:hidden}.tags>a{display:block;font-weight:var(--font-weight-bigger1);background:#f1f3f5;color:#343a40;margin:.2rem;padding:.4rem .5rem;font-size:.8rem;border-radius:.3rem;border-bottom:0;white-space:nowrap}.tags>a:first-child{margin-left:0}.tags>a:last-child{margin-right:0}.tags>a:hover{background:#868e96;color:#fff}mark{background:#ffec99}a.tag-javascript,a.tag-sql{background:#fff3bf;color:#000}a.tag-javascript:hover,a.tag-sql:hover{background:#ffd43b;color:#000}a.tag-git,a.tag-html,a.tag-linux,a.tag-snippets{background:#fff4e6;color:#e8590c}a.tag-git:hover,a.tag-html:hover,a.tag-linux:hover,a.tag-snippets:hover{background:#fd7e14;color:#fff}a.tag-new-year,a.tag-vue{color:#087f5b;background:#e6fcf5}a.tag-new-year:hover,a.tag-vue:hover{background:#0ca678;color:#fff}a.tag-fundamentals,a.tag-game,a.tag-testing{background:#d3f9d8;color:#111}a.tag-fundamentals:hover,a.tag-game:hover,a.tag-testing:hover{background:#37b24d;color:#fff}a.tag-automation,a.tag-node,a.tag-security{background:#fff5f5;color:#e03131}a.tag-automation:hover,a.tag-node:hover,a.tag-security:hover{background:#f03e3e;color:#fff}a.tag-jQuery,a.tag-notes,a.tag-projects,a.tag-reference,a.tag-wordpress{background:#e3fafc;color:#0c8599}a.tag-jQuery:hover,a.tag-notes:hover,a.tag-projects:hover,a.tag-reference:hover,a.tag-wordpress:hover{background:#1098ad;color:#fff}a.tag-architecture,a.tag-css,a.tag-dom{background:#e7f5ff;color:#1971c2}a.tag-architecture:hover,a.tag-css:hover,a.tag-dom:hover{background:#1c7ed6;color:#fff}a.tag-gatsby,a.tag-life,a.tag-php,a.tag-redux{background:#f3f0ff;color:#6741d9}a.tag-gatsby:hover,a.tag-life:hover,a.tag-php:hover,a.tag-redux:hover{background:#7950f2;color:#fff}a.tag-api,a.tag-react{background:#edf2ff;color:#3b5bdb}a.tag-api:hover,a.tag-react:hover{background:#4263eb;color:#fff}a.tag-database,a.tag-design{background:#fff0f6;color:#c2255c}a.tag-database:hover,a.tag-design:hover{background:#e64980;color:#fff}a.tag-notes{background:#f8f0fc;color:#9c36b5}a.tag-notes:hover{background:#ae3ec9;color:#fff}:root{--code-font-family:Menlo,"Roboto Mono",Courier New,monospace;--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--light-background:#f1f3f5}pre[class*=language-]{box-shadow:0 8px 16px rgba(0,0,0,.55)}code[class*=language-],pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.8rem;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;font-weight:400;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1.5rem 2rem;margin:.5rem -1.5rem 2rem;overflow:auto}@media screen and (min-width:800px){code[class*=language-],pre[class*=language-]{font-size:.9rem}pre[class*=language-]{padding:1.5rem;margin-left:auto;margin-right:auto;border-radius:.3rem}}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:var(--code-background-color)}:not(pre)>code[class*=language-]{padding:.1rem .3rem;border-radius:.3rem}code.language-text,pre.language-text{background:var(--light-background)!important;color:#333!important;box-shadow:none}code.language-shell:before{content:"$ ";color:var(--comment)}pre.language-terminal{position:relative;background:#fff;color:#595c62;box-shadow:0 8px 16px rgba(100,120,130,.35);padding-top:3rem;margin:2rem 0;border-radius:.3rem}code.language-terminal{color:#595c62}pre.language-terminal:before{content:"\2022   \2022   \2022";position:absolute;top:0;left:0;background:#e0e3e7;color:var(--code-font-color);width:100%;font-size:2.5rem;margin:0;line-height:0;padding:18px 0 16px;text-indent:6px;letter-spacing:-18px}.gatsby-highlight-code-line{background-color:#191919;display:block;margin-right:-1rem;margin-left:-1rem;padding-right:1rem;padding-left:.75rem;border-left:.25rem solid #748ffc}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.filename{font-size:.9rem;margin-bottom:-.8rem;padding:.5rem 1rem .75rem;line-height:1.8;background-color:#000;color:#fff;z-index:1;margin-left:-1.5rem;margin-right:-1.5rem}@media screen and (min-width:800px){.filename{border-top-left-radius:.3rem;border-top-right-radius:.3rem;margin-left:auto;margin-right:auto}}code::selection,pre::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}code[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}</style><meta name="generator" content="Gatsby 2.32.8"/><title data-react-helmet="true">docker-lamp einrichten | Astrid Günther</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAKJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////oK8DKAAAADR0Uk5TAAcFUJJIFGOlRfPFUiXbeXXt8n4Kas1bA4/5gyyAnlf89WcCcN4oMfuyHN3TbhLuwXIiARdSFQIAAAABYktHRDXettlrAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAaUlEQVQY02NgoANgROUyMbMwsLIhCbBzcDJwcfMwwfi8fPw8DAKCQsIiUAFREzFxBglJEylpqFEyshxyDAzyCiaKSjBNyhIMDComJiaqagiD1cVMTDQ0tRAC2iYaOrp6SFbrGxgaGSPxAeofB3Dy5mHsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEyLTMxVDEzOjI3OjUyKzAwOjAwahG+IAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMi0zMVQxMzoyNzo1MiswMDowMBtMBpwAAABGdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuNy44LTkgMjAxNC0wNS0xMiBRMTYgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmfchu0AAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OmhlaWdodAAxOTIPAHKFAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE5MtOsIQgAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0NjI2Mjg3MhvFQhUAAAAPdEVYdFRodW1iOjpTaXplADBCQpSiPuwAAABWdEVYdFRodW1iOjpVUkkAZmlsZTovLy9tbnRsb2cvZmF2aWNvbnMvMjAxOC0xMi0zMS9hNTIxNmRhZDQ0YjlhNzJmNjM1OWZjMjEwMjJlYzQwMS5pY28ucG5nxAVqqwAAAABJRU5ErkJggg=="/><meta data-react-helmet="true" name="description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de//static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de//ubuntu-docker-lamp-einrichten/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="docker-lamp einrichten"/><meta data-react-helmet="true" property="og:description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de//static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="astridguenther"/><meta data-react-helmet="true" name="twitter:title" content="docker-lamp einrichten"/><meta data-react-helmet="true" name="twitter:description" content="Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de//static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de/","name":"docker-lamp einrichten","alternateName":"docker-lamp einrichten"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de//ubuntu-docker-lamp-einrichten/","name":"docker-lamp einrichten","image":"https://blog.astrid-guenther.de//static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de/","name":"docker-lamp einrichten","alternateName":"docker-lamp einrichten","headline":"docker-lamp einrichten","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de//static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png"},"description":"Zur Erinnerung: Docker erleichtert die Verwaltung von Software in Containern. Docker Compose ist ein Tool, welches die Arbeit mit mehreren…"}]</script><link rel="icon" href="/favicon-32x32.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#16868F"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/framework-beda7bde9d7dca0755ce.js"/><link as="script" rel="preload" href="/2eb34e24a7978f22f43bd5ecdb7a829863655f3a-48991b6883fd8ca3ac94.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-667052059468a9335e15.js"/><link as="script" rel="preload" href="/aa3aa33236ba1a946df696292e3a21e57ad97e5d-ecedd2c80549e60c9d95.js"/><link as="script" rel="preload" href="/app-ba7caadd7e3b300c93d6.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/webpack-runtime-da06cbbe39f9b3319c54.js"/><link as="fetch" rel="preload" href="/page-data/ubuntu-docker-lamp-einrichten/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="navbar"><div><a href="/"><img style="display:block;max-width:100%;margin:auto" src="/logo2.png" alt=""/></a></div><div class="container flex"><div><a href="/blog">Blog</a><a href="/tutorial">Sets</a></div><button style="margin-left:20px" id="dark-mode-button">🌙</button><a href="/en/ubuntu-docker-lamp-einrichten/">english</a></div></nav><main class="container"><aside><div class="aside-content"><section><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:80px;height:80px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAESUlEQVQ4y11Uf0xbZRQtzAlD9gMoBcQsizFGE51mcYapEzYH9gfFMN2UqFvEBcVodFMTN4KZRraJm25G/hia6JYly5ZpomHBSDTKYuYwM5K5IX19bV87SoG2MIr8aPu+473fey9BX3Lzvj7uPdx77jmfzf94iY2fv2vzbXReYjMfOldRdFJcppiiSFEM+Z32btVT4Rr9uM3Ic5bmWhjWmw7FFPZc8+Naij7NZcdEvR0RegecRoTpPE7fRmpXgHIGCdzNNWpDOdflmJ0VLAbbSSFiHjsX6FSQUd1lut/lEDKcdt1fV5wJPbc2O+IqRpSCvh3k2nDLaqNDa0wGY6CAs4TB0gQk/FtWCt9DuUKpzhdKzTLhq7KJyXNdAoBInjmWUWoKssknyjj/iOzUbIzB7uPOTLCs6irFMAEFn75LxL94D9N9pzHz63mMfvAC/hnoAwPOXb0EZfNyOcV4fSnXNdkWLaDPHDNNCZRYKGKHWjD6/g78/4l//i4mv+5CeNcGoWy6BX5XaZa5pdoIRaHcpuYqYS501VMufI8sFWOfvCGLp3q+xMhbXkTbtuP6bhcSJw4gMxFFevw6kmc/BQESr7K7tNnlSwzYOeGlH3VFGd/DS4S2c53QF+bARDGQUrsK0aNvQm24DcPrbdCaH0R2Zkr+w5G3G4TyaL5QXY6MOWEv6ch+OVy7EsHtd+pa83oR62yVydyBrzofY7/0IDnwE5hXKoDC3468JnNmLv0A38abhd/t0DVjbM1GMpgKuMswe3VAbi9x6iMsRPyIvrMVwd0eTCfiiF84j3BrDQJP3o5o935ordWY/vEsaNMEUgxjoRJwlgCLUkEaJz0WkYAkC8wN/0GAjVB3rEPi2p+YvPI7koMXET3RCb+nHIGta4jPgxg/toe5l4Cq8Z630ZaGtC3LEXmlRo91vCisceLH26E4HQgffh1q070I7W9GpKtd8hht2yZzZv/6jSlgDvWQMXKUl9I97nVAeWxFZvgBm4i8ulkmZ5JjiOyph1LHvC2Df9vd8LnKoXrKMK9ekTmxjmawKlS3IztqLKWfAV0jbrvUk1pfIXwb88gFR2XBjd6TCD17D7RdVQg+dYfc+nzwmrGQi72kjGLBi6Kx0xOGbPbZhjbkMeigBCXVU5LkhLmMffgy9PlZCaCnF+R78txnSHzVgdDz95MdC7gRPWg4jG+jSsspbrPlrLwAiGD2MMso1f+tHJGWhsTJQ7jx/SlpvdSF76SjSNgLCa/sbq8FZt00B5LGHzIEmKXLgXkl59wk3cC/WfgExGpA6udvdHLKQrKhjCfrWexjFrd1PswWMr2ZlhSQaJkCGXVFeqBxTTba/kw61LgaCXeRBCOalpr1ORZQTtxbYZ2b2OgMzHbSzAuWdRYit0SdRRjblAd/7aoU8bd3UWO5/7m2zU6t8QspWtibbCd2AIuWYpRy+tX6W/ep3srKRWA5Fsa/Hbd2M3SRdLYAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png 1x,
/static/90020e3cb43b0bdf6641a85cf3dd7fea/e94d6/ubuntu.png 1.5x" /><img loading="lazy" width="80" height="80" srcset="/static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png 1x,
/static/90020e3cb43b0bdf6641a85cf3dd7fea/e94d6/ubuntu.png 1.5x" src="/static/90020e3cb43b0bdf6641a85cf3dd7fea/829e2/ubuntu.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></section></div></aside><header class="article-header medium"><h1>docker-lamp einrichten</h1><a href="https://github.com/astridx/meinblog/blob/master/content/posts/ubuntu_docker-lamp/5ubuntu-docker-lamp-einrichten.md" rel="noreferrer" target="_blank">Ändere diesen Beitrag</a></header><aside><div class="aside-content"><section><time>06.02.2021</time><div class="cell tags"><a class="tag-Linux" href="/tags/linux">Linux</a><a class="tag-Ubuntu" href="/tags/ubuntu">Ubuntu</a><a class="tag-docker-lamp" href="/tags/docker-lamp">docker-lamp</a><a class="tag-Joomla" href="/tags/joomla">Joomla</a></div></section></div></aside><section class="post"><article><div><p>Zur Erinnerung: <em>Docker</em> erleichtert die Verwaltung von Software in Containern. <em>Docker Compose</em> ist ein Tool, welches die Arbeit mit mehreren Containern vereinfacht.</p>
<p>Hier geht es um <em>docker-lamp</em>. Eine Software die vorgefertigte Images, Container und Skripte bietet, die dich bei der Entwicklung auf einem Webserver unterstützen. In diesem Teil richte ich die Umgebung ein.</p>
<h2>Voraussetzungen</h2>
<p>Neben <a href="/ubuntu-docker-einrichten-docker-lamp">Docker</a> ist <a href="/ubuntu-docker-compose-einrichten-docker-lamp">Docker Compose</a> notwendig. Wenn du diesem <a href="/mein-ubuntu-rechner-mit-docker-lamp-themen/">Set</a> bisher gefolgt bist, passt alles.</p>
<h3>Optional und auf eigene Gefahr: Entfernen von Docker-Images, -Containern</h3>
<p>Bei der Arbeit mit Docker passiert es leicht, dass viele nicht verwendete Images, Container und Datenvolumen gesammelt werden, die Ausgabe verkomplizieren und unnötigen Festplattenspeicher verbrauchen.</p>
<p>Aus diesem Grund räume ich meine bisher zu Übungszwechen erstellten Dockerelemente auf. Ich nenne das <a href="https://de.wikipedia.org/wiki/Tabula_rasa">Tabula rasa</a>!</p>
<h4>Images</h4>
<h5>Auflisten</h5>
<p>Ich überprüfe die Images in meinem System mit <code class="language-text">docker images</code>. Durch Hinzufügen des Flag <code class="language-text">-a</code> werden alle angezeigt.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker images -a</span></span></code></pre>
<h5>Entfernen</h5>
<p>Wenn ich sicher bin, ergänze ich das Flag <code class="language-text">-q</code>, um die IDs an den Befehle Docker <code class="language-text">rmi</code> zu übergeben:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker rmi $(docker images -a -q)</span></span></code></pre>
<h4>Container</h4>
<h5>Auflisten</h5>
<p>Ich überprüfe die Container in meinem System mit <code class="language-text">docker ps</code>. Durch Hinzufügen des Flag <code class="language-text">-a</code> werden alle angezeigt.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker ps -a</span></span></code></pre>
<h5>Stoppen und Entfernen</h5>
<p>Wenn ich sicher bin, ergänze ich das Flag <code class="language-text">-q</code>, um die IDs an die Befehle <code class="language-text">docker stop</code> und <code class="language-text">docker rm</code> zu übergeben:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker stop $(docker ps -a -q)</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker rm $(docker ps -a -q)</span></span></code></pre>
<blockquote>
<p>digitalocean.com behandelt in einem <a href="https://www.digitalocean.com/community/tutorials/how-to-remove-docker-images-containers-and-volumes-de">Artikel</a> alle gängigen Befehle, die zum Entfernen von Images, Containern und Volumen bei Docker verwendet werden.</p>
</blockquote>
<h2>Installieren von docker-lamp</h2>
<h3>Eine frische Umgebung</h3>
<p>Ich verfüge über eine frische Dockerinstallation. Auf meinem Rechner ist kein Image und somit kein Container. Die folgenden Befehle zeigen beide eine leere Tabelle:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">docker images -a</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker ps -a</span></span></code></pre>
<h3>docker-lamp Repository von Github klonen</h3>
<p>Nun klone ich das <code class="language-text">docker-lamp</code> Github Repository in ein Verzeichnis nach Wahl.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">git clone https://github.com/degobbis/docker-lamp.git</span></span></code></pre>
<p>Als nächstes wechsele ich in den Ordner <code class="language-text">docker-lamp</code>.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">cd docker-lamp</span></span></code></pre>
<h3>Umgebungsvariablen</h3>
<h4>.env-example in .env umbennen und editieren</h4>
<p>Im <code class="language-text">docker-lamp</code>-Ordner kopiere ich die versteckte Datei <code class="language-text">.env-example</code> nach <code class="language-text">.env</code>.</p>
<blockquote>
<p>Im Verzeichnis <code class="language-text">docker-lamp</code> befindet sich die unsichtbare Datei <code class="language-text">.env-example</code>, welche nach <code class="language-text">.env</code> kopiert wird. Wofür ist die Datei <code class="language-text">.env</code> wichtig? Diese beinhaltet wesentliche Einstellungen. Konfigurationsdaten müssen besonders geschützt werden, wenn sie sich in einem vom Webserver erreichbaren Verzeichnis befinden. Deshalb ist der Zugriff auf <code class="language-text">.env</code> zu unterbinden und diese ist versteckt.</p>
</blockquote>
<pre class="grvsc-container solarized-light" data-language="" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">cp .env-example .env</span></span></code></pre>
<p>Mittels <code class="language-text">nano .env</code> öffne ich die Datei zum editieren.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nano .env</span></span></code></pre>
<h4>.env Datei abändern</h4>
<h5>Eigene IP-Adresse</h5>
<p>Ich belege in der Datei <code class="language-text">.env</code> den Parameter <code class="language-text">REMOTE_HOST_IP=</code> mit der IP des eigenen Rechners. In meinem Fall ist das <code class="language-text">REMOTE_HOST_IP=192.168.178.138</code>. Das Ende der Datei sieht jetzt so aus, wie im folgenden Block.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># To use PHP xDebug set your host IP here (192.168.0.100)</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source">REMOTE_HOST_IP=192.168.209.138</span></span></code></pre>
<blockquote>
<p>Die eigenen IP kann man unter anderem mit dem Befehl <code class="language-text">ip address</code> in Erfahrung bringen.</p>
</blockquote>
<pre class="grvsc-container solarized-light" data-language="" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">$ ip address</span></span>
<span class="grvsc-line"><span class="grvsc-source">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet 127.0.0.1/8 scope host lo</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet6 ::1/128 scope host</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">    link/ether 00:0c:29:8a:bf:d9 brd ff:ff:ff:ff:ff:ff</span></span>
<span class="grvsc-line"><span class="grvsc-source">    altname enp2s1</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet 192.168.209.138/24 brd 192.168.209.255 scope global dynamic noprefixroute ens33</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft 1248sec preferred_lft 1248sec</span></span>
<span class="grvsc-line"><span class="grvsc-source">    inet6 fe80::c526:e1ca:5b3e:7b1/64 scope link noprefixroute</span></span>
<span class="grvsc-line"><span class="grvsc-source">       valid_lft forever preferred_lft forever</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5>APP_BASEDIR</h5>
<p>Ich nutze <code class="language-text">/srv/www</code> als Stammverzeichnis für den Webserver und ändere deshalb SPÄTER die Variable <code class="language-text">APP_BASEDIR</code> ab. Was weiterhin zu beachten ist, wenn man eine benutzerdefinierte Webserver-Root nutzt, habe ich unter <a href="/ubuntu-docker-lamp-verwenden">docker-lamp verwenden</a> beschrieben. Zum Einrichten belasse ich <code class="language-text">APP_BASEDIR=./data</code>.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># Set your project folder for websites and configurations.</span></span>
<span class="grvsc-line"><span class="grvsc-source"># If you want to outsource this, use the ./data folder as the base skeleton.</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_BASEDIR=./data</span></span>
<span class="grvsc-line"><span class="grvsc-source"># APP_BASEDIR=/srv/www</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5>Benutzer ID unter Ubuntu</h5>
<p>In der <code class="language-text">.env</code> gibt es den folgenden Eintrag.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source"># Set your user and group ID from your Linux host,</span></span>
<span class="grvsc-line"><span class="grvsc-source"># it will be automatically assigned to the user and group &#39;virtual&#39;</span></span>
<span class="grvsc-line"><span class="grvsc-source"># inside the containers used for Apache and php-fpm processes.</span></span>
<span class="grvsc-line"><span class="grvsc-source">#</span></span>
<span class="grvsc-line"><span class="grvsc-source"># You can safely ignore this on Windows and MacOS, but don&#39;t disable it!</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_USER_ID=1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">APP_GROUP_ID=1000</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<p>Warum sind <code class="language-text">APP_USER_ID</code> und <code class="language-text">APP_GROUP_ID</code> mit 1000 voreingestellt? In Ubuntu ist <code class="language-text">1000</code> die erste ID die im Falle von Benutzern und Gruppen bei der Installation angelegt wird. Wenn man das System selbst installiert hat, ist die eigene ID 1000. Überprüfen kann man dies mit dem Befehl <code class="language-text">id -u</code>.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ id -u</span></span>
<span class="grvsc-line"><span class="grvsc-source">1000</span></span></code></pre>
<p>Falls die ID des Benutzers welcher <code class="language-text">docker-lamp</code> ausführt, von 1000 abweicht, ist dieser Eintrag zu korrigieren.</p>
<h3>Die make Commandos</h3>
<p><code class="language-text">docker-lamp</code> verwendet das <a href="https://de.wikipedia.org/w/index.php?title=Make&#x26;oldid=203684973">Hilfsprogramm <code class="language-text">make</code></a>. Auf meinem Rechner ist das nicht vorhanden. Mithilfe von <code class="language-text">sudo apt install make</code> installiere ich <code class="language-text">make</code>.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo apt install make</span></span></code></pre>
<p>Im <code class="language-text">docker-lamp</code>-Verzeichnis führe ich nach erfolgreicher Installation von <code class="language-text">make</code> den Befehl <code class="language-text">make</code> aus, der alle möglichen Kommandos anzeigt.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">make</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Usage:</span></span>
<span class="grvsc-line"><span class="grvsc-source">  make &lt;target&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  server-up                    Start all docker containers, creating new certificates before.</span></span>
<span class="grvsc-line"><span class="grvsc-source">  server-down                  Stops all docker containers and delete all volumes, saving all databases before.</span></span>
<span class="grvsc-line"><span class="grvsc-source">  db-backup                    Saving all databases.</span></span>
<span class="grvsc-line"><span class="grvsc-source">  update-images                Update all images from docker-compose.yml to the latest build.</span></span>
<span class="grvsc-line"><span class="grvsc-source">  delete-obsolete-images       Delete all obsolete images.</span></span></code></pre>
<p>Noch immer im <code class="language-text">docker-lamp</code>-Ordner rufe ich den Befehl <code class="language-text">make server-up</code> auf.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ make server-up</span></span>
<span class="grvsc-line"><span class="grvsc-source">./.env included</span></span>
<span class="grvsc-line"><span class="grvsc-source">2021/02/04 20:13:24 open localdomains/key.pem: file exists</span></span>
<span class="grvsc-line"><span class="grvsc-source">Building with native build. Learn about native build in Compose here: https://docs.docker.com/go/compose-native-build/</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_bind ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_mailhog ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_mysql   ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_php74      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_php56      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_php80      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_php73      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_phpmyadmin ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Recreating docker-lamp_httpd      ... done</span></span></code></pre>
<p>Der Befehl arbeitet beim ersten Aufruf einige Minuten, da sämtliche Images heruntergeladen werden. Im Anschluss sind diese mit <code class="language-text">docker images -a</code> angezeigbar.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ docker images -a</span></span>
<span class="grvsc-line"><span class="grvsc-source">REPOSITORY                   TAG          IMAGE ID       CREATED        SIZE</span></span>
<span class="grvsc-line"><span class="grvsc-source">phpmyadmin/phpmyadmin        fpm-alpine   9e4f315e888d   2 days ago     142MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/php74-fpm-alpine    latest       d026bc35510a   9 days ago     181MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/php73-fpm-alpine    latest       6cc4ac518120   9 days ago     168MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/php80-fpm-alpine    latest       f6fe30e9f914   9 days ago     183MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/minica              latest       2fcbfc904eff   5 weeks ago    13.2MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/mariadb105-alpine   latest       be1c0b068e2e   2 months ago   238MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/apache24-alpine     latest       f3469ca1846a   2 months ago   58.8MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">degobbis/php56-fpm-alpine    latest       9609694f3fe4   2 months ago   131MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">mailhog/mailhog              latest       4de68494cd0d   5 months ago   392MB</span></span>
<span class="grvsc-line"><span class="grvsc-source">cytopia/bind                 0.15         ff37cf218d55   2 years ago    142MB</span></span></code></pre>
<p><code class="language-text">docker ps -a</code> listet folgende Container auf.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="18"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ docker ps -a</span></span>
<span class="grvsc-line"><span class="grvsc-source">CONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS         PORTS                                                                                                                                                                                                                                                                     NAMES</span></span>
<span class="grvsc-line"><span class="grvsc-source">0228f9effde2   degobbis/apache24-alpine:latest     &quot;/httpd-php-entrypoi…&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:8056-&gt;8056/tcp, 0.0.0.0:8073-8074-&gt;8073-8074/tcp, 0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:8400-&gt;8400/tcp, 0.0.0.0:8456-&gt;8456/tcp, 0.0.0.0:8473-8474-&gt;8473-8474/tcp, 80/tcp, 0.0.0.0:8480-&gt;8480/tcp, 0.0.0.0:80-&gt;8074/tcp, 0.0.0.0:443-&gt;8474/tcp   docker-lamp_httpd</span></span>
<span class="grvsc-line"><span class="grvsc-source">9fd0d7d257df   degobbis/php74-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   2 minutes ago   Up 2 minutes   9000/tcp                                                                                                                                                                                                                                                                  docker-lamp_php74</span></span>
<span class="grvsc-line"><span class="grvsc-source">b5435404bc73   phpmyadmin/phpmyadmin:fpm-alpine    &quot;/docker-entrypoint.…&quot;   2 minutes ago   Up 2 minutes   9000/tcp                                                                                                                                                                                                                                                                  docker-lamp_phpmyadmin</span></span>
<span class="grvsc-line"><span class="grvsc-source">041bbf1a4ee4   degobbis/php73-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   2 minutes ago   Up 2 minutes   9000/tcp                                                                                                                                                                                                                                                                  docker-lamp_php73</span></span>
<span class="grvsc-line"><span class="grvsc-source">ce746bda0ffc   degobbis/php80-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   2 minutes ago   Up 2 minutes   9000/tcp                                                                                                                                                                                                                                                                  docker-lamp_php80</span></span>
<span class="grvsc-line"><span class="grvsc-source">226cd211294c   degobbis/php56-fpm-alpine:latest    &quot;/httpd-php-entrypoi…&quot;   2 minutes ago   Up 2 minutes   9000/tcp                                                                                                                                                                                                                                                                  docker-lamp_php56</span></span>
<span class="grvsc-line"><span class="grvsc-source">c473eb668908   degobbis/mariadb105-alpine:latest   &quot;/docker-entrypoint …&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:3306-&gt;3306/tcp                                                                                                                                                                                                                                                    docker-lamp_mysql</span></span>
<span class="grvsc-line"><span class="grvsc-source">9beb444df753   mailhog/mailhog:latest              &quot;MailHog&quot;                3 minutes ago   Up 3 minutes   0.0.0.0:1025-&gt;1025/tcp, 0.0.0.0:8025-&gt;8025/tcp                                                                                                                                                                                                                            docker-lamp_mailhog</span></span>
<span class="grvsc-line"><span class="grvsc-source">96527284e9a0   cytopia/bind:0.15                   &quot;/docker-entrypoint.…&quot;   3 minutes ago   Up 3 minutes   0.0.0.0:53-&gt;53/tcp, 0.0.0.0:53-&gt;53/udp                                                                                                                                                                                                                                    docker-lamp_bind</span></span></code></pre>
<p>Mit dem Befehl <code class="language-text">make server-down</code> stoppe ich alle Container und sichere gleichzeitig die Datenbankdaten in das Verzeichnis <code class="language-text">/data/initDB</code>.</p>
<h3>Eigene Projekte in den Container mappen</h3>
<h4>Das Verzeichnis ist flexibel</h4>
<p>Wenn man die Projekte erst neu anlegt ist der einfachste Weg, das Verzeichnis <code class="language-text">/data/www</code> im <code class="language-text">docker-lamp</code>-Verzeichnis zu verwenden. Dies gilt ebenfalls, wenn der Speicherort änderbar ist und man die Projekte leicht verschieben kann. <code class="language-text">/data/www</code> wird automatisch im Containeren unter <code class="language-text">/srv/www</code> eingebunden - falls es nicht in der <code class="language-text">.env</code> neu belegt wurde. Im letzteren Fall ist das in der Variablen <code class="language-text">APP_BASEDIR</code> gesetzte Verzeichnis das, welches in den Container verlinkt wird.</p>
<h4>Mehrere Verzeichnisse im Container - docker-compose.override.yml</h4>
<p>Um weitere Verzeichnisse mit den eigenen Webprojekten im Container zur Verfügung zu haben, ist es erforderlich, die Datei <code class="language-text">docker-compose.yml</code> zu überschreiben. Dazu erstellt man eine Kopie von <code class="language-text">docker-compose.yml</code> unter dem Namen <code class="language-text">docker-compose.override.yml</code> im gleichen Ordner. Im Verzeichnis <code class="language-text">docker-lamp</code> gebe ich folgenden Befehl ein.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="19"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">cp docker-compose.yml docker-compose.override.yml</span></span></code></pre>
<blockquote>
<p>Wir nutzen die Datei <code class="language-text">docker-compose.override.yml</code> und ändern nicht direkt die Datei <code class="language-text">docker-compose.override.yml</code>, damit beim nächsten <code class="language-text">docker-lamp</code>-Update die <code class="language-text">docker-compose</code> Konfiguration nicht überschrieben wird.</p>
</blockquote>
<p>Nun öffnet ich die Datei <code class="language-text">docker-compose.override.yml</code> zum editieren.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="20"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nano docker-compose.yml docker-compose.override.yml</span></span></code></pre>
<p>Angenommen, alle Projekte im Verzeichnis <code class="language-text">/home/deinBenutzer/git/joomla-development</code> sollen in den Containern zur Verfügung stehen. Relevant ist jeder Container, der das Stammverzeichnis eines Webservers verwendet, denn nur dort läuft Joomla. In den Containern sollen die Projekte ebenfalls unter <code class="language-text">/home/deinBenutzer/git/joomla-development</code> zur Verfügung stehen.</p>
<p>Um herauszufinden, wo das Stammverzeichnis des Webservers gemappt wird, suche ich in der Datei <code class="language-text">docker-compose.override.yml</code> nach dem folgenden Eintrag.:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="21"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">      - ${APP_BASEDIR:-./data/www}:/srv/www:rw</span></span></code></pre>
<p>Insgesamt wird der Eintrag sechs Mal gefunden. Die Container
<code class="language-text">httpd</code>, <code class="language-text">php56</code>, <code class="language-text">phpo73</code>, <code class="language-text">php74</code>, <code class="language-text">php80</code>und <code class="language-text">mysql</code> sind betroffen.</p>
<p>Bei den ersten fünf Treffern, füge ich die nachfolgende Zeile hinter diesem ein. Also bei <code class="language-text">httpd</code>, <code class="language-text">php56</code>, <code class="language-text">phpo73</code>, <code class="language-text">php74</code> und <code class="language-text">php80</code>. Der Container <code class="language-text">mysql</code> benötigt keine Verbindung zum Projektordner.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="22"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">      - /home/deinBenutzer/git/joomla-development:/home/deinBenutzer/git/joomla-development:rw</span></span></code></pre>
<p>Für den <code class="language-text">httpd</code>-Container sieht der Eintrag wie folgt aus:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="23"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">  httpd:</span></span>
<span class="grvsc-line"><span class="grvsc-source">    image: degobbis/apache24-alpine:latest</span></span>
<span class="grvsc-line"><span class="grvsc-source">    container_name: ${COMPOSE_PROJECT_NAME}_httpd</span></span>
<span class="grvsc-line"><span class="grvsc-source">    hostname: httpd</span></span>
<span class="grvsc-line"><span class="grvsc-source">    links:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - bind</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - php56</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - php73</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - php74</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - php80</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - mailhog</span></span>
<span class="grvsc-line"><span class="grvsc-source">    volumes:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - ./.config/httpd/apache24/conf.d:/usr/local/apache2/conf.d:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - ./.config/httpd/apache24/vhosts:/usr/local/apache2/vhosts:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - ${APP_BASEDIR:-./data}:/srv/:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - /home/deinBenutzer/git/joomla-development:/home/deinBenutzer/git/joomla-development:rw</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - pma:/var/www/pma</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - phpsocket:/run/php</span></span>
<span class="grvsc-line"><span class="grvsc-source">    ports:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;80:${MAP_POT_80:-8074}&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8000:8000&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8056:8056&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8073:8073&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8074:8074&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8080:8080&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;443:${MAP_POT_443:-8474}&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8400:8400&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8456:8456&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8473:8473&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8474:8474&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - &quot;8480:8480&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">    environment:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      TZ: ${MY_TZ:-UTC}</span></span>
<span class="grvsc-line"><span class="grvsc-source">      LC_ALL: ${MY_LOCALES:-en_GB.UTF-8}</span></span>
<span class="grvsc-line"><span class="grvsc-source">      APP_USER_ID: ${APP_USER_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">      APP_GROUP_ID: ${APP_GROUP_ID:-1000}</span></span>
<span class="grvsc-line"><span class="grvsc-source">    dns:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      - 172.16.238.100</span></span>
<span class="grvsc-line"><span class="grvsc-source">    networks:</span></span>
<span class="grvsc-line"><span class="grvsc-source">      net:</span></span>
<span class="grvsc-line"><span class="grvsc-source">        ipv4_address: 172.16.238.10</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<blockquote>
<p>Weitere Informationen zur Verwendung von Volumes mit <code class="language-text">compose</code> gibt es in der <a href="https://docs.docker.com/storage/volumes/#use-a-volume-with-docker-compose">docker-Dokumentation</a> oder in der <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference">compose-Referenz</a>.</p>
</blockquote>
<p>Jetzt den Server neu starten, damit die Änderungen übernommen werden.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="24"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">make server-up</span></span></code></pre>
<p>Das in meinem Beispiel neu verlinkte Verzeichnis wird im Container unter <code class="language-text">/home/deinBenutzer/git/joomla-development</code> verlinkt.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="25"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ docker exec -ti docker-lamp_php74 sh</span></span>
<span class="grvsc-line"><span class="grvsc-source">php74:/srv/www# cd /home/meinBenutzer/git/joomla-development/</span></span>
<span class="grvsc-line"><span class="grvsc-source">php74:/home/meinBenutzer/git/joomla-development# ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">total 20</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    6 virtual  virtual       4096 Feb  9 21:07 AG</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    8 virtual  virtual       4096 Feb 12 16:04 boilerplate</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    6 virtual  virtual       4096 Feb 11 22:17 pkg_agosms</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x    9 virtual  virtual</span></span></code></pre>
<blockquote>
<p>Über den Befehl <code class="language-text">docker exec -ti docker-lamp_php74 sh</code> öffnet man eine Befehlzeile im container <code class="language-text">docker-lamp_php74</code>. Über <code class="language-text">exit</code> kommt man wieder aus ihm heraus.</p>
</blockquote>
<h3>Zertifikat</h3>
<p>Falls die Konfiguration der Zertifikate geändert wird ist erforderlich, den Server neu zu starten. Am besten vor Änderungen den Befehl<code class="language-text">make server-down</code> aufrufen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="26"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ make server-down</span></span>
<span class="grvsc-line"><span class="grvsc-source">/home/meinBenutzer/docker-lamp/.env included</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Datenbank-Sicherung gestartet.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">j3 wird gesichert...</span></span>
<span class="grvsc-line"><span class="grvsc-source">joomla_db wird gesichert...</span></span>
<span class="grvsc-line"><span class="grvsc-source">joomla_j4b7 wird gesichert...</span></span>
<span class="grvsc-line"><span class="grvsc-source">joomla_j4dev wird gesichert...</span></span>
<span class="grvsc-line"><span class="grvsc-source">tutorial_t1 wird gesichert...</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Datenbank-Sicherung abgeschlossen.</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_php56      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_php74      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_phpmyadmin ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_php73      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_php80      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_mysql      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_mailhog    ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Stopping docker-lamp_bind       ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_httpd      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_php56      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_php74      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_phpmyadmin ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_php73      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_php80      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_mysql      ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_mailhog    ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing docker-lamp_bind       ... done</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removing network docker-lamp_net</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_db-data-dir</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_phpsocket</span></span>
<span class="grvsc-line"><span class="grvsc-source">local</span></span>
<span class="grvsc-line"><span class="grvsc-source">docker-lamp_pma</span></span></code></pre>
<h4>Minica</h4>
<p>Ich benötige ein Zertifikat auf meinen con­tai­ne­ri­sie­rten Webservern, um verschlüsselte Websites zu verwenden. <code class="language-text">docker-lamp</code> nutzt für diesen Zweck <a href="https://github.com/jsha/minica">Minica</a>.</p>
<blockquote>
<p>Minica erstellt beim ersten Aufruf ein Root-Zertifikat, auf welchem alle daraufhin erzeugten Zertfikate basieren.</p>
</blockquote>
<h5>Angabe im <code class="language-text">Makefile</code></h5>
<p>Standardmäßig werden die im Makefile in der Variablen <code class="language-text">MINICA_DEFAULT_DOMAINS</code> festgelegten Domains zertifiziert.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="27"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">MINICA_DEFAULT_DOMAINS:=localdomains,localhost,joomla.local,joomla.test,*.joomla.local,*.joomla.test,wp.local,wp.test,*.wp.local,*.wp.test,wpms.local,wpms.test,*.wpms.local,*.wpms.test</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5>Angaben in der Datei <code class="language-text">.env</code></h5>
<p>Um zusätzliche Domains zu zertifizieren, git es die Variablen <code class="language-text">SSL_DOMAINS</code> und <code class="language-text">SSL_LOCALDOMAINS</code> in der Datei <code class="language-text">.env</code>.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="28"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_DOMAINS=</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_LOCALDOMAINS=</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h5>Zusätzliche Domain hinzufügen</h5>
<p>Eine eigene Domains fügt man im <code class="language-text">docker-lamp</code> verzeichnis mittels nachfolgender Befehle hinzu.</p>
<blockquote>
<p>Ein konkretes <a href="/ubuntu-docker-lamp-verwenden-eigene-domain">Beispiel</a> habe ich später beschrieben.</p>
</blockquote>
<pre class="grvsc-container solarized-light" data-language="" data-index="29"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nano .env</span></span></code></pre>
<p>Hier dann je nach Wunsch folgenden Einträge erweitert:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="30"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">TLD_SUFFIX=local=127.0.0.1,test=127.0.0.1</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">SSL_LOCALDOMAINS=</span></span></code></pre>
<blockquote>
<p>Als <code class="language-text">TLD_SUFFIX</code> trägt man lediglich das Wort ein, welches ganz am Ende der <a href="https://de.wikipedia.org/w/index.php?title=Uniform_Resource_Locator&#x26;oldid=207716904">URL</a> steht. <a href="https://de.wikipedia.org/w/index.php?title=Top-Level-Domain&#x26;oldid=208512458">Top-Level-Domain</a> steht. <code class="language-text">local</code> reicht aus. <code class="language-text">joomla.local</code> ist nicht notwendig. Alle <a href="https://de.wikipedia.org/w/index.php?title=Domain_(Internet)&#x26;oldid=207898687">Domains und Subdomains</a> mit der Top-Level-Domain <code class="language-text">.local</code> werden durch den vorherigen Eintrag abgefangen. Es ist ausreichend, diese unter <code class="language-text">SSL_LOCALDOMAINS</code> einzutragen.
Benötigst du eine weitere Top-Level-Domain inklusive Subdomains, beispielsweise <code class="language-text">mytdl</code> mit <code class="language-text">jedemengesubdomains.mytld</code>? Nun kommt <code class="language-text">TLD_SUFFIX</code> ins Spiel. Das heißt: <code class="language-text">TLD_SUFFIX=mytdl</code> und <code class="language-text">SSL_LOCALDOMAINS=subdomain1.mytdl,*.subdomain2.mytdl</code> spielen zusammen.</p>
</blockquote>
<pre class="grvsc-container solarized-light" data-language="" data-index="31"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">             (root)                 0. Ebene, Null-Label</span></span>
<span class="grvsc-line"><span class="grvsc-source">               |</span></span>
<span class="grvsc-line"><span class="grvsc-source">               |</span></span>
<span class="grvsc-line"><span class="grvsc-source">              mytdl                 1. Ebene, Top-Level-Domains (TLD)</span></span>
<span class="grvsc-line"><span class="grvsc-source">         /           \</span></span>
<span class="grvsc-line"><span class="grvsc-source">        /             \</span></span>
<span class="grvsc-line"><span class="grvsc-source">  subdomain1       subdomain2       2. Ebene, Second-Level-Domains</span></span>
<span class="grvsc-line"><span class="grvsc-source">    /  |   \         /   |  \</span></span>
<span class="grvsc-line"><span class="grvsc-source">s11    s12  s13   s21    s22  s23   3. Ebene, Third-Level-Domains</span></span></code></pre>
<p>Dann die Ordner für die Ebenen erstellen. Für die zweite Ebene wäre das <code class="language-text">/data/www/subdomain1</code> und <code class="language-text">/data/www/subdomain2</code> erstellen. <code class="language-text">/data/www/joomla</code> sollte bereits vorhanden sein. Die dritte Ebenen führt man analog fort: <code class="language-text">/data/www/subdomain1/s11</code>, <code class="language-text">/data/www/subdomain1/s12</code>, <code class="language-text">/data/www/subdomain1/s13</code>, <code class="language-text">/data/www/subdomain2/s21</code>, <code class="language-text">/data/www/subdomain2/s22</code>, <code class="language-text">/data/www/subdomain2/s23</code>.</p>
<p>Bereits vorkonfiguriert für die Entwicklung mit Joomla ist die nachfolgende Struktur. Für Wordpress Entwickler gibt es neben <code class="language-text">joomla</code> weiter Domains auf der 3. Ebenen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="32"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">             (root)                 0. Ebene, Null-Label</span></span>
<span class="grvsc-line"><span class="grvsc-source">             /   \</span></span>
<span class="grvsc-line"><span class="grvsc-source">            /     \</span></span>
<span class="grvsc-line"><span class="grvsc-source">         test     local             1. Ebene, Top-Level-Domains (TLD)</span></span>
<span class="grvsc-line"><span class="grvsc-source">         /           \</span></span>
<span class="grvsc-line"><span class="grvsc-source">        /             \</span></span>
<span class="grvsc-line"><span class="grvsc-source">    joomla           joomla         2. Ebene, Second-Level-Domains</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">                                    3. Ebene, Third-Level-Domains</span></span></code></pre>
<p>Am Ende den Ordner <code class="language-text">/localdomains</code> löschen und den Server starten.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="33"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">make server-up</span></span></code></pre>
<h4>Vor dem Importieren des Zertifikates</h4>
<p>Ruft man die URL <code class="language-text">https://joomla.test/</code> oder <code class="language-text">https://joomla.local/</code> im Browser auf, erscheint ein Sicherheitshinweis. Der Brwoser kennt das Zertifikat bisher nicht. Deshalb importiere ich es im nächsten Schritt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/dbb854adabaabf882770158c7017795f/37523/dockerlamp_zert.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACS0lEQVQ4y31SSW7bQBDUX/KA5Dm+2JYTwEjyHiPOyUBO+YizGYEDaLH2WNRGiatIaiGHkirVQ8oQBSEECj3T06yuXkqjsYfxxMNw5BIO4gS4u/uKs7My3l59xFX5QwHl8ntcnF9rlC/z88U1zmkvL96htI7+wLV+wHcesAx+I3Du4cx+wp5+wyZ+QrquF6DWNczdB8Z8xyJ4hGXew2KsZf3iuYKSCr8gDW+ggk8ZQsEtfbcH90PwLcre05fzZ2yiG2ztVyjFKXSZx1gnp/3/e9vab0jIQ5JESFUMpdY54vye2f15jzSlTdaI4xWSeEnEhE/C1yglClhEc7iuB9+fYz4P4Lk+bNuB5/lwHFdD3uTuErOZhShaUIgiaUJ1GxJG2DokVCzZ92wYxgCmOWVzbf2zkOwJJZlgf5dkYRjlhHGRUBQuF0Ee7OmMux37sd1pe4y9X2yabtgCReIjhR4V9vsGhsMR+lRqFGDwrY/n5762A/okVuxwNKYI7i4nqwmlh2oDWLMJKpUq2q02arU6qlVBTZOMmGQwGMIgBgeQZOOxqXsZJ+lByVQ49x1MJqbujTTcnM60lbLkkxJxonyBYonFoeQKm80Wer2/6LQ7aFJpt9vTAxBiKctismwgNn32y3BWq9XpHrY7XR20WCwRBiECQlZIrxMHJkOTu+9zdbhW8i6+5fKYkApty9QKW1QnfazXn/S90Wiiw0Rt+kWxqG/Q38njRISsmFJbDuaIMPu5g1YrCxaiFn+WvRQ18uN+ufWCU7koTpLiYv8D0VFJp4202GMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Sicherheitshinweis"
        title="Sicherheitshinweis"
        src="/static/dbb854adabaabf882770158c7017795f/f058b/dockerlamp_zert.png"
        srcset="/static/dbb854adabaabf882770158c7017795f/c26ae/dockerlamp_zert.png 158w,
/static/dbb854adabaabf882770158c7017795f/6bdcf/dockerlamp_zert.png 315w,
/static/dbb854adabaabf882770158c7017795f/f058b/dockerlamp_zert.png 630w,
/static/dbb854adabaabf882770158c7017795f/37523/dockerlamp_zert.png 720w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>Hinter <code class="language-text">https://joomla.test/</code> oder <code class="language-text">https://joomla.local/</code> befindet sich das gleiche Ziel. Warum wurden zwei Domains zur Verfügung gestellt, die auf dieselben Daten zeigen? Ganz einfach. So kannst du Debuggen und gleichzeitg Browsen.</p>
</blockquote>
<h4>Zertifikat importieren</h4>
<p>In Mozilla Firefox importiert man das Zertifikat wie folgt:</p>
<ol>
<li>Öffne die Einstellungen (Preferences). und klicke in der linken Seitenleiste auf Datenschutz &#x26; Sicherheit (Privacy and Security).</li>
<li>Im rechten Bereich findest du nun weiter unten den Abschnitt Sicherheit (Security). Klicke hier auf die Schaltfläche Zertifikate anzeigen (View Certificates).</li>
<li>Wechsele in den Tabulator Zertifizierungsstellen (Authorities).</li>
<li>Importiere die Datei <code class="language-text">APP_BASEDIR/ca/minica-root-ca-key.pem</code>. Achte darauf, dass du <code class="language-text">Webseite vertrauen</code> aktivierst.</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/987f74f8a47eafb26365df4d757135af/9040f/dockerlamp_zertbrowser.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACEElEQVQoz22SS28SURTH+Wbu/QouTAyoCW3pPJknNVZooQs3JuqirVHCK9Jv0IULU1+ASxdtLIXOMDADyEyLaev8PXcIDdVmcnLP3Mfv/u//nJgkydB0HbphIJ1WaTSRMTNQNR2iKEEQRPC8ALZPltPRnCjKEB8rSMsKDNqv60YULI9xPA8tocFYNpES2WERHMcjl9tAqVRC8V0RxVIF29u72NnZRaVWRflNEbUHL/HqxetIDAPNI8bfVZG+Y0C7b0JQBHCrHBKJhwQr4/LyCr4fwA/OMB5P4E8CTK8u4B+6GG010dz/AkUnMfoCUOIUaDJJVmeyM5m16Hn1+h4GAw+npzacXh89CsuyYdsOPHeMYT/A18/foKjqTYVmhhKT+aAjtZIimIRkMolqrUaqxjhuH+PkpINuuxONLIIgQEhfq/U98v0GcNFQQRCwQtB4PIEyPdnzPLSPfsKyLfTPR+j1HdiWhel0ivBPiGazCUW5BTivFKuoqmpRVevv93B+8RuDH104zz/Ce9vC+LCH0eQXAvI1DEM0GrcA5wkDsuqyWFpaRqVcpaedkV8e3EYHzocjDLsuhmSDS9563hAHB5/+BzJFGvXcDMhhlarM+s2kXmStk83msBZ/CuPeE2w8yqOQLSC/VcDmZh7r68+u7boGyrIcNSuDLi6wf4UuYxdKtM6TciWlQpVnc3Mh/zb2X3aNL0917NxeAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Zertifikat importieren"
        title="Zertifikat importieren"
        src="/static/987f74f8a47eafb26365df4d757135af/f058b/dockerlamp_zertbrowser.png"
        srcset="/static/987f74f8a47eafb26365df4d757135af/c26ae/dockerlamp_zertbrowser.png 158w,
/static/987f74f8a47eafb26365df4d757135af/6bdcf/dockerlamp_zertbrowser.png 315w,
/static/987f74f8a47eafb26365df4d757135af/f058b/dockerlamp_zertbrowser.png 630w,
/static/987f74f8a47eafb26365df4d757135af/40601/dockerlamp_zertbrowser.png 945w,
/static/987f74f8a47eafb26365df4d757135af/78612/dockerlamp_zertbrowser.png 1260w,
/static/987f74f8a47eafb26365df4d757135af/9040f/dockerlamp_zertbrowser.png 1613w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>Das Zertifikat wird von <code class="language-text">docker-lamp</code> standardmäßig für die <code class="language-text">https://joomla.test/</code> oder <code class="language-text">https://joomla.local/</code> erstellt. Unter <code class="language-text">https://test/</code> oder <code class="language-text">https://local/</code> gibt es weiterhin den Fehler. Ein konkretes <a href="/ubuntu-docker-lamp-verwenden-eigene-domain">Beispiel</a> beschreibt die Vorgehensweise für neue Domains.</p>
</blockquote>
<h2>Mögliche Fehler</h2>
<p>Je nach Konfiguration kommt es unter Ubuntu 20.04 beim Aufruf von <code class="language-text">make server-up</code> zu einem Fehler</p>
<h3>permission denied (but minica-root-ca.pem exists)</h3>
<p>Falls die Ausgabe von <code class="language-text">make server-up</code> mit dem nachfolgenden Text startet, stimmen Berechtigungen nicht.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="34"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">./.env included</span></span>
<span class="grvsc-line"><span class="grvsc-source">2021/02/04 19:57:06 open minica-root-ca-key.pem: permission denied (but minica-root-ca.pem exists)</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<h4>Abhilfe schafft die folgende Vorgehensweise</h4>
<p>Als erstes ins Unterverzeichnis data wechseln.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="35"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">/docker-lamp$ cd data</span></span>
<span class="grvsc-line"><span class="grvsc-source">/docker-lamp/data$</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<p>In diesem Verzeichnis alle Rechte prüfen. Alle Inhalte sollten dem aktuellen Benutzer und dessen Gruppe gehören</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="36"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">/docker-lamp/data$ ll</span></span>
<span class="grvsc-line"><span class="grvsc-source">insgesamt 28</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 7 deinBenutzer deinBenutzer 4096 Feb  4 17:33 ./</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 5 deinBenutzer deinBenutzer 4096 Feb  4 20:41 ../</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 2 deinBenutzer deinBenutzer 4096 Feb  4 17:33 apache24/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxr-xr-x 3 root   root   4096 Feb  4 17:33 ca/</span></span>
<span class="grvsc-line"><span class="grvsc-source">-rw-rw-r-- 1 deinBenutzer deinBenutzer    0 Feb  4 17:16 .gitkeep</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 2 deinBenutzer deinBenutzer 4096 Feb  4 17:16 initDB/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 2 deinBenutzer deinBenutzer 4096 Feb  4 17:16 phpinfo/</span></span>
<span class="grvsc-line"><span class="grvsc-source">drwxrwxr-x 5 deinBenutzer deinBenutzer 4096 Feb  4 17:16 www/</span></span></code></pre>
<p>Mit dem folgenden Befehl alle Inhalte dem aktuellen Benutzer, in dem Falle beide Mal deinBenutzer, zuweisen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="37"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo chown -R deinBenutzer:deinBenutzer .</span></span></code></pre>
<p>Am Ende wieder zurück in das <code class="language-text">docker-lamp</code>-Verzeichnis wechseln und den Befehl <code class="language-text">make server-up</code> wiederholen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="38"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">/docker-lamp/data$ cd ..</span></span>
<span class="grvsc-line"><span class="grvsc-source">/docker-lamp$ make server-up</span></span></code></pre>
<h3>ERROR: for docker-lamp_bind Cannot start service bind</h3>
<pre class="grvsc-container solarized-light" data-language="" data-index="39"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">Creating docker-lamp_bind ... error</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: for docker-lamp_bind  Cannot start service bind: driver failed programming external connectivity on endpoint docker-lamp_bind (f4e68e24013e93124e6f55ebe821a87c5ca58cf7dca8c6388181fac9956ed26e): Error starting dockeruserland proxy: listen tcp4 0.0.0.0:53: bind: address already in use</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: for bind  Cannot start service bind: driver failed programming external connectivity on endpoint docker-lamp_bind (f4e68e24013e93124e6f55ebe821a87c5ca58cf7dca8c6388181fac9956ed26e): Error starting userland proxy: listen tcp4 0.0.0.0:53: bind: address already in use</span></span>
<span class="grvsc-line"><span class="grvsc-source">ERROR: Encountered errors while bringing up the project.</span></span>
<span class="grvsc-line"><span class="grvsc-source">make: *** [Makefile:51: server-up] Fehler 1</span></span></code></pre>
<h4>Abhilfe schafft die folgende Vorgehensweise</h4>
<ol>
<li><code class="language-text">sudo systemctl disable systemd-resolved.service</code></li>
</ol>
<pre class="grvsc-container solarized-light" data-language="" data-index="40"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ sudo systemctl disable systemd-resolved.service</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removed /etc/systemd/system/dbus-org.freedesktop.resolve1.service.</span></span>
<span class="grvsc-line"><span class="grvsc-source">Removed /etc/systemd/system/multi-user.target.wants/systemd-resolved.service.</span></span></code></pre>
<ol start="2">
<li><code class="language-text">sudo systemctl stop systemd-resolved.service</code></li>
</ol>
<pre class="grvsc-container solarized-light" data-language="" data-index="41"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ sudo systemctl stop systemd-resolved.service</span></span></code></pre>
<blockquote>
<p>Was ist der Unterschied zwischen <code class="language-text">systemctl stop</code> und <code class="language-text">systemctl disable</code> beziehungsweise <code class="language-text">systemctl start</code> und <code class="language-text">systemctl enable</code>? <code class="language-text">systemctl start</code> und <code class="language-text">systemctl enable</code> machen verschiedene Dinge. Mit <code class="language-text">enable</code> wird der angegebene Dienst an relevanten Stellen eingehängt, sodass er beim Booten automatisch gestartet wird. <code class="language-text">start</code> startet das Gerät sofort. Deaktivieren und Stoppen sind das Gegenteil davon. <a href="http://manpages.ubuntu.com/manpages/hirsute/en/man1/systemctl.1.html">Manpage</a></p>
</blockquote>
<ol start="3">
<li><code class="language-text">sudo rm /etc/resolv.conf</code></li>
</ol>
<p>Warum ist die Datei zu löschen?</p>
<p>Die Datei <code class="language-text">/etc/resolv.conf</code> ist ein Symlink.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="42"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ ll /etc/</span></span>
<span class="grvsc-line"><span class="grvsc-source">insgesamt 1128</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">lrwxrwxrwx   1 root root      39 Feb  4 00:00 resolv.conf -&gt; ../run/systemd/resolve/stub-resolv.conf</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span></code></pre>
<p>Sie hat folgenden Inhalt:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="43"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">$ cat /etc/resolv.conf</span></span>
<span class="grvsc-line"><span class="grvsc-source">...</span></span>
<span class="grvsc-line"><span class="grvsc-source">nameserver 127.0.0.53</span></span>
<span class="grvsc-line"><span class="grvsc-source">options edns0</span></span>
<span class="grvsc-line"><span class="grvsc-source">search localdomain</span></span></code></pre>
<p>Mit dem Löschen der Datei wird gleichzeitig der Symlink gelöscht. Würden wir die Datei nicht löschen, würde der Inhalt bei jedem Neustart wiederhergestellt. Der Eintrag <code class="language-text">nameserver 127.0.0.53</code> ist aber die Ursache für den Fehler, den wir lösen möchten.</p>
<ol start="4">
<li><code class="language-text">sudo nano /etc/resolv.conf</code></li>
</ol>
<p>Als letztes erstellen wir die Datei mit <code class="language-text">sudo nano /etc/resolv.conf</code> neu. Und tragen zwei passende nameserver ein, wobei <code class="language-text">nameserver 192.168.178.2</code> ein Beispiel für die Konfiguration einer Fritzbox ist, und an die eigenen Gegebenbheiten anzupassen ist.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="44"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">nameserver 127.0.0.1</span></span>
<span class="grvsc-line"><span class="grvsc-source">nameserver 192.168.178.2</span></span></code></pre>
<p>Es ist wichtig, dass der Eintrag <code class="language-text">nameserver 127.0.0.1</code> an erster Stelle steht. Nach einem Neustart wird der <code class="language-text">docker</code>-Container verwendet. Wenn der nicht verfügbar ist, wird auf <code class="language-text">nameserver 192.168.178.2</code> verwiesen. So ist sichergestellt, dass eine Internetverbindung auch bei gestopptem Container verfügbar ist.</p>
<ol start="5">
<li><code class="language-text">dns=default</code> im NetworkManager</li>
</ol>
<p>Als letztes bitte den NetworkManager auf <code class="language-text">dns=default</code> einstellen.</p>
<p>Dazu wird erst der Dienst gestoppt</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="45"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo systemctl stop NetworkManager.service</span></span></code></pre>
<p>Danach die Datei zum editieren öffnen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="46"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo gedit /etc/NetworkManager/NetworkManager.conf</span></span></code></pre>
<p>Im Bereich <code class="language-text">[main]</code> die Zeile <code class="language-text">dns=default</code> einfügen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="47"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">[main]</span></span>
<span class="grvsc-line"><span class="grvsc-source">dns=default</span></span>
<span class="grvsc-line"><span class="grvsc-source">plugins=ifupdown,keyfile</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">[ifupdown]</span></span>
<span class="grvsc-line"><span class="grvsc-source">managed=false</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">[device]</span></span>
<span class="grvsc-line"><span class="grvsc-source">wifi.scan-rand-mac-address=no</span></span></code></pre>
<p>Am Ende den Dienst wieder starten.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="48"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">sudo systemctl start NetworkManager.service</span></span></code></pre>
<p>Voila! Das war es.</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .solarized-light { background-color: #FDF6E3; }
  .solarized-light .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));
  }
</style></div></article><a href="https://github.com/astridx/meinblog/blob/master/content/posts/ubuntu_docker-lamp/5ubuntu-docker-lamp-einrichten.md" rel="noreferrer" target="_blank">Ändere diesen Beitrag</a></section><div id="utterances"><h2>Comments</h2><div class="comments"></div></div><h2>Vor oder zurück ...</h2><nav class="flex container suggested"><a rel="prev" href="/ubuntu-docker-compose-einrichten-docker-lamp/">Docker Compose unter Ubuntu 20.04 einrichten</a><a rel="next" href="/ubuntu-docker-lamp-verwenden/">docker-lamp einrichten</a></nav><aside><div class="aside-content"><section><h3>Fehler gefunden?</h3><div>Bitte lasse mich wissen, wenn etwas falsch oder unklar ist. Öffne gerne ein<!-- --> <a href="https://github.com/astridx/meinblog/issues/">Github-Issue</a>.</div><h3>Du oder Sie?</h3><div>Ob Du oder Sie - das ist im Deutschen oft gar nicht so leicht zu entscheiden. Manche Leser sieze ich, andere duze ich. Deshalb gibt es im Weblog ein bunter Durcheinander und jeder sucht sich das aus, was für Ihn passt.</div></section></div></aside></main><footer class="footer container"><section class="flex"><nav class="footer-links"><a href="/blog">Blog</a><a href="https://astrid-guenther.de/impressum">Impressum</a><a href="https://astrid-guenther.de/datenschutzerklaerung">Datenschutz</a></nav><nav class="flex"><a href="https://www.gatsbyjs.org/" title="Built with Gatsby" target="_blank" rel="noopener noreferrer" class="img"><img src="/static/gatsby-b7637c262ad964cf2f70abbbfc9e1f93.png" class="footer-img" alt="Gatsby"/></a><a href="https://github.com/astridx" title="Open-source on GitHub" target="_blank" rel="noopener noreferrer" class="img"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC" class="footer-img" alt="GitHub"/></a></nav></section></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ubuntu-docker-lamp-einrichten/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9524f89a0a3261402e06.js"],"app":["/app-ba7caadd7e3b300c93d6.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ad6431e4664bcf916d19.js"],"component---src-pages-404-js":["/component---src-pages-404-js-be2bf29c55fa17ef769e.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-e97fc6299951d2e30118.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-94828e98e91de735b26d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d465ff95027880f9dd57.js"],"component---src-pages-tutorial-js":["/component---src-pages-tutorial-js-8312477097e6ab635452.js"],"component---src-templates-post-js":["/component---src-templates-post-js-667052059468a9335e15.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-aafc69c7dbacf0dd8b19.js"]};/*]]>*/</script><script src="/polyfill-9524f89a0a3261402e06.js" nomodule=""></script><script src="/webpack-runtime-da06cbbe39f9b3319c54.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-ba7caadd7e3b300c93d6.js" async=""></script><script src="/aa3aa33236ba1a946df696292e3a21e57ad97e5d-ecedd2c80549e60c9d95.js" async=""></script><script src="/component---src-templates-post-js-667052059468a9335e15.js" async=""></script><script src="/2eb34e24a7978f22f43bd5ecdb7a829863655f3a-48991b6883fd8ca3ac94.js" async=""></script><script src="/framework-beda7bde9d7dca0755ce.js" async=""></script></body></html>