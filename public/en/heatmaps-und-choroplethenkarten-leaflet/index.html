<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.94192faef3675174f929.css" data-identity="gatsby-global-css">pre[class*=language-].line-numbers{padding-left:3.8em}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;left:-3.8em;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--primary:#16868f;--secondary:#16868f;--link-color:#fff;--border-color:#111;--heading-font-color:var(--primary);--background-color:#252525;--sidebar-color:#2b2b2b;--navbar-color:#181818;--navbar-color-hover:#272727;--sidebar-color-hover:#383838;--sidebar-color-focus:#444;--category-background-color:#161616;--category-background-color-hover:#1f1f1f;--light-border-color:#444;--toolbar-background-color:#181818;--toolbar-color:#eee;--font-color:#b3b9c5;--medium-font-color:#aaa;--dark-font-color:#8f949d;--bright-font-color:#eee;--input-background:#393939;--blockquote-background-color:rgba(0,0,0,.4);--blockquote-color:var(--dark-font-color);--black:#111;--inline-code-background-color:hsla(0,0%,100%,.08);--inline-code-color:#b3b9c5;--dark-opacity:rgba(0,0,0,.2);--dark-opacity-hover:rgba(0,0,0,.3);--reverse:#111;--scrollbar:var(--border-color);--scrollbar-track:var(--light-border-color);--yellow:#16868f;--button-color:#6b76f3;--page-width:1000px;--font-family:"Source Serif Pro",-apple-system,BlinkMacSystemFont,"Inter","Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--heading-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font-family:Menlo,"DM Mono","Roboto Mono",Courier New,monospace}*,:after,:before{box-sizing:border-box}a:focus-visible,button:focus-visible{outline:3px solid var(--primary)}body{-webkit-font-smoothing:antialiased;background:var(--navbar-color);color:var(--font-color);font-family:var(--font-family);font-size:1rem;line-height:1.6;margin:0}blockquote,ol,p,table,ul{color:var(--font-color);font-size:1.2rem;margin:0 0 2rem}button{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;border-radius:8px;cursor:pointer;font-family:var(--heading-font-family)}ol li,ul li{margin-bottom:.5rem}ol li p,ul li p{margin:0}ol li ol,ul li ul{margin:.3rem}h1,h2,h3,h4,h5{color:var(--heading-font-color);font-family:var(--heading-font-family);font-weight:600;line-height:1.2;margin:0 0 1.5rem;scroll-margin-top:80px}h3,h4,h5{color:var(--secondary);font-weight:500}a{text-decoration:none}a,a.button{font-family:var(--heading-font-family)}a.button{border:1px solid var(--button-color)!important;border-radius:8px;color:var(--reverse);display:block;font-size:1.1rem;font-weight:600;line-height:1.2;padding:.75rem 1.25rem;text-align:center}a.button,a.button:hover{background:var(--button-color)}a.button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}a.button:active{-webkit-transform:scale(.95);transform:scale(.95)}a.button.icon-button{align-items:center;display:flex}a.button.icon-button img{margin-right:.5rem;max-height:22px}table{border-collapse:separate;border-radius:8px;border-spacing:0;display:block;font-family:var(--heading-font-family);font-size:.95rem;max-width:100%;overflow-x:auto;width:100%}table :not(pre)>code[class*=language-]{font-size:.95rem!important}tbody,thead{white-space:nowrap}th{border-bottom:2px solid var(--light-border-color)}tfoot th{border-top:1px solid var(--light-border-color)}td{border-bottom:1px solid var(--light-border-color)}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;word-break:break-word}tbody tr:nth-child(odd){background-color:var(--dark-opacity)}tbody tr:last-child td:first-of-type{border-bottom-left-radius:8px}tbody tr:last-child td:last-of-type{border-bottom-right-radius:8px}@media screen and (min-width:800px){table{border:1px solid var(--light-border-color);display:table}tbody,thead{white-space:normal}}.sidebar{background:var(--sidebar-color);border-right:1px solid var(--light-border-color);height:100vh;left:0;overflow-x:hidden;overflow-y:hidden;position:fixed;top:0;width:320px;z-index:9}.sidebar:hover{overflow-y:auto}.sidebar .categories{margin-top:60px}.sidebar .title{align-items:center;background:var(--toolbar-background-color);color:var(--font-color);display:flex;font-size:.85rem;font-weight:600;height:35px;justify-content:space-between;padding:0 .5rem 0 2.5rem;position:fixed;text-transform:uppercase;top:0;width:320px;z-index:8}.sidebar button.collapse-categories{height:35px;padding:0 .75rem}.sidebar button.collapse-categories:hover{background:var(--dark-opacity)}.sidebar button.collapse-categories div{border:1px solid var(--font-color);line-height:0;padding:1px 3px}.sidebar button.collapse-categories svg rect{fill:var(--font-color)}.sidebar button.category{align-items:center;background:var(--category-background-color);border:none;border-radius:0;color:var(--bright-font-color);cursor:pointer;display:grid;font-size:.8rem;font-weight:700;grid-template-columns:1.5rem auto;margin-bottom:1px;padding:.75rem 1rem;position:-webkit-sticky;position:sticky;text-align:left;text-transform:uppercase;top:60px;width:100%;z-index:7}.sidebar button.category:hover{background:var(--category-background-color-hover);color:var(--bright-font-color)}.sidebar button.category:focus-visible{background:var(--primary);border-bottom:none;color:var(--reverse)!important;outline:none}.sidebar button.category:focus{color:var(--bright-font-color);outline:none}.sidebar button.category svg{margin-right:.5rem}.sidebar button.category svg path,.sidebar button.category:focus svg path{stroke:var(--bright-font-color)}.sidebar button.category:focus-visible svg path{stroke:var(--reverse)}.sidebar nav{width:320px}.sidebar nav.collapsed{display:none}.sidebar a{align-items:center;border-left:3px solid transparent;color:var(--medium-font-color);display:grid;font-family:var(--heading-font-family);font-size:.85rem;grid-template-columns:2rem auto;line-height:1.2;padding:.4rem 1rem}.sidebar a svg path{-webkit-filter:var(--icon-filter);filter:var(--icon-filter)}.sidebar a:hover{background:var(--sidebar-color-hover);color:var(--bright-font-color)}.sidebar a.active,.sidebar a:focus{background:var(--sidebar-color-focus);border-left:3px solid var(--primary);color:var(--bright-font-color);outline:none}.sidebar a.active svg path{fill:var(--primary)}.container{margin-left:auto;margin-right:auto;max-width:var(--page-width);padding:2rem}.container.large{max-width:1350px}.container.small,.small{max-width:550px}.navigation{background:var(--navbar-color);border-bottom:1px solid var(--light-border-color);height:60px;left:0;position:fixed;top:0;width:100%;z-index:9}.navigation-inner{font-family:var(--heading-font-family);height:100%;margin:0 auto;max-width:var(--page-width);padding:.5rem 1.5rem}.navigation button,.navigation-inner{align-items:center;display:flex;justify-content:space-between}.navigation button{background:transparent;border:none;color:var(--font-color);cursor:pointer;font-weight:500;gap:.5rem;line-height:0;padding:.5rem;position:relative}.navigation button:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation button:focus{outline:none}.navigation button:focus-visible{outline:3px solid var(--primary)}.navigation button span{font-size:.9rem}.navigation button svg rect{fill:var(--font-color)}.navigation nav{gap:.6rem;height:100%}.navigation nav,.navigation nav a{align-items:center;display:flex;justify-content:center}.navigation nav a{border-radius:8px;color:var(--font-color);font-size:.9rem;font-weight:500;gap:.4rem;line-height:1.1;padding:.5rem}.navigation nav a.active{color:var(--bright-font-color)}.navigation nav a.brand{font-size:1rem;font-weight:600}.navigation nav a.brand span{white-space:nowrap}.navigation nav a:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation nav img{max-height:20px;max-width:25px}.theme-switcher{margin-left:.5rem}.theme-switcher img{max-width:20px}.toolbar-section{align-items:center;display:flex;flex:0 0 155px;justify-content:flex-end}.navigation nav .brand-section{flex:0 0 155px;justify-content:flex-start}.hero{padding:1rem 0}.hero .flex-content{align-items:center}.hero header{padding:2rem 0 0;text-align:left}.hero h1{color:var(--bright-font-color);font-size:3rem;margin-bottom:1.5rem}.hero p.subtitle{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.3rem}.hero .hero-buttons{display:flex;gap:1.5rem}.hero-buttons a.hero-button{align-items:center;border:none;color:var(--dark-font-color);display:flex;font-size:.9rem;gap:.4rem;justify-content:space-between}.hero-buttons a.hero-button:hover{background:transparent;border:none;color:var(--font-color)}.hero-buttons a.hero-button img{display:block;max-height:18px}.bright{color:var(--bright-font-color)}article{padding-bottom:3rem}article header{padding-top:2rem;text-align:center}article h1{color:var(--bright-font-color);font-size:2.5rem;font-weight:700;margin-bottom:.75rem}article h2,article h3,article h4,article h5{margin:0 0 1.25rem}article h4{border-bottom:1px solid var(--light-border-color);margin-bottom:.75rem}article .description{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.45rem;margin-bottom:0}.post-image{margin-bottom:1rem}.post-details{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:.9rem;margin:.5rem 0}.post-details a{border-bottom:none}.tags{align-items:center;display:flex;flex-wrap:wrap;font-family:var(--heading-font-family);gap:.5rem;justify-content:center;margin:1.5rem 0}.tags a{border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);display:inline-block;font-size:.9rem;font-weight:600;line-height:normal;padding:.4rem .6rem;vertical-align:middle}.tags a,.tags a:hover{background:var(--reverse)}.tags a:hover{border:1px solid var(--primary);color:var(--primary)}article a{border-top:2px solid transparent;color:var(--link-color);font-weight:600}article a,article a:hover{border-bottom:2px solid var(--primary)}article a:hover{background:var(--primary);border-top:2px solid var(--primary);color:var(--reverse)}article li a,article li a:hover{border-bottom:none;border-top:none}article img{display:block;max-width:100%}article h2{font-size:1.9rem;padding-bottom:.25rem}article h2 code{border-bottom:1px solid var(--border-color);font-size:2.2rem!important}article h3{font-size:1.75rem}article h3 code{font-size:1.6rem!important}article h4{font-size:1.15rem;padding-bottom:.25rem;text-transform:uppercase}article h4 code{font-size:1.25rem!important}article h5{font-size:1rem;text-transform:uppercase}h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}blockquote{background:var(--blockquote-background-color);border:1px solid var(--light-border-color);border-left:4px solid var(--primary);border-radius:8px;font-family:var(--heading-font-family);padding:1.5rem}blockquote p{color:var(--blockquote-color)}blockquote ul{margin-top:1rem}blockquote p:last-of-type,blockquote ul:last-of-type{margin-bottom:0}.comments{padding-bottom:2rem}.comments h3{font-size:1.75rem}.blog-page h2{border-bottom:1px solid var(--light-border-color);margin-top:2.5rem}a.post{grid-gap:1rem;align-items:center;border:1px solid transparent;display:grid;grid-template-columns:auto 60px;margin-left:-1rem;margin-right:-1rem;padding:.4rem 1rem}a.post.new,a.post:hover{background:var(--dark-opacity);border:1px solid transparent;border-radius:8px;font-family:var(--heading-font-family)}a.post.new{background:transparent;border:1px solid transparent}a.post.new:hover{background:var(--dark-opacity)}a.post.new time{color:var(--secondary)!important}a.post.new h3{color:var(--bright-font-color)}a.post.new .new-badge{color:var(--yellow);margin-left:.75rem}a.post h3{color:var(--font-color);-webkit-filter:brightness(1);filter:brightness(1);font-size:1.1rem;font-weight:500;margin:0}a.post:hover h3{color:var(--bright-font-color)}a.post time,a.post:hover time{color:var(--dark-font-color)}a.post time{display:block;font-family:var(--code-font-family);font-size:.8rem;font-weight:400;text-align:center}.projects{display:flex;flex-direction:column}@media screen and (min-width:600px){.projects{grid-gap:2rem;display:grid;grid-template-columns:repeat(auto-fill,300px);justify-content:center}}.project{background:var(--dark-opacity);border:1px solid var(--border-color);border-radius:8px;color:var(--dark-font-color);display:flex;flex-direction:column;padding:1.5rem}.project h2{border-bottom:none;font-size:1.5rem;margin-bottom:0;text-align:center}.project img{height:auto;margin-top:.5rem;max-height:100px;max-width:100%;-o-object-fit:contain;object-fit:contain}.project .description{color:var(--font-color);font-family:var(--heading-font-family);font-size:1.2rem;line-height:1.3;margin-bottom:1rem;text-align:center}.project .links{display:flex;gap:.5rem}.project .stars{align-items:center;display:flex;gap:.75rem;justify-content:center;margin-top:auto}.project .stars img{margin-top:0;max-width:20px}a.anchor.before{border:none}a.anchor.before:hover{background:transparent}a.anchor.before svg{fill:#fff}a.image-link,a.image-link:hover{border-bottom:none;border-top:none}a.image-link:hover{background:none}.primary-color{color:var(--primary)}.primary-underline{border-bottom:3px solid var(--primary)}.deemphasized{color:var(--dark-font-color)}.gatsby-resp-image-wrapper{margin-left:0!important}a.gatsby-resp-image-link{background:transparent!important;border-bottom:none!important;border-top:none!important}.highlighted{background:var(--primary);color:var(--reverse)}.not-found-image{margin:0 auto}.flex{display:flex}.flex-align-center{align-items:center}.flex-justify-between{justify-content:space-between}.flex-content{gap:1.5rem}.flex-content,.main-header{display:flex;justify-content:space-between}.main-header{align-items:center;border-bottom:1px solid var(--light-border-color)}.main-header a{font-size:1rem}.main-image{border:1px solid var(--light-border-color);border-radius:8px;height:auto;margin-left:2rem;width:250px}.search-bar{grid-gap:1rem;align-items:center;display:grid;grid-template-columns:auto 50px}.search-icon{cursor:pointer;max-width:30px}.search-input{-webkit-appearance:none;background:var(--input-background);border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);font-size:1.1rem;line-height:1.1;padding:.75rem 1rem;width:100%}.search-input:active,.search-input:focus,.search-input:hover{border-color:var(--primary)}.search-input:focus{box-shadow:1px 1px 1px var(--primary);-webkit-filter:brightness(1.1);filter:brightness(1.1);outline:none}::-webkit-scrollbar{background:var(--scrollbar);height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scrollbar-track);border-radius:0}::selection{background:var(--primary);color:var(--reverse)}::-moz-selection{background:var(--primary);color:var(--reverse)}::marker{color:var(--primary)}.search-input::-webkit-search-cancel-button{color:var(--bright-font-color)}.collapsed .sidebar{display:none}.desktop-only{display:block!important}main{background:var(--background-color);margin-top:60px;min-height:calc(100vh - 215px)}.footer{background:var(--navbar-color);border-top:1px solid var(--light-border-color);font-family:var(--heading-font-family);padding:3rem 0}.footer section{align-items:center;display:flex;flex-direction:column;gap:1.25rem}.footer img{display:inline-block;max-height:20px;width:auto}.footer nav{display:flex;gap:.25rem;margin:0 1rem}.footer a,.footer span{align-items:center;color:var(--dark-font-color);display:flex;font-size:.9rem;line-height:1.2;padding:0 .5rem}.footer span{color:var(--toolbar-color)}.footer a:hover{color:var(--link-color)}@media screen and (max-width:800px){blockquote,ol,p,table,ul{font-size:1.1rem;margin:0 0 1.5rem}.flex-content{flex-direction:column;gap:.5rem}main{margin-top:60px}ol,ul{padding-left:1rem}.navigation nav.social-nav,.sidebar{display:none}.navigation-inner{justify-content:space-between;padding-right:0}.navigation nav{gap:.5rem}.navigation nav a{flex-direction:column;font-size:.8rem;gap:.25rem;padding:0 .25rem}.navigation nav a:hover{background:transparent}.navigation button.theme-switcher{margin-left:0;margin-right:-.5rem;min-width:auto}.navigation nav a.brand{font-size:.9rem;margin-left:0;margin-right:0;padding:0}.navigation nav img{max-width:20px}.toolbar-section{flex:initial;margin-left:0}.navigation nav .brand-section{flex:initial}.navbar img{max-width:30px}.projects{grid-gap:1rem;grid-template-columns:repeat(2,50%)}.project .stars{justify-content:center}.desktop-only{display:none!important}.hero{padding:0}.hero h1{font-size:2.25rem}.hero header{padding:1rem 0 0}.hero .container{padding-bottom:1rem}.hero p.subtitle{font-size:1.2rem}.hero .flex-content,.hero .hero-buttons{align-items:flex-start}.hero .hero-buttons{flex-direction:column;gap:.5rem}.post-image{max-height:75px;max-width:75px}.main-image{margin:0 0 1rem;width:150px}.flex-content div{order:2}.flex-content img{order:1}.container{padding:1rem}.navigation-inner{padding:0 1rem}article{padding-bottom:0}article h1{font-size:2.2rem;line-height:1.2}article h2{font-size:1.8rem}article header{padding-top:1.5rem}article .description{font-size:1.3rem}a.post h3{font-size:1rem}.project img{max-height:50px}}#resume header{text-align:left}#resume section h2,#resume section h3,#resume section h4,#resume section h5{margin-bottom:1rem;margin-top:0}#resume section h2{border-bottom:1px solid var(--light-border-color);font-size:1.1rem;margin-top:2.5rem;text-transform:uppercase}#resume section h3{align-items:center;display:flex;font-weight:600;justify-content:space-between}#resume section h3 span{display:block;font-size:1rem;font-weight:400}#resume section h3{font-size:1.3rem;margin-bottom:.5rem}#resume section li,#resume section p{font-size:1rem;line-height:1.3}#resume section li{margin-bottom:.5rem}.hidden{display:none}:root{--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--terminal-color:var(--code-font-color)}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.9rem!important;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;background:var(--code-background-color);border:1px solid var(--light-border-color);border-radius:8px;font-family:Menlo,monospace;margin-bottom:2rem;margin-top:2rem;overflow:initial;padding:1rem}:not(pre)>code[class*=language-]{-webkit-font-smoothing:antialiased;background:var(--inline-code-background-color)!important;color:var(--inline-code-color)!important;font-size:1rem!important;font-weight:600;padding:2px 3px;white-space:pre-wrap}article a:hover code{color:var(--reverse)!important}pre.language-text{background:transparent;margin-left:-1.5rem;padding-bottom:0;padding-top:.5rem}.line-numbers-rows{display:none}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:1rem;position:relative}@media screen and (min-width:800px){.line-numbers-rows{display:block}pre.language-text.line-numbers{padding-left:1.5rem!important}pre[class*=language-].line-numbers{padding-left:4rem}pre.language-shell,pre.language-terminal{padding-left:1.5rem!important}pre.language-shell .line-numbers-rows,pre.language-terminal .line-numbers-rows,pre.language-text .line-numbers-rows{display:none}}code.language-text{background:var(--light-background)!important;box-shadow:none;color:var(--font-color)!important}pre.language-text code.language-text{border:none}code.language-shell:before{color:var(--comment);content:"$ "}pre.language-terminal{-webkit-text-size-adjust:none;background:var(--reverse);border:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--font-color);margin:2rem 0;padding-top:3rem;position:relative;white-space:normal}code.language-terminal{-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;color:var(--terminal-color)}pre.language-terminal:before{background:var(--category-background-color);border-bottom:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--dark-font-color);content:"\2022 \2022 \2022";font-size:2.5rem;left:0;letter-spacing:-5px;line-height:0;margin:0;padding:15px 0 12px;position:absolute;text-indent:6px;top:0;width:100%}.line-numbers .line-numbers-rows{border-right:1px solid #444;font-size:100%;left:-3.8rem;letter-spacing:-1px;padding-right:.5rem;pointer-events:none;position:absolute;top:1rem!important;width:3rem!important}.line-numbers-rows>span:before{color:#777}.gatsby-highlight{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;font-size:.9rem;margin-bottom:1.5rem;margin-top:1.5rem;max-width:999999px;overflow-x:auto;overflow-y:hidden}.gatsby-highlight pre[class*=language-]{float:left;margin-bottom:0;margin-top:0;min-width:100%}.gatsby-highlight-code-line{background-color:#222;border-left:.25rem solid #74cf74;display:block;margin-left:-1.25rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem}.filename{align-items:center;background:#171717;border-top-left-radius:8px;border-top-right-radius:8px;color:#ccc;display:flex;font-family:var(--heading-font-family);font-size:.9rem;line-height:1;margin-bottom:-2rem;padding:.5rem 1.5rem .9rem}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-jsx .token.class-name{color:var(--tag)!important}code::selection,pre::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}pre[class*=language-]{margin-bottom:1.5rem;margin-top:1.5rem}.filename{margin-bottom:-1.9rem}.light{--primary:#16868f;--secondary:#444;--heading-font-color:#222;--link-color:#111;--border-color:#bbb;--light-border-color:#e0e0e0;--background-color:#fff;--sidebar-color:#f0f0f0;--navbar-color:#f0f0f0;--navbar-color-hover:#ddd;--sidebar-color-hover:#dedede;--sidebar-color-focus:#fff;--category-background-color:#d5d5d5;--category-background-color-hover:silver;--toolbar-color:#333;--toolbar-background-color:#f0f0f0;--font-color:#454545;--medium-font-color:#555;--dark-font-color:#888;--input-background:transparent;--bright-font-color:#222;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fff;--terminal-color:var(--bright-font-color);--scrollbar:#888;--scrollbar-track:#bbb;--yellow:#16868f;--button-color:var(--primary)}.light pre[class*=language-]{border-color:var(--heading-font-color)}.light pre.language-terminal,.light table{border-color:var(--border-color)}.light blockquote{border-left-color:var(--border-color);border-color:var(--border-color) var(--border-color) var(--border-color) var(--primary)}.sepia{--primary:#6c71c4;--secondary:#cb4b16;--heading-font-color:#211806;--link-color:#332810;--border-color:#332810;--light-border-color:#6b4a00;--background-color:#ebdbb2;--sidebar-color:#fef0cf;--navbar-color:#f0d69a;--navbar-color-hover:#e2c175;--sidebar-color-hover:#eed18e;--sidebar-color-focus:#fff6e3;--category-background-color:#d8ba76;--category-background-color-hover:#c8a961;--toolbar-color:#332810;--toolbar-background-color:#fdf6e3;--font-color:#372e19;--medium-font-color:#6b4a00;--dark-font-color:#6b4a00;--input-background:transparent;--bright-font-color:#211806;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fdf6e3;--terminal-color:var(--bright-font-color);--scrollbar:#a48337;--scrollbar-track:#c8a961;--yellow:#e59e32;--button-color:var(--primary)}.sepia .comments{background:#444;border-radius:8px;margin-bottom:2rem;padding:2rem}.sepia pre[class*=language-]{border-color:var(--heading-font-color)}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">Heatmaps und Choroplethenkarten | Astrid Günther</title><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="me" href="https://fimidi.com/@astrid"/><link data-react-helmet="true" rel="me" href="https://github.com/astridx"/><link data-react-helmet="true" rel="me" href="https://codeberg.org/astrid"/><link data-react-helmet="true" rel="me" href="mailto:info@astrid-guenther.de"/><link data-react-helmet="true" rel="me" href="https://twitter.com/astridguenther"/><link data-react-helmet="true" rel="me" href="https://astrid-guenther.de"/><link data-react-helmet="true" rel="webmention" href="https://webmention.io/blog.astrid-guenther.de/webmention"/><link data-react-helmet="true" rel="pingback" href="https://webmention.io/blog.astrid-guenther.de/xmlrpc"/><meta data-react-helmet="true" name="description" content="In den vorherigen Kapiteln haben wir uns angesehen, wie Sie Elemente direkt zu Ihrer Karte hinzugefügt können oder mithilfe von in GeoJSON…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de/logo.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de/en/heatmaps-und-choroplethenkarten-leaflet/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Heatmaps und Choroplethenkarten"/><meta data-react-helmet="true" property="og:description" content="In den vorherigen Kapiteln haben wir uns angesehen, wie Sie Elemente direkt zu Ihrer Karte hinzugefügt können oder mithilfe von in GeoJSON…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de/logo.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Heatmaps und Choroplethenkarten"/><meta data-react-helmet="true" name="twitter:description" content="In den vorherigen Kapiteln haben wir uns angesehen, wie Sie Elemente direkt zu Ihrer Karte hinzugefügt können oder mithilfe von in GeoJSON…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de/logo.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de","name":"Heatmaps und Choroplethenkarten","alternateName":"Heatmaps und Choroplethenkarten"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de/en/heatmaps-und-choroplethenkarten-leaflet/","name":"Heatmaps und Choroplethenkarten","image":"https://blog.astrid-guenther.de/logo.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de","name":"Heatmaps und Choroplethenkarten","alternateName":"Heatmaps und Choroplethenkarten","headline":"Heatmaps und Choroplethenkarten","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de/logo.png"},"description":"In den vorherigen Kapiteln haben wir uns angesehen, wie Sie Elemente direkt zu Ihrer Karte hinzugefügt können oder mithilfe von in GeoJSON…"}]</script><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-48b76a4c0774193c2454.js"/><link as="script" rel="preload" href="/framework-a8bc927eb7481ca28d49.js"/><link as="script" rel="preload" href="/app-24df0ae8e19938884045.js"/><link as="script" rel="preload" href="/commons-711ca7686977bac14a85.js"/><link as="script" rel="preload" href="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-f5082decce223e2378f1.js"/><link as="fetch" rel="preload" href="/page-data/en/heatmaps-und-choroplethenkarten-leaflet/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/352937542.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article class="h-entry"><section class="p-author h-card hidden"><p><a class="u-url" href="https://blog.astrid-guenther.de/en/heatmaps-und-choroplethenkarten-leaflet/">Astrid Günther</a>created by<img src="/static/me-f1824a760e002339b4da1b33f0f0b776.jpg" alt="Me" class="u-photo"/><span class="p-name" rel="me">Astrid Günther</span>in<span class="p-country-name">Germany</span>.</p><p><span class="p-note">Hi, I’m Astrid, webworker, writer and I like open-source.</span></p></section><header><div class="container"><div class="post-details">Written by<!-- --> <a class="u-url" href="https://astrid-guenther.de"><span>Astrid Günther</span></a> <!-- -->on<a href="https://blog.astrid-guenther.de/en/heatmaps-und-choroplethenkarten-leaflet/"><time datetime="2018-12-16" class="dt-published"> <!-- -->2018-12-16</time></a></div><h1 class="p-name">Heatmaps und Choroplethenkarten</h1><div class="post-meta"><div class="tags p-category"><a class="tag-geografische Daten" href="/tags/geografische-daten">geografische Daten</a><a class="tag-Leaflet" href="/tags/leaflet">Leaflet</a></div></div><div class="post-syndication">Syndications:</div></div></header><div id="/en/heatmaps-und-choroplethenkarten-leaflet/" class="container post-content e-content"><p>In den vorherigen Kapiteln haben wir uns angesehen, wie Sie Elemente direkt zu Ihrer Karte hinzugefügt können oder mithilfe von in GeoJSON formatierten Daten. Ab jetzt geht es darum, dieses Wissen in die Tat umzusetzen und eigene Vorstellungen umzusetzen.</p>
<h2 id="in-diesem-kapitel-werden-wir-" style="position:relative;"><a href="#in-diesem-kapitel-werden-wir-" aria-label="in diesem kapitel werden wir  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In diesem Kapitel werden wir …</h2>
<p>In diesem Kapitel werden wir nicht nur einfach Elemente auf die Karte zeichnen. Wir werden mit der Karte Informationen weitergeben und Fragen beantworten. Insbesondere statistische Daten können auf Karten viel besser veranschaulicht werden, als in einer trockenen Tabelle – und nebenbei macht es sogar Spaß eine solche Karte zu erkunden. Zwei Typen von Karten – nämlich Heatmaps und Choroplethenkarten – sehen wir uns nun in diesem Kapitel näher an. Beginnen wir mit der Heatmap.</p>
<h2 id="heatmaps" style="position:relative;"><a href="#heatmaps" aria-label="heatmaps permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Heatmaps</h2>
<p><a href="https://de.wikipedia.org/w/index.php?title=Heatmap">Heatmaps</a>[^de.wikipedia.org/w/index.php?title=heatmap] kennen wir im Deutschen auch unter dem Namen Wärmebild.</p>
<h3 id="was-ist-eine-heatmap" style="position:relative;"><a href="#was-ist-eine-heatmap" aria-label="was ist eine heatmap permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Was ist eine Heatmap?</h3>
<p>Eine Heatmap ist im Grunde genommen ein Diagramm, mit dem Daten visualisiert werden. Diese Visualisierung dient dazu, in einer großen Datenmenge intuitiv und schnell einen Überblick zu bekommen. In der grafischen Darstellung kristallisieren sich besonders markante Werte oft schnell heraus. Heatmaps färben Bereich unterschiedlich, wenn die <em>Intensität</em> oder die <em>Dichte</em> des untersuchten Objektes unterschiedlich ist.</p>
<blockquote>
<p>Möchten Sie gerne wissen, wie die Darstellung einer Heatmap technisch umgesetzt wird? Vereinfacht ausgedrückt wird zunächst ein Gitternetz über die Karte gelegt. Im nächsten Schritt wird die Anzahl der Punkte in jedem Bereich des Gitternetzes gezählt. Je nach Punktanzahl wird zum Schluss die Anzeige angepasst. Ist in einem Bereich kein Punkt vorhanden, wird dieser Bereich nicht mit Farbe gefüllt. Bei den anderen Bereichen wird je nach Anzahl der Punkte die passende Farbe im Bereich eingeblendet. Dieses Verfahren nennt man Multivariate Kerndichte Schätzung (englisch: Multivariate kernel density estimation). Detaillierter können Sie dies beispielsweise bei <a href="https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer">Wikipedia</a>[^de.wikipedia.org/w/index.php?title=kerndichtesch%c3%a4tzer] nachlesen.</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQoz01SQW4UQQzcB/AqPsAnOHDgA4gPcODAD6LcOURwicQFbohEEEEkUBCwRBt2prvd3ba7J+wipZA9u1EOrZr22NVllxe1VjAzDEUMGSKyuwtKKWitORKRx3POd5CRM93GFpbUe3cyw1rW6L36z96bkxphSgm1zuSGIgTmApUCZvG8nAsWKZEniSh634DyElV+orY12iSuXlWRUnQ1vU8Q2aDmK+QcoVMA8wDVuYsFUUJr1tovcB1A6y+QcIbx+Ah6uYJMkxPGaAoTmCMonaLKAQp9Rro4QClvoPoPpZARriE8gIzw6gNW7x9iePUc8fwIHL9CdE84gugHSvkOorcY3t3D1acnKBevkfM5VOusMITos6rlEjJVDGeHWH17gDU9RiknYO5QFYzjAObsM6utIpw+wu/j+wj8FHF8CdWOUrLNMLoZzBWtKWpYgsZniOEFpr4E8+SEIQSfoQqjaIT+qRhPDkHlI5g3bqorNLtnU2Y3WTuma6BW9QfMFIvvV2Z+XNCvO/TvDZoGF2NjcUJbByfaFVqRKu8U7+82w+gF9u0x31GC7nKs3sQtNpvN7VKaCjvzEidHO6Zqu906KeXsePdYvQmzLv8D6H7tuO7qva0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)"
        title="(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)"
        src="/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png"
        srcset="/static/5f1cea48e930904b3c02d2cb61e1c3e6/772e8/946.png 200w,
/static/5f1cea48e930904b3c02d2cb61e1c3e6/e17e5/946.png 400w,
/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png 500w"
        sizes="(max-width: 500px) 100vw, 500px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Meist werden bei geringer Intensität oder geringer Dichte kalte Farben verwendet. Bei einem hohen Aufkommen wird der Bereich mit warmen Farben eingefärbt. Dies erklärt auch den Namen Heatmap – der englische Begriff für Hitze ist <em>heat</em>. Blau gilt als <a href="https://de.wikipedia.org/w/index.php?title=Kalte_Farbe">kalte Farbe</a>[^de.wikipedia.org/w/index.php?title=kalte_farbe], Rot, Orange und Gelb gelten als <a href="https://de.wikipedia.org/w/index.php?title=Warme_Farbe">warme Farben</a>[^de.wikipedia.org/w/index.php?title=warme_farbe].</p>
<h3 id="heatmaps-in-leaflet--dichte" style="position:relative;"><a href="#heatmaps-in-leaflet--dichte" aria-label="heatmaps in leaflet  dichte permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Heatmaps in Leaflet – Dichte</h3>
<p>Unser erstes Beispiel zeigt eine Heatmap, die die unterschiedliche Dichte von Punkten sichtbar macht. Die Funktionen zum Anzeigen einer Heatmap werden nicht im Standardumfang von Leaflet mitgeliefert. Es handelt sich hierbei um eine besondere Funktion, die im Normalfall nicht zur Darstellung einer digitalen Karte benötigt wird. Leaflet selbst konzentriert sich auf die Anwendungsfälle, die üblicherweise beim Anzeigen einer Karte benötigt werden – ist aber offen für Plugins. Eines dieser Plugins ist <a href="https://github.com/Leaflet/Leaflet.heat">Leaflet.heat</a>[^github.com/leaflet/leaflet.heat].</p>
<blockquote>
<p>Weitere Plugins, mit denen Sie Wärmeabbildungen oder ähnliche Visualisierungen aus Vektordaten erstellen können, finden Sie auf der Website von Leaflet im Bereich Plugins: <a href="http://leafletjs.com/plugins.html#heatmaps">http://leafletjs.com/plugins.html#heatmaps</a>[^leafletjs.com/plugins.html#heatmaps].</p>
</blockquote>
<p>Nachfolgende finden Sie das erste Beispiel für diesen Themenbereich.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_965.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.00555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">], </span><span class="mtk7">10</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">minOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.95</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was zeigt Ihnen dieses Beispiel? Als Erstes haben wir die Skript-Datei zum Plugin mit <code class="language-text">&lt;script src="leaflet-heat.js">&lt;/script></code> eingebunden. Ich hatte die Datei von der oben verlinkten Website kopiert und unter dem Namen <code class="language-text">leaflet-heat.js</code> im gleichen Verzeichnis wie die Datei <code class="language-text">index.html</code> abgelegt. Danach habe ich eine Variable mit dem Namen <code class="language-text">points</code> vom Typ <code class="language-text">Array</code> erstellt. In dieser Variablen habe ich 700 Koordinaten gespeichert. Zu guter Letzt habe ich ein Objekt der Klasse <code class="language-text">L.heatLayer</code> instanziiert und diesem die Koordinaten in der Variablen <code class="language-text">points</code> und einige Optionen übergeben.</p>
<p>Der Dritte Wert bei der Übergabe der Koordinaten steht für die Intensität.</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">[</span><span class="mtk7">50.1555</span><span class="mtk1"> , </span><span class="mtk7">7.591838</span><span class="mtk1"> , -&gt;</span><span class="mtk7">0.2</span><span class="mtk1">&lt;-],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">…</span></span></span></code></pre>
<p>Ich habe diesen Wert hier absichtlich immer mit der gleichen Zahl belegt. Ich nutze dieses Plugin nicht für die Visualisierung der Intensität. Hierfür zeige ich Ihnen im nächsten Kapitel eine andere Leaflet Erweiterung.</p>
<p>Das Ergebnis sehen Sie im nachfolgenden Bild. Da wir noch nichts gestaltet haben, sehen Sie die Standardansicht. Diese ist noch sehr rudimentär. Das geht besser, Sie werden sehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQozyWSO87kRBhFvQwSJEJCJAhYAXtgCQRIhMREbGBWABEiICAAggExw8zf7fazbJcf5SrXw2V39z/ZSIQHucmP7nf13ZPEu8VsEr03jNcafxtYbY8LAz5IlCzRSqCWmt6UKJ1jjGCxHdFJ4q5YtoElTpjYkbitYfQlvc8YQsa4VignmFVFMBIja/r8hGxThnChiznTmjMOZ1TzhJ4qZi+YomCwBcnRSG8Ndq3wsUFvNcqWRF1zdz37XDLJN7Tib/olpVkuKFei1oq4StZlwBzttwIVcpLtNmJchd2OsA4daqKvePaCd6EjuIzZXijXhvEm8atgiR3GFmjfYPeOeS7QIUeGjMRfR9R8wSyC+YBMRvSC697iXU4fSl53r/jr+294+v0H4t3gfMHiMpStMLtkmjNmXyDdhWS5dsyuwfmOEGvCWqB8xmjPjPeBlz+9QHz+Ef6DBPHFp0z3ARsq5nhwF5TPGdyZZjojTUpibiPa1IQ4PpYewnEpfYxk30fSF9/xb5JAkjB+8iHn5s//meOov9AuT/TqxKJr5JyRmGuPXjsmU9GvGcK8pbUpehWEu+Jy+oP826+YPvuYX7/+kle//Yh8FrRbSuNSqu6MOP3DIkr8VJMcrhlfM6uU2ad0y/nRzu0Se4ReDcu7lafiNb+8/Jk61pTTiaJLETJFmxJZnOjyE2P5hmS5jSiVonXG4HJafWFeJbPusa7BuxYTauSeM6w1aqkYhww71OzPE1ts2ReBczXBNCTzocpcMK7lQ0691jxkDwK7jditRcaCMdQcrI0t05jhXMP1rlidYN+Pl+W40PMfKvH/lAP21TsAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Heatmap zur Anzeige der Dichte von Punkten."
        title="Heatmap zur Anzeige der Dichte von Punkten."
        src="/static/e718f8cd2898673e7ae0b8b423fbb914/5a190/950.png"
        srcset="/static/e718f8cd2898673e7ae0b8b423fbb914/772e8/950.png 200w,
/static/e718f8cd2898673e7ae0b8b423fbb914/e17e5/950.png 400w,
/static/e718f8cd2898673e7ae0b8b423fbb914/5a190/950.png 800w,
/static/e718f8cd2898673e7ae0b8b423fbb914/c1b63/950.png 1200w,
/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="stile-und-optionen" style="position:relative;"><a href="#stile-und-optionen" aria-label="stile und optionen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stile und Optionen</h4>
<p>Das <a href="https://github.com/Leaflet/Leaflet.heat">Plugin Leaflet.heat</a>[^github.com/leaflet/leaflet.heat] erlaubt es Ihnen Parameter zu übergeben. Dabei haben Sie folgende Möglichkeiten:</p>
<ul>
<li><code class="language-text">minOpacity:</code> Die Option <code class="language-text">minOpacity</code> gibt die minimale Dichte an, ab der die Anzeige beginnt.</li>
<li><code class="language-text">maxZoom:</code> Die Opiton <code class="language-text">maxZoom</code> sollte auf die Zoomstufe gesetzt werden, bei der die Punkte die maximale Intensität erreichen. Als Standard wird der Wert, der für <code class="language-text">maxZoom</code> in der Karte gesetzt ist, verwendet. Auf die Darstellung der Heatmap Ebene hat diese Option keine Auswirkungen. Sie sollten den Wert so setzten, dass Ihre Karte die beste Aussagekraft hat. Wenn der Wert zu hoch ist, kann es sein, dass die Punkte so weit auseinander liegen, dass der dichteste Bereich nicht mehr deutlich erkennbar ist. Setzen Sie den Wert zu niedrig an, kann man die Daten vielleicht nicht mehr zusammenhängend im Überblick sehen.</li>
<li><code class="language-text">max:</code> Der Standardwert der maximalen Punktintensität ist 1.0.</li>
<li><code class="language-text">radius:</code> Diese Option erklärt sich meiner Meinung nach von selbst. Mit dem Wert <code class="language-text">radius</code> geben Sie die Größe an, in der die Punkte angezeigt werden sollen. 25 ist der Standardwert.</li>
<li><code class="language-text">blur:</code> Mit der Option <code class="language-text">blur</code> können Sie die Schärfe beeinflussen. Der Wert bestimmt, wie viele Punkte zusammen gefasst werden. Ein niedriger <code class="language-text">blur</code> Wert erzeugt einzelne Punkte, wohingegen ein hoher Wert Punkte zusammenfasst. Standardmäßig ist der Wert auf 15 festgesetzt.</li>
<li><code class="language-text">gradient:</code> Die Option <code class="language-text">gradient</code> steht für die Konfiguration des Farbverlaufs. Standardwert ist <code class="language-text">{0.4: 'blue', 0.65: 'lime', 1: 'red'}</code>. Sie können beliebig viele Werte zwischen 0 und 1 zwischen den Klammern angeben. Die Farbe, die am Rand angezeigt werden soll, sollten Sie mit dem niedrigen Wert angeben. Der Rand ist der Bereich in dem die Punkte nicht dicht beieinander sind. Die Farbe, die im Zentrum zu sehen sein soll, geben Sie idealerweise nahe beim Wert 1 an. Das Zentrum ist der Bereich in dem die Punkte am dichtesten beieinander liegen.</li>
</ul>
<h5 id="nachfolgend-sehen-sie-einen-vergleich-einer-ansichten-mit-unterschiedlichen-werten-für-die-optionen-blur-gradient-und-maxzoom" style="position:relative;"><a href="#nachfolgend-sehen-sie-einen-vergleich-einer-ansichten-mit-unterschiedlichen-werten-f%C3%BCr-die-optionen-blur-gradient-und-maxzoom" aria-label="nachfolgend sehen sie einen vergleich einer ansichten mit unterschiedlichen werten für die optionen blur gradient und maxzoom permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nachfolgend sehen Sie einen Vergleich einer Ansichten mit unterschiedlichen Werten für die Optionen blur, gradient und maxZoom</h5>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/638534e9028f635ea39795009b81b41f/46115/980a.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACcUlEQVQozx3RPY/bZADAcY9MlSoGPgsfoVInFiQmFhYGdkDiO7B0YkA60F1z17w5TuKz46R27PjsOH7389ix43B3aqsrEhIT2x/B+lt/Svt4wJMqxcki60xsMWJdT/Cbxf/up7fE6RovN7BbjV29JBIWsdgStxuKP2xE7xM3HtnRQwnaBbvjhF0zYi+meKWGKyesigHT9AJTjEmEjZssmWUXBLWOLSZsihHOfk4s1oh2R94GiC5A2T+amOUQo7jEP47whIYrFszz31kUV2SnLVXlcqg3SOnT5iF5vsFJZyyj1wT5Er9ckOYW912Esj8ZbKshrpwSnjT2Rw1PLtmUIzw5461QCYVF3xx4aAu6ck9z8IlKA6saYB1HuHJMlq3oxQ4l7gwseUXU6oSNxl17S9haJK1JdrLZHecUcs1Tn/D+dEAWOtvgBiceY2VDVvGYuHlL2N3Sn1OU6KxjH98Q9yZZsyURDoFcEncb/Fonrk3OncPTfczHx5SdmGKICbpQiR5s8tolqW3iYo1XGSh1b5Oede6kipVPuKt1wvy/yRW7dE4qDE5nj7JbE2RjPPcC9/YXjl+9oL/8mfpDRZhpOIlK3Noo8ujgdiqL/BqnGuLIGYl0EOcdotsQSA2nHLMqrtm2Ou++fME/nz7jr2ef8PT1Fxz+DPCrCW495E6oKKLz2csVG6FiVNe4jU4qbYrOw65nLPNLVsUNW6mRvI+5//E7/v7sOaeXn1N8/w1mMWKRXGFW16yyAUr5EHFuM5o2JJFrtvWCqNng5VPMYoB+eM2qeEPWO6SlS6b9Rqn9SvHTt4SvfmAWDphHN8yyS9aZyr/Us5Sl88FVUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="blur _= 1* - Es werden soviele Punkte zusammengefasst, dass jeder Hitzepunkt der Heatmap sehr scharf dargestellt wird. Ein Zentrum ist nicht mehr auszumachen."
        title="blur _= 1* - Es werden soviele Punkte zusammengefasst, dass jeder Hitzepunkt der Heatmap sehr scharf dargestellt wird. Ein Zentrum ist nicht mehr auszumachen."
        src="/static/638534e9028f635ea39795009b81b41f/5a190/980a.png"
        srcset="/static/638534e9028f635ea39795009b81b41f/772e8/980a.png 200w,
/static/638534e9028f635ea39795009b81b41f/e17e5/980a.png 400w,
/static/638534e9028f635ea39795009b81b41f/5a190/980a.png 800w,
/static/638534e9028f635ea39795009b81b41f/c1b63/980a.png 1200w,
/static/638534e9028f635ea39795009b81b41f/46115/980a.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVQozx3RyW7bVgBAUf54v6Io0EXajVPYlm3NEiVxDCkOJkVxeuJ7nCQlDlAg+YgbtNuzPdrw/UyoVoirTTWaeHKG0y6IO/1/j8sDeekQ1gbesCFqd2TSJpdH8sFFfPWQt5i8C6n6EC0ZdKJ+QdTNOMkl4WVDoBZYYsKyfMCUcwrpERQ71tUDSbvHkwtcMcM/bcmlgxwi6iFBjgna6buJeZliiEfifkYoNwRSZ1v/gy6eqK5Hmibg3LooFTPUKXXt4pdrdtkzSb0jvuiUtc23MUM7XQ2OzZRALUmvG079hlDtcC8zQrXmi1yRSptbd+ZjEIyXE+05JhMGdjPB7mcEak5VWdxkhJaPBrZ6Ihv2pN2G9+FAOtgUg0l19Yj6LUI5/LgV/Hs9oy4H/PSNoJ7jiBlWPifvvpCOB273Ei277/H6N/KbSdUdKaRPonbko0vc7slbk/vo8+Nbwc+Pgqie4tavLMMlSesg+oCi9ciFQ9gYaO3No7zveVcr7HrBe7snrf+btIjKLaU0uN5DLoNN3Kw4yi2f3rb89odF2kSM9xNJreMXK/LBQ1O9TzCu0OsX/GaKr9YUykfeI+TokqgN/mWOJV44tnv+XkT8+Tngr6mFHbuIm0Wk1gTtlHe5QpNjzElZuHKF0bwQdHtK5SHGEK9ds6sfMcUrQa9zbmN+/5zhJTbPxo5PMxu3mbItnjCbF6xqgnb5yLgPFd2QUiiHY6uTdS5hvcQUE/bnZyzxRn3zyUTM4zYhVTFzx+DhoKNnEzbZK+vqEada8QuQnJuBQDIE0gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="blur _= 40* - Randbereiche und Zentrum sind erkennbar."
        title="blur _= 40* - Randbereiche und Zentrum sind erkennbar."
        src="/static/c1f0ce18816345349dbbec18a85c6ba2/5a190/980b.png"
        srcset="/static/c1f0ce18816345349dbbec18a85c6ba2/772e8/980b.png 200w,
/static/c1f0ce18816345349dbbec18a85c6ba2/e17e5/980b.png 400w,
/static/c1f0ce18816345349dbbec18a85c6ba2/5a190/980b.png 800w,
/static/c1f0ce18816345349dbbec18a85c6ba2/c1b63/980b.png 1200w,
/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIUlEQVQozy2S647bNhBG/f7v0X8Fekk3aYNcigTNtlnbkiyLktaSeKck6mJv+wAnkNMfxAAEeDhn5ts1SvHucOJZNvw7aPai4E124m2e388fec5DmvHnuSBYTSIqxKXha13zlyjRThOc4SJblj6w+6coeDgkZKeUqUxpLiWvjgmvkuRe3yYpT6cT5XNFL1t6vT10RG/pjeY29UzesoyOZQjsHsuKv0XBS5AEkTLpC5e25iFJeX040hSCF6tYrGLQLevgmIMhGslgFGsM9EoxOsM6OXYfzgX7ssA2FauqeWkF9bPgp/2R/THBZTl9VRFVS7SSqCTRKtbesnrHOnjmYFm8JXq1AQVP5ZmmqahrgShzvmQZtRD0RUUvnlGnHN+13HrH6ixRdYxKMip11906nsJWHbvPRcnHLOP1IeHNPuXnrweyquK/YFmt5mY94umRTz/+wOIDV6+4esdkFVFLRqOJWhGNYfGbciH4Pc34cExJzwWDVVydYtYt19FxDRZX15i6ZjEK313ud9EZZv+/9rYU74jasHt3LnjMcyavGW3HNRjWbSZGchs8t+hZvCJ2LfO2GHn53plSLN4wtA296pjcpm3YfRSCXw9H3qcZg5EsTjFtqndYuMNnJenSir7bPg0M1rMEx6QV4wa3mkF2LIP/DvwtSfjleOTLueBlsKyjY/aaJRhmIzEXiekso92y51i3HEpFlJJ5i8voGbdxyIZv+LjOQXImBSYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="maxZoom _ = 6* - Bei dieser niedrigen Zoomstufe kann die Verteilung nicht visualisiert werden. Alles liegt so nah beieinander, dass nur ein Punkt zu sehen ist."
        title="maxZoom _ = 6* - Bei dieser niedrigen Zoomstufe kann die Verteilung nicht visualisiert werden. Alles liegt so nah beieinander, dass nur ein Punkt zu sehen ist."
        src="/static/e0956a0502454b432f60e938e4b5e6ef/5a190/980c.png"
        srcset="/static/e0956a0502454b432f60e938e4b5e6ef/772e8/980c.png 200w,
/static/e0956a0502454b432f60e938e4b5e6ef/e17e5/980c.png 400w,
/static/e0956a0502454b432f60e938e4b5e6ef/5a190/980c.png 800w,
/static/e0956a0502454b432f60e938e4b5e6ef/c1b63/980c.png 1200w,
/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVQozwXB2XLaZgCAUb1x79v0rleddqYTx6ljO4A3wGwSi4RR2WzEIsQvEJKwkASGsMRpMk2nL/D1HMnbmJTtKxrzHNO4xfEwRIQqL9sBRlSmIW7oWnm6fpG6l2EYNnDCR8qtW+qTAoOlzGytczwM+LafII0Cjb5fRLaTrF66fD9O2O9MHs08aeU3GtMspldG66aoOkmeFiWGYQ11rDCYakyiKhU7iRvVsJcVpO+vPlZQJjO+ZODLmM8Kn499wkWPvnGLs9PRxS3vEj+Rtv9kuCwSbU00cY9uVugKlQdRRPh1dOcWabud4EYaIlZRZ2ke3SL9RZH9YUD40qNmJyiJC7RBiqafxfBl2vM846CK4SvkzDvOE79Q6yqoZhlJBH0Onyz+/WzxGBTYHw2mYZXJQqc1LdKe3jCwavzVuWF7mPL3MULEDUbPdeJ4hDpNUhUfeY6b+GEHaXns8enwyH9fZ4xdmUbjA+v1kDCe05rIGH4a1+xQLpyy2An8eMw41KnaN8hWCkVcsPvaY++bqKW3SM6uhePVKdVO0Ow0ze4V0cKg05fxwhZmoLDZ+LxGPu66R1VckhPnFLwUFZGg4qZIa79T0c+ZxD2kh0WR08SP/HHxBtVJo07TtK0M9eo1i1UbI5YZ+3U2gUU/0FC9FLn2CZdvf+Bd8mdyxhnp0Xsywwt2hzmS+9LkzvhAqXLKYtmgVjjBClQGzxWidZvNF5No1eRpeM+dOKPhZXGcB4x8ipOPb8iLFNX5Neo8S9e7R/r2xcNZqbgrndfdkCAy6GiXjOx7uksFt6+Qyf6K3Dmj7WX55+hga3dYjk5eJFBmV+TFORX7mqdZkf8BDKOMa27eQEIAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="maxZoom _ = 15* - Bei dieser Zoomstufe kann eine Verteilung dargestellt werden."
        title="maxZoom _ = 15* - Bei dieser Zoomstufe kann eine Verteilung dargestellt werden."
        src="/static/5bb4ffddbaeb8c38506d71198ddacdf4/5a190/980d.png"
        srcset="/static/5bb4ffddbaeb8c38506d71198ddacdf4/772e8/980d.png 200w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/e17e5/980d.png 400w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/5a190/980d.png 800w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/c1b63/980d.png 1200w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVQozx3R627aZgCAYd/m7mPaFUza32qTqq1VRtoSQkg4OBxMsMEYYww4NvjwYRtjc0zaqN01vJN6Bc+PRwqPDk42ZplpTNMWmqiTHib4O52Bf4ce1jHzNno0YBg+UFwmBIVGfJpgpTKTuMP+FPByEfj5BMneqczSJ9KjQ7gdMIpqOEmHtDCZbds0nE88iQrzWOHp+Z6OU8WJeyQHk3VuEeUW002LaK9hCxlpEDfoizucvYkW9fl2WTDPHgm2OlO/ie41iXYWXqahhXc/cdPrMo36FLlHmI45HE2+v7q8HCyk4hLxuP5CL7ghOKi0RR1VNLGFjpMobFIHK2nz2fmHW+8j490jVjyhM6shiiGn84KoGGLGdfydgnT4KjDiFqZoMo1btNZVzI3CKJQJCxU7lDGiB+7dBn8vPtIOyiQnEz2Q0f0Kb98CrG2fdlRmLO6Qfry9IPZzxGHC7rRE5CZ2rGKJLqPNE7ovs00MLKFwu7pmEDbIj2uMVZe+V+Z4cvnxtufydUMvvEHKTh7n1y3n1w2jRKW2KqP6N+ixhhwo3DvVnzHv7D/5ffwXbjZnnk2xA4XOosIi01hsFdSogRHeI8XnBaKYEu4Mkv2C8zHAz2dYmYEStPlgl2i4FWp+lV9qv3G9LHG1+MwsHfK8GSG7JeTwX1rP1xiiiiQKi+POJc9d0r1PUMxxdkPMdMQH+wtXzi3l5xaVZZ1fB3/QCet0wi5ePiE5eQzdHo/rT/SiMrJ/jfTf24FQjDCSDvKqyjJTcXMNK+1hJAOCQufBb/BOf091XWKeD1HWDQabJt34ge6yTssv0VqVqLtX/A9uv5Ymq7zPUgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit benutzerdefinierten Farben: gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;, 0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}."
        title="Eine Heatmap mit benutzerdefinierten Farben: gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;, 0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}."
        src="/static/9633d56c7d455a1a8a4b5a3665743ac0/5a190/980e.png"
        srcset="/static/9633d56c7d455a1a8a4b5a3665743ac0/772e8/980e.png 200w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/e17e5/980e.png 400w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/5a190/980e.png 800w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/c1b63/980e.png 1200w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>Gefallen Ihnen die standardmäßig gesetzten kalten und warmen Farben nicht? Möchten Sie lieber Ihre eigene Farbzusammenstellung nutzen? Die Website <a href="http://colorbrewer2.org">http://colorbrewer2.org</a>[^colorbrewer2.org] hilft beim Auswählen von Farben.</p>
</blockquote>
<h4 id="methoden" style="position:relative;"><a href="#methoden" aria-label="methoden permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Methoden</h4>
<p>Zusätzlich zu den Stylesheet Optionen bietet Ihnen das Plugin <code class="language-text">Leaflet.heat</code> vier Methoden:</p>
<ul>
<li><code class="language-text">setOptions(options):</code> Diese Methode setzt die Optionen der Heatmap neu und zeichnet die Heatmap neu.</li>
<li><code class="language-text">addLatLng(latlng):</code> Diese Methode fügt einen Punkt zur Heatmap hinzu und aktualisiert die Ansicht gleichzeitig.</li>
<li><code class="language-text">setLatLngs(latlngs):</code> Diese Methode liest die Daten neu ein und aktualisiert danach die Ansicht.</li>
<li><code class="language-text">redraw():</code> Diese Methode zeichnet die Heatmap neu. Sie wird beim Ausführen der drei vorher genannten Methoden automatisch ausgeführt, so das Sie dies nicht selbst veranlassen müssen.</li>
</ul>
<h5 id="ein-beispiel-zur-anwendung-der-methoden---die-methode-addlatlng" style="position:relative;"><a href="#ein-beispiel-zur-anwendung-der-methoden---die-methode-addlatlng" aria-label="ein beispiel zur anwendung der methoden   die methode addlatlng permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ein Beispiel zur Anwendung der Methoden - Die Methode addLatLng()</h5>
<p>Mithilfe der Methode <code class="language-text">addLatLng()</code> können Sie nachträglich einen Punkt zum Heatmap Layer hinzufügen.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_964.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">10</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">minOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.95</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">1.0</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">addLatLng</span><span class="mtk1">([</span><span class="mtk7">50.27264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">]);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>In der nächsten Abbildung können Sie den neu hinzugefügten Punkt erkennen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQozx3RS27jZADAcd+CuyDNIbgAZ2DBiB2CBSxHiAWaFaigoZ2mjZuH66SOncSOH3Hs+O3v8yvJTCs0YsMR/gi2v+1P6V+OeHJGebLIhxW2UFk3E4JW/9+D7IkkW+MVBnY3x28WxMIiETuSfkP5wUacA5LWI+88lLDX8bsJfqsSiSlepeHKCWZ5yzT7g5V4IBU2bqozL94RNk/Y4oFNqeJEjyRijeh9ij5EDCFK9LJiVY0xymuCTsUTGq7QeSzeoZc35KcdVbUjHna06YYhdsnLLU42ZxG/JywWBJVOVlh8HGKU6GSwq8e4csrhpBF1Gp5csKlUPKmxradEnc3HaMtfjsmpjmmOAXFlYNW3WJ2KKx/Ic5Oz8FGSwcCSN8T9kkOrse+fOPQWab8iO23ZdzpRYXAJDD71EaI22IV32ImKlauYyYSk3XIYnjhfMpT4ssTu7knOK/J2RyocQrkgGTb4ckl52uI5I/bmmH/+FgTZHWY9wRIa6WVL0bqkjU1SrvFqA6U522SXJXs5wyom7Jslh+K/SZMgeyQTBucPAXW/IawmrE8mM/Vnrt5+g5NoDJeUsHjESWckvY0iOwd3mKEXI5x6jCPnpNJBXHzEsCGUGk71gJnf4Lw4OL98i//qM77/7nNGv/9I+ezhyyluM2YvZihiCIikyUbMMOoRbrskkzbl4GE3cxbFNavyDkdq5J9Swqs3XH/9BVdfvcJ5/SX62WBx/JNVPcLMb1Gq55hLn9P2B1K5ZtfoxO0Gr5iyKm9ZHt9jlvfkZ4dM+gTNjvD5yOzXn7j/7Qe0YoIWjZjn16zzGf8CEXSVvhKECHoAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Heatmap mit einem mithilfe der Methode addLatLng hinzugefügten Punkt."
        title="Heatmap mit einem mithilfe der Methode addLatLng hinzugefügten Punkt."
        src="/static/f7e920d8d456e96c39d7f8a0b442bcc9/5a190/979.png"
        srcset="/static/f7e920d8d456e96c39d7f8a0b442bcc9/772e8/979.png 200w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/e17e5/979.png 400w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/5a190/979.png 800w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/c1b63/979.png 1200w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>Möchten Sie es Website Besuchern ermöglichen selbst Punkte zur Heatmap auf ihrer Karte hinzuzufügen? Eine Demo auf der Website zum Plugin zeigt genau solch ein Beispiel: <a href="http://leaflet.github.io/Leaflet.heat/demo/draw.html">http://leaflet.github.io/Leaflet.heat/demo/draw.html</a>[^leaflet.github.io/leaflet.heat/demo/draw.html]</p>
</blockquote>
<h5 id="die-methoden-addlatlng-addlatlngs-und-setoptions-der-klasse-lheatlayer-zusammen-in-einem-beispiel" style="position:relative;"><a href="#die-methoden-addlatlng-addlatlngs-und-setoptions-der-klasse-lheatlayer-zusammen-in-einem-beispiel" aria-label="die methoden addlatlng addlatlngs und setoptions der klasse lheatlayer zusammen in einem beispiel permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Die Methoden addLatLng(), addLatLngs() und setOptions() der Klasse L.heatLayer zusammen in einem Beispiel</h5>
<p>In diesem Kapitel stelle ich Ihnen ein Beispiel vor, das per Schaltfläche die verschiedenen Methoden anwendet.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_963.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">add</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Punkt hinzufügen</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">br</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">newPoint</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Daten neu setzen</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">br</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">reset</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Reset</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">br</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">setOptions</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Farben ändern</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">49.07264</span><span class="mtk1">, </span><span class="mtk7">7.26469</span><span class="mtk1">], </span><span class="mtk7">7</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">minOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.95</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">1.0</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">      }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">add</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">addLatLng</span><span class="mtk1">([</span><span class="mtk7">50.1</span><span class="mtk1">, </span><span class="mtk7">7.1</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">]);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">newPoint</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">setLatLngs</span><span class="mtk1">([[</span><span class="mtk7">50.5</span><span class="mtk1">, </span><span class="mtk7">7</span><span class="mtk1">, </span><span class="mtk7">0.2</span><span class="mtk1">]]);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">reset</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">setLatLngs</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">setOptions</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">setOptions</span><span class="mtk1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;black&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;gray&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;white&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">        });</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was passiert genau in diesem Beispiel? Zunächst fügen wir vier Schaltflächen in das HTML-Dokument ein. Jede Schaltfläche führt eine der Methoden <code class="language-text">add()</code>, <code class="language-text">newPoint()</code>, <code class="language-text">reset()</code> oder <code class="language-text">setOptions()</code> der Klasse L.heatLayer aus, wenn sie angeklickt wird.</p>
<ul>
<li>Der Aufruf von <code class="language-text">add()</code> führt den Code <code class="language-text">heat.addLatLng([50.1, 7.1, 0.2]);</code> aus und fügt dabei den Punkt <code class="language-text">[50.1, 7.1, 0.2]</code> zu den Daten der Heatmap Ebene hinzu.</li>
<li>Die Methode <code class="language-text">newPoint()</code> führt die Programmcodezeile <code class="language-text">heat.setLatLngs([[50.5, 7, 0.2]]);</code> aus und setzt dabei die Daten der Heatmap Ebene neu. Die Heatmap Ebene enthält nun nur den einen Punkt <code class="language-text">[[50.5, 7, 0.2]]</code> im Array.</li>
<li>Die Methode <code class="language-text">reset()</code> führt den Code <code class="language-text">heat.setLatLngs(points);</code> aus und ersetzt damit die Daten der Heatmap Ebene wieder mit den Daten der Variablen <code class="language-text">points</code>. Achtung: Wenn Sie einen Punkt zum Layer hinzugefügt haben, als die Variable <code class="language-text">points</code> Datenbestand des Layers war, dann ist dieser Punkt nun auch in der Variablen <code class="language-text">points</code> enthalten!</li>
<li>Die Methode <code class="language-text">setOptions()</code> ist meiner Meinung nach selbsterklärend. Sie ändert einfach das Aussehen, also die CSS-Eigenschaften der Ebene.</li>
</ul>
<p>Einen Screenshot der Karte zu diesem Beispiel sehen Sie in der nachfolgenden Abbildung.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsklEQVQ4y3WRz6rkRBSHsxK37t278AkUfAQ3os/g++hsxKUICrPQjTCDDA4z03O7O0knVfnT6aRSqapUpf/c6XvRzcyi+5NuUWTQAz+oOof6qMMXWWM5Hu/4rzpzhv+bnLnm7Yq8H3nz+vX1cjqdOJ/P1/yb9XfvmtP5LfCZ0/n0zzkq1A0mCNxUsLZLmq1AbyvMVtKrnEHlbFRGuy3pQslgJNrW9K5CTwVh16BszeBqbo87IhUSOp+gzZLeJ3QhYW1jpJkhbExnMtZdSj7c0PgVrc/YuJSyWVB3KcaJK6ztBYejJ2q2Kxq/oPcXYEY3CjY+oZwS9LbEDiV6KFAmp6li2k1Ko2PyZk61ntO2MUoLrBbcHyeiy+PGJeh9zuBT2lGwHlMan9D6nN4VqE7ghzV9LWhWSyq5pB1T6imhDSu6dskmn3G7t0Stj1FjivIpKgj0VDL4HBcK+knQmoxRCfZ2zdTlqHpGUTyj0QvksKQ1KV2QOCf5425PtNnF6F2BdhcxFXqUmEnSTyW9l3iXcbCS+7BmMpf1biitoA0Vg88YLqKcoB0yDvcTkZlWmCljPaRoL9EqQdviKkPpmK0rOOwqRpPSeknsCn55+DVPZw/ZHSx2FNgxoR3Sv4B6L6jHi9kEFXI6KzCmwIUcHwrUmNHaGLUr+O3JDyy++ITlR+/w/LMPKV2JG3NUWNG6Ja/uR6LO5VQhv5pVU0E/SELYoLzgp0ffIdULahdjfrfMfnzAmyiCKOLuvXd5sXqMmiT1RaKZEw49ke0relOigqSZJIOv6bS8/vpp9pjCLK6z8dAxnz/i5svPcR+8z8tPP+bX779C7iWlX1D4JeF2IPKuY29rbk2J7jPUWNL1Md0Y04wJtY0ZJsk4Vdi9onllmaXP+Obnb0n6BZWLEX1MWrwkTAN/AhC0nf5FX1sTAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte mit Schaltfläche die die Methoden add(), newPoint(), reset() oder setOptions() per Klick ausführen."
        title="Eine Karte mit Schaltfläche die die Methoden add(), newPoint(), reset() oder setOptions() per Klick ausführen."
        src="/static/1afd5be43cf778b632f417a6e4d1c33e/5a190/953.png"
        srcset="/static/1afd5be43cf778b632f417a6e4d1c33e/772e8/953.png 200w,
/static/1afd5be43cf778b632f417a6e4d1c33e/e17e5/953.png 400w,
/static/1afd5be43cf778b632f417a6e4d1c33e/5a190/953.png 800w,
/static/1afd5be43cf778b632f417a6e4d1c33e/c1b63/953.png 1200w,
/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="marker" style="position:relative;"><a href="#marker" aria-label="marker permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Marker</h4>
<p>Im nächsten Beispiel zeige ich Ihnen, wie Sie zu jedem Punkt in einer Heatmap einen Marker hinzufügen können. Das ist ganz praktisch, wenn Sie die Eigenschaften der einzelnen Punkte aufzeigen möchten.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_962.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">).</span><span class="mtk11">setView</span><span class="mtk1">([</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">], </span><span class="mtk7">10</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">, </span><span class="mtk8">&quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk8">&quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk15">for</span><span class="mtk1"> (</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">i</span><span class="mtk1"> = </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1"> &lt; </span><span class="mtk12">points</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1">; </span><span class="mtk12">i</span><span class="mtk1">++) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">marker</span><span class="mtk1">([</span><span class="mtk11">parseFloat</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">][</span><span class="mtk7">0</span><span class="mtk1">]), </span><span class="mtk11">parseFloat</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">][</span><span class="mtk7">1</span><span class="mtk1">])], {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">bindPopup</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">][</span><span class="mtk7">2</span><span class="mtk1">], { </span><span class="mtk12">keepInView:</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">          .</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">minOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.95</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">      }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was ist in diesem Beispiel anders? Wir haben der Variablen <code class="language-text">point</code> einen dritten Wert mitgegeben. Dieser dritte Wert beschreibt die Adresse zu einem Image. Dies hätte aber auch ein gewöhnlicher Text sein können. Diesen dritten Wert haben wir dann in der Methode <code class="language-text">bindPopup(points[i][2],{keepInView)</code> dazu genutzt, einen individuellen Marker zu kreieren. So wie in der nächsten Abbildung könnte die fertige Karte auch bei Ihnen aussehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeUlEQVQozx3Iy47bVACAYb8D74LEgodASGxY8ABQxAI2VFSiAsEONqibCminQ9pJJ9PE8eRqO7VjO7GT+O5z7PiS6cyi7YJX+JH4lp9S3x1wpUrWGiTNEktcYZZDNtXk/9/Ec8LYxE0XWLWGV07ZFwaRdAib12Q3NqLbEFYuydFF8esJ3nGIV12xEyPcXMORQ/TsglF8xlK8IhIWTjRlnJwRlHPW5Qg97mP6Q0JhIGuPtPYRjY+yu1uyzAcssh6b4xWu0HDEhOv0nEn2nKRdUxQOh3KFlB4yPeBHNrfvj7Q3gjA38XKNODV40+xRdu2CdTHAkSOCVmN31HDllFV+hSvHvBYqgTDoqpC7OiOJ9vSe/c3540fc1DlBZ2KLS5JEpxMeStgsMORz9vWMoNLY1nOC2iCqlySthXe8JpMm79uId6cDG3fKw++/5tf793h59ggvM9iXBkEzpzvFKPvTDOt4SdgtSao1kbDx5ZSwWbEpZ4TlklNj8+4m5N+3KWPtGZ9+9jlf3vuKhz/eJysDosoiTE3cYoFSdhbxacZWqhjpkG05I0in7IWOF18TiwXtySWvDbbZEOfNmrVxzuDpL2xyg7oL8dNr7EglrC0UebRxGpVJ2scuBthyTCRtxMmjaFb4UsPOX6EnL7DvbKw/fsD+6AMePPiQiyc/kd26eHKEUw7YChVFNBt2UmclVBZFH6eaEUuLrHWxSpVp2kPPXmJLjeRthP/kN3rffsLTbz7G/u4LJt2C6eEflkUfPblAyW/3nOqEqg6IpMm6nLCvVjjJiEXaZ354gZ5dknQ2sfTYlGv82wPqn79z+dfPaOkQbddnnPQwE5X/ANivkfWTPJeEAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt."
        title="Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt."
        src="/static/3234f3221d129f2b1ed0500fb973fda2/5a190/980.png"
        srcset="/static/3234f3221d129f2b1ed0500fb973fda2/772e8/980.png 200w,
/static/3234f3221d129f2b1ed0500fb973fda2/e17e5/980.png 400w,
/static/3234f3221d129f2b1ed0500fb973fda2/5a190/980.png 800w,
/static/3234f3221d129f2b1ed0500fb973fda2/c1b63/980.png 1200w,
/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="heatmaps-mit-leaflet--intensität" style="position:relative;"><a href="#heatmaps-mit-leaflet--intensit%C3%A4t" aria-label="heatmaps mit leaflet  intensität permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Heatmaps mit Leaflet – Intensität</h3>
<p>Im vorhergehenden Kapitel haben wir eine Heatmap mithilfe des Plugins <a href="https://github.com/Leaflet/Leaflet.heat">Leaflet.heat</a>[^github.com/leaflet/leaflet.heat] erstellt. Diese Heatmap hat die Dichte von Punkten auf einer Karte visualisierte. Wir haben bisher die Möglichkeit die Intensität zu visualisieren nicht genutzt. Ich stelle Ihnen hier ein anderes Plugin für diesen Zweck vor. Als nächstes möchte ich nun mit Ihnen eine Heatmap, die die Intensität der Eigenschaft eines Punktes darstellt, mithilfe des Plugins <a href="https://github.com/pa7/heatmap.js">heatmap.js</a>[^github.com/pa7/heatmap.js] erarbeiten. Herunterladen können Sie das Plugin unter der Adresse <a href="https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html">https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html</a>[^patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html]. Hier finden Sie auch die Dokumentation zum Plugin. Nachfolgende sehen Sie das erste Beispiel.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_961.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;heatmap.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heatmap.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">myData</span><span class="mtk1"> = {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">100</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">data:</span><span class="mtk1"> [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">          { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">51.0934</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">8.666819</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">99</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">          …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">          { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">23</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        ],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">baseLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">cfg</span><span class="mtk1"> = {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">0.1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.5</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">scaleRadius:</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">useLocalExtrema:</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">latField:</span><span class="mtk1"> </span><span class="mtk8">&quot;lat&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">lngField:</span><span class="mtk1"> </span><span class="mtk8">&quot;lon&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">valueField:</span><span class="mtk1"> </span><span class="mtk8">&quot;value&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">      };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heatmapLayer</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">HeatmapOverlay</span><span class="mtk1">(</span><span class="mtk12">cfg</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">setData</span><span class="mtk1">(</span><span class="mtk12">myData</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">map</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">center:</span><span class="mtk1"> </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">LatLng</span><span class="mtk1">(</span><span class="mtk7">50.0586</span><span class="mtk1">, </span><span class="mtk7">7.6568</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">zoom:</span><span class="mtk1"> </span><span class="mtk7">8</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">layers:</span><span class="mtk1"> [</span><span class="mtk12">baseLayer</span><span class="mtk1">, </span><span class="mtk12">heatmapLayer</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      });</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was zeigt Ihnen dieses Beispiel genau? Sie sehen, dass Sie neben dem Skript <code class="language-text">leaflet.heat.js</code> auch das Skript <code class="language-text">heat.js</code> einbinden können oder müssen. Als nächstes müssen Sie die Daten, die Sie visualisieren möchten, angeben – diese müssen eine Angabe zu dem maximal möglichen Wert enthalten: <code class="language-text">var myData={``max:100``, data: [ {lat: 51.0934, lon:8.666819, value: 99} ….</code>. Danach können Sie die Heatmap Ebene erstellen. Der Übersicht halber habe ich die Optionen der Heatmap Ebene in einer separaten Variablen, nämlich der Variablen <code class="language-text">cfg</code>, definiert. Die Anweisung zum Erstellen der Heatmap Ebene mit den Optionen in der Variablen <code class="language-text">cfg</code> lautet <code class="language-text">var heatmapLayer = new HeatmapOverlay(cfg);</code>. Dieser Ebene können Sie nun die Daten mit dem Befehl <code class="language-text">heatmapLayer.setData(myData);</code> hinzufügen. Zum Schluss fügen Sie diesen Layer nun zum Kartenobjekt hinzu. Die Anweisung hierfür lautet: <code class="language-text">L.Map('mapid', { center: new L.LatLng(50.0586, 7.6568),</code> <code class="language-text">zoom: 8, layers: [baseLayer,``heatmapLayer``]});</code>.</p>
<p>Wie das aussehen sollte, können Sie sich in der nächsten Abbildung ansehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQElEQVQozx3S2Y7bRhSEYb7/O/hF4gBGYDiZ0Uhsbk1SXHo5vVFSYs/c5PY3RtcFFPAVqsrekP3EkVbuYeYRVoq78nAjdjizz4pUrpg4YG8jo/zDEi+UPCNhINyvz/z9352Pu6GSpUOWM0VGyq6IiyLPDT/DiO1e0c3f+DSw7Rd680rnvjPJCzFpjLmwOYVxNVkGjrWhklkhuuZnmLm7Hhkb3KRwruZuFNf+BRd7Nq9Y7AWXB0IckThgrCKlGZs6ZnfGGEV123rKfOEumsNrzHrBSsdq3gixwTjFZlqc9PjQY21DMi3xNmN8j0iL5JHdNWh/oSphpsSB6AZEBkxq8DIQwoCkllxG5vYro/7zWbj5GlkVPg8srmUzZ0KeKLcVazuqdNtYvcL4FiMNMU4EPxDLhJcWe0zov77Q/fGF1Q0Mp29M6gebVfT+RHAtRxwJZcT7nuo4dhZXM9sa4xXB9wTXEJzGWsUmNUY6rGv5T67IesE7xS4KEzri1vBI43PnT2H18dgpSSNBY12HW97Y+1fctcbEls2+kYx6su6mxU9n9tiwRkWOIzeZyXEmlIl9a6j+vy/8KprjsVAOzRE6ZPqkDLi9w15rgu3R5sRuavb2hcXW+NBxpIlybOS4kLNmn05U77bl13oiZU1OHbfYEdYzWTTuqtinM942jPJGlJZVX55zRNvh4qdsIsiMpCs+aqp30XzEjqNoSu7xsSE6xT30lDSSon7yXOjYl5ppfGU3DWJ7TO6fv/RBU8rMGkZ+A6BDEbdL6IsfAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap - erstellt mithilfe des Plugins heatmap.js - die die Intensität darstellt."
        title="Eine Heatmap - erstellt mithilfe des Plugins heatmap.js - die die Intensität darstellt."
        src="/static/178f16ef3d0681a6fc89fef7828990df/5a190/952.png"
        srcset="/static/178f16ef3d0681a6fc89fef7828990df/772e8/952.png 200w,
/static/178f16ef3d0681a6fc89fef7828990df/e17e5/952.png 400w,
/static/178f16ef3d0681a6fc89fef7828990df/5a190/952.png 800w,
/static/178f16ef3d0681a6fc89fef7828990df/c1b63/952.png 1200w,
/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h4 id="dokumentation-und-methoden" style="position:relative;"><a href="#dokumentation-und-methoden" aria-label="dokumentation und methoden permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dokumentation und Methoden</h4>
<p>Das nachfolgende Beispiel demonstriert Ihnen, wie unterschiedlich Punkte mit unterschiedlicher Intensität aussehen können.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- htttps://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_960.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;heatmap.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heatmap.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">myData</span><span class="mtk1"> = {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">100</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">data:</span><span class="mtk1"> [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">          { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">51.0934</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">8.666819</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">99</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">          …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">          { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">7.652033</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">23</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        ],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">      };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">baseLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">cfg</span><span class="mtk1"> = {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">0.1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.5</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">scaleRadius:</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">useLocalExtrema:</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">latField:</span><span class="mtk1"> </span><span class="mtk8">&quot;lat&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">lngField:</span><span class="mtk1"> </span><span class="mtk8">&quot;lon&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">valueField:</span><span class="mtk1"> </span><span class="mtk8">&quot;value&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk8">&quot;.4&quot;</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk8">&quot;.8&quot;</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk8">&quot;.95&quot;</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">        },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">0.75</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">      };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heatmapLayer</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">HeatmapOverlay</span><span class="mtk1">(</span><span class="mtk12">cfg</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">map</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">Map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">center:</span><span class="mtk1"> </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">L</span><span class="mtk1">.</span><span class="mtk10">LatLng</span><span class="mtk1">(</span><span class="mtk7">50.0586</span><span class="mtk1">, </span><span class="mtk7">7.6568</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">zoom:</span><span class="mtk1"> </span><span class="mtk7">8</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">layers:</span><span class="mtk1"> [</span><span class="mtk12">baseLayer</span><span class="mtk1">, </span><span class="mtk12">heatmapLayer</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">      });</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">setData</span><span class="mtk1">(</span><span class="mtk12">myData</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">test1</span><span class="mtk1"> = { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">51</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">6</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">99</span><span class="mtk1"> };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">test2</span><span class="mtk1"> = { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">50.5</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">6</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">60</span><span class="mtk1"> };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">test3</span><span class="mtk1"> = { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">50</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">6</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">40</span><span class="mtk1"> };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">test4</span><span class="mtk1"> = { </span><span class="mtk12">lat:</span><span class="mtk1"> </span><span class="mtk7">49.5</span><span class="mtk1">, </span><span class="mtk12">lon:</span><span class="mtk1"> </span><span class="mtk7">6</span><span class="mtk1">, </span><span class="mtk12">value:</span><span class="mtk1"> </span><span class="mtk7">20</span><span class="mtk1"> };</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">addData</span><span class="mtk1">(</span><span class="mtk12">test1</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">addData</span><span class="mtk1">(</span><span class="mtk12">test2</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">addData</span><span class="mtk1">(</span><span class="mtk12">test3</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">heatmapLayer</span><span class="mtk1">.</span><span class="mtk11">addData</span><span class="mtk1">(</span><span class="mtk12">test4</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Im vorhergehen Codebeispiel haben wir 4 Punkte mit unterschiedlicher Intensität zur Karte hinzugefügt. Die Werte für die Intensität betragen 99, 60, 40 und 20 bei einem maximalen Wert von 100. In der nachfolgenden Abbildung sehen Sie die unterschiedliche Darstellung auf der Karte.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSklEQVQozx3SuW4cVxSE4X7/x7BTJ4oM2YEkCyTImd73ud1333qatkUmTn9DExdQwHdOFckqkl044sbpV968wMuZ099QS4u8dcR8Q4URfU4M+4VFNeS84NyIP2+P/P1vycepKJzocaIku5lDtpi55Pr0zHv1F/7zJ8TX37FxZJcVg36hFc+M8kJMI0pV7KZBmZrkRo6tpXBrg5tq/vUrpxlwc4ddW6y8cIoS0T1j/MhmG4SusHkgxBkXRpRuiHFFx57VlCjVUNz3gbxWnHbi7iZua8VLM6Cuf5CunzHNV6TpsL7H+gGtW6LqCPcVZQec63BpRpqWyVYU2a/kMBLM+LiJCi3KjgTZ4PcLOfSMr1/o6y+4MLDbGrc12DQiTMeuSnxayPcNrXuKeN8fHGU7tGtxdmUeF9J2xY/fsbKi+vQr5W+/sNvxUb40T+y6YbAXvOk4wozPM9YOFMchEaZm1TXKNjgzIEVHHF6wP7niGel6lO75x91wW4U1DdI1KN8T9pa3OGPC8BAWH2+SHCecn9C2x9yuiO6CnV7R8sq+fCeq5sE6VYddSmRo2UJDCjN3t5LCis8Lcm8p/jsFP/LE8SbIx0R2PftQkspv+Kc/MZdveD0wqQtS1cjuBaHrx5OOuJCPnRQEKU3I5ULxrjt+bD93NZFizxk7wl4+5mBkj7zVWN0yuyvBdYixwumJoHtM+Clb8G7FxRs2TBTvbuIj9Bx5IqcBG1qCaThdTw4zMUwPnvE9UtTM8ytSdjg9oNKASSPWT+S8svmZ/wFuww68rGbLPQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Punkte mit unterschiedlicher Intensität auf einer Heatmap."
        title="Punkte mit unterschiedlicher Intensität auf einer Heatmap."
        src="/static/350981d654ec2e1aef2cfe0ea08d8180/5a190/949.png"
        srcset="/static/350981d654ec2e1aef2cfe0ea08d8180/772e8/949.png 200w,
/static/350981d654ec2e1aef2cfe0ea08d8180/e17e5/949.png 400w,
/static/350981d654ec2e1aef2cfe0ea08d8180/5a190/949.png 800w,
/static/350981d654ec2e1aef2cfe0ea08d8180/c1b63/949.png 1200w,
/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="interaktive-heatmaps" style="position:relative;"><a href="#interaktive-heatmaps" aria-label="interaktive heatmaps permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interaktive Heatmaps</h3>
<p>Besonders spannend sind Karten, wenn wenn man sie bearbeiten und somit verändern kann. Auch eine Heatmap kann interaktiv programmiert werden. Sie können es beispielsweise Benutzern ermöglichen, Daten zur Heatmap Ebene hinzuzufügen. Wie das geht sehen Sie im nachfolgenden Beispiel.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_959.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, { </span><span class="mtk12">doubleClickZoom:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1"> }).</span><span class="mtk11">setView</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">15</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = []</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">max:</span><span class="mtk1"> </span><span class="mtk7">1.0</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&#39;blue&#39;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&#39;lime&#39;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&#39;red&#39;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">addpoint</span><span class="mtk1">(</span><span class="mtk12">e</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1">.</span><span class="mtk11">addLatLng</span><span class="mtk1">(</span><span class="mtk12">e</span><span class="mtk1">.</span><span class="mtk12">latlng</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">on</span><span class="mtk1">(</span><span class="mtk8">&#39;click&#39;</span><span class="mtk1">, </span><span class="mtk12">addpoint</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Was haben wir genau gemacht? Als erstes haben wir mit der Zeile <code class="language-text">&lt;script src="leaflet-heat.js">&lt;/script></code> das Plugin <code class="language-text">leaflet.heat</code> eingebunden. In diesem konkreten Beispiel ist es wichtig, dass ein Doppelklick keine Änderung der Zoom-Stufen auf der Karte auslöst. Deshalb stellen wir sicher, dass jemand nicht versehentlich zu schnell klickt und ungewollt die Zoom-Stufe ändert, obwohl er eigentlich zwei Punkte hinzufügen möchte. Dies verhindern wir, indem wir die Option <code class="language-text">doubleClickZoom</code> auf <code class="language-text">false</code> setzen. Zu Beginn sollen in unserem Beispiel noch keine Daten auf der Karte angezeigt werden. Deshalb haben wir zunächst einen leeren Datensatz mit <code class="language-text">var points = [];</code> erstellt. Diesen leeren Datensatz geben wir einem <code class="language-text">L.heatLayer</code> Objekt bei der Instanziierung als Parameter mit: <code class="language-text">var heat = L.heatLayer(points, {…}</code>. Nun fehlt noch die Methode, mit der ein Punkt hinzugefügt wird. Diese Methode ist mit der Anweisung <code class="language-text">function addpoint(e){ heat.addLatLng(e.latlng); }</code> schnell erstellt. Und <code class="language-text">mymap.on('click', addpoint);</code> bewirkt, dass diese auch ausgeführt wird, wenn jemand auf die Karte klickt.</p>
<p>Das Ergebnis sehen Sie im Browser, wenn Sie die HTML Datei dieses Beispiels öffnen. Zunächst wird die Karte ganz normal angezeigt. Sie sehen keinen Wärmepunkt. Wenn Sie mit der Maus eine Stelle auf der Karte klicken, wird an dieser Koordinate ein Wärmepunkt hinzugefügt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVQozy3Q21LaCgCFYR6/L+C0CMimtoogKtSAFSpWwaKQhEA4QxLIkSScu6//PTr7Ys2sqzXzrYhtWTx3czyoaUr9LD/VDMXeBaX/87OX4XlYot655entkmI/Tal7hjT7jbWcsg501qGJH5pMLJmIMmqRVVIIb1EuG0dkpBgXcpSsHOdc+kxeTmEMJ7jSkIfHr5yJRwjKGYe1z9+NzyY0WYVjtoHGPpwTqQ/vycoJbnppiuIJghyl2i7Qab/QkMso6h+swZRBtU6lcIzQOUGaVZhZLVy3x9qf4joTJhMFQ+8TKbXT5JpRcmKMfO8br1ICe/CHYDZivRjjT7vY0ya1izhnV5/40TvlQRVoTe9Z+3O2gYlj6kynGrpmEKn2rslJUQQlidA+5kWM4dkDtiuH3WbB0hrhuH38QYu75yQZJYHQ+Y7lDjisvA+yZ+vMDQ3X0t/JBfKdOLdKioycoNw8Ym5I7Dc+29Bmt3bZbZbsPINqLUW2HafY+c7KN9iuXPbvo8GClW8RenMiT71bsmKUSznBtRRDaH5GHD/w73qFv9RYLeesgwUHz6BRP+dUOuKue84+tAl9A9V4+6AfNgH+Uidy173gpp2gKCWR1Rx3ylcaowqmpWJaXTaBSeAtcGZ9uq9FquoVmtXFcWfUxxWyYpzHwQ+ehre83xcp9y8pil+4lxK45guv+hXq7IW3fhHXG+PZcwxNYzTqoMk19s4CzR5wKaZIt465klIfPSPGyIknRBqDHI1+lkLnlJFeQVrcICjntIYVdFPBnBtomsFcn7BUJTbOHNMbMlm0aE7K5Nv/kBG/cC3HuZGTRFS7zH7ZZmpXcKwatWmWX90CS09nv7IJPBPdGCPOqgSDNjvPYrd2OIQOfzcBljdE0n7zOMyTk5L8B9qD7tlwFU6dAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde."
        title="Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde."
        src="/static/8e1b278f9d950e3422dad945eb9cb9bc/5a190/951.png"
        srcset="/static/8e1b278f9d950e3422dad945eb9cb9bc/772e8/951.png 200w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/e17e5/951.png 400w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/5a190/951.png 800w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/c1b63/951.png 1200w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="animierte-heatmaps" style="position:relative;"><a href="#animierte-heatmaps" aria-label="animierte heatmaps permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Animierte Heatmaps</h3>
<p>Das ist fast wie Kino – im nächsten Beispiel verändert sich die Karte automatisch.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_958.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;leaflet-heat.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk1">, { </span><span class="mtk12">doubleClickZoom:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1"> }).</span><span class="mtk11">setView</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">10</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      );</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&quot;http://{s}.tile.osm.org/{z}/{x}/{y}.png&quot;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points</span><span class="mtk1"> = [];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points1</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.1555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points2</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.0371</span><span class="mtk1">, </span><span class="mtk7">7.618306</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">points3</span><span class="mtk1"> = [</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088</span><span class="mtk1">, </span><span class="mtk7">7.65159</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">        …</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">50.088041</span><span class="mtk1">, </span><span class="mtk7">7.652033</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">      ];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">points</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">x</span><span class="mtk1"> = </span><span class="mtk7">1</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1"> = </span><span class="mtk8">&quot;&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">interval</span><span class="mtk1"> = </span><span class="mtk11">setInterval</span><span class="mtk1">(</span><span class="mtk4">function</span><span class="mtk1"> () {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">run</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">      }, </span><span class="mtk7">2000</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">run</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">mymap</span><span class="mtk1">.</span><span class="mtk11">removeLayer</span><span class="mtk1">(</span><span class="mtk12">heat</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">name</span><span class="mtk1"> = </span><span class="mtk8">&quot;points&quot;</span><span class="mtk1"> + </span><span class="mtk12">x</span><span class="mtk1">.</span><span class="mtk11">toString</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk12">heat</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">heatLayer</span><span class="mtk1">(</span><span class="mtk12">window</span><span class="mtk1">[</span><span class="mtk12">name</span><span class="mtk1">], {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">blur:</span><span class="mtk1"> </span><span class="mtk7">15</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">maxZoom:</span><span class="mtk1"> </span><span class="mtk7">10</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">radius:</span><span class="mtk1"> </span><span class="mtk7">25</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">gradient:</span><span class="mtk1"> { </span><span class="mtk7">0.4</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;blue&quot;</span><span class="mtk1">, </span><span class="mtk7">0.65</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;lime&quot;</span><span class="mtk1">, </span><span class="mtk7">1</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;red&quot;</span><span class="mtk1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">        }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">x</span><span class="mtk1"> == </span><span class="mtk7">3</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">x</span><span class="mtk1"> = </span><span class="mtk7">1</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">        } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">x</span><span class="mtk1">++;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Wie entsteht die Animation im Beispiel genau? Als erstes integrieren wir wieder die notwendigen Skripte. Danach erstellen wir die vier Daten-Arrays und nennen diese <code class="language-text">points</code>, <code class="language-text">points1</code>, <code class="language-text">points2</code> und <code class="language-text">points3</code>. Jedes Array enthält unterschiedliche Daten. Mit dem ersten leeren Array erstellen wir die Schicht mit den Daten für die Heatmap - also das Objekt des Typs <code class="language-text">heatLayer</code>. Die Hilfsvariable <code class="language-text">x</code> in Verbindung mit der Methode <code class="language-text">setIntervall()</code> ermöglicht es uns dann, die Heatmap Ebenen fortlaufend mit anderen Daten zu belegen und somit andere Daten anzuzeigen.</p>
<blockquote>
<p>In diesem Beispiel habe ich zwei JavaScript Elemente verwendet, die vielleicht erklärungsbedürftig sind. Als erstes habe ich den Variablennamen mit <code class="language-text">window[name]</code> zusammengesetzt. Was bedeutet dies genau? Da es sich um JavaScript Objekte handelt, wird jede Variable in einem globalen JavaScript Object gespeichert. Wenn Sie also die Variable <code class="language-text">points1</code> im globalen Bereich initialisieren – also nicht in einem Funktionskontext –, dann schreiben Sie diese Variablen implizit in ein globales Objekt. In einem Browser ist dies das <a href="https://developer.mozilla.org/de/docs/Web/API/Window">Objekt <code class="language-text">window</code></a>[^developer.mozilla.org/de/docs/web/api/window]. Der Wert dieser Variablen kann mit der Punkt Notation oder der Klammer Notation abgerufen werden. Also entweder mit var <code class="language-text">name = window.points1;</code> oder mit <code class="language-text">var name = window['points1'];</code>. Außerdem haben wir die <a href="https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval">Methode <code class="language-text">setInterval()</code></a>[^developer.mozilla.org/de/docs/web/api/windowtimers/setinterval] eingesetzt. Mit dieser Methode können Sie eine Funktion wiederholt aufrufen. Hierbei können Sie ein Intervall zwischen den einzelnen Aufrufen definieren.</p>
</blockquote>
<p>So wie im nachfolgenden Bild sieht die Karte nur alle 6 Sekunden aus. In der Zwischenzeit wechselt die Ansicht zweimal.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQozyWSO87kRBhFvQwSJEJCJAhYAXtgCQRIhMREbGBWABEiICAAggExw8zf7fazbJcf5SrXw2V39z/ZSIQHucmP7nf13ZPEu8VsEr03jNcafxtYbY8LAz5IlCzRSqCWmt6UKJ1jjGCxHdFJ4q5YtoElTpjYkbitYfQlvc8YQsa4VignmFVFMBIja/r8hGxThnChiznTmjMOZ1TzhJ4qZi+YomCwBcnRSG8Ndq3wsUFvNcqWRF1zdz37XDLJN7Tib/olpVkuKFei1oq4StZlwBzttwIVcpLtNmJchd2OsA4daqKvePaCd6EjuIzZXijXhvEm8atgiR3GFmjfYPeOeS7QIUeGjMRfR9R8wSyC+YBMRvSC697iXU4fSl53r/jr+294+v0H4t3gfMHiMpStMLtkmjNmXyDdhWS5dsyuwfmOEGvCWqB8xmjPjPeBlz+9QHz+Ef6DBPHFp0z3ARsq5nhwF5TPGdyZZjojTUpibiPa1IQ4PpYewnEpfYxk30fSF9/xb5JAkjB+8iHn5s//meOov9AuT/TqxKJr5JyRmGuPXjsmU9GvGcK8pbUpehWEu+Jy+oP826+YPvuYX7/+kle//Yh8FrRbSuNSqu6MOP3DIkr8VJMcrhlfM6uU2ad0y/nRzu0Se4ReDcu7lafiNb+8/Jk61pTTiaJLETJFmxJZnOjyE2P5hmS5jSiVonXG4HJafWFeJbPusa7BuxYTauSeM6w1aqkYhww71OzPE1ts2ReBczXBNCTzocpcMK7lQ0691jxkDwK7jditRcaCMdQcrI0t05jhXMP1rlidYN+Pl+W40PMfKvH/lAP21TsAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen point1."
        title="Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen point1."
        src="/static/e718f8cd2898673e7ae0b8b423fbb914/5a190/950.png"
        srcset="/static/e718f8cd2898673e7ae0b8b423fbb914/772e8/950.png 200w,
/static/e718f8cd2898673e7ae0b8b423fbb914/e17e5/950.png 400w,
/static/e718f8cd2898673e7ae0b8b423fbb914/5a190/950.png 800w,
/static/e718f8cd2898673e7ae0b8b423fbb914/c1b63/950.png 1200w,
/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="choroplethenkarte" style="position:relative;"><a href="#choroplethenkarte" aria-label="choroplethenkarte permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Choroplethenkarte</h2>
<p>Im vorherigen Kapitel haben wir eine Heatmap zum visualisieren von Daten verwendet. Wir haben zunächst mithilfe des Plugin <code class="language-text">leaflet.heat</code> Bereiche, in denen Punkte dichter vorkommen, farblich hervorgehoben. Dann haben wir zusätzlich das Plugin <code class="language-text">heat.js</code> geladen und Bereiche, in denen die Punkte eine hohe Intensität haben, farblich besonders markiert.</p>
<p>Eine <a href="https://de.wikipedia.org/w/index.php?title=Choroplethenkarte">Choroplethenkarte</a>[^de.wikipedia.org/w/index.php?title=choroplethenkarte]
macht erst einmal nichts anderes. Sie visualisiert die Dichte oder die Intensität bestimmter Objekte. Sie tut dies aber auf eine andere Art und Weise als die Heatmap.</p>
<h3 id="was-genau-unterscheidet-eine-choroplethenkarte-von-einer-heatmap" style="position:relative;"><a href="#was-genau-unterscheidet-eine-choroplethenkarte-von-einer-heatmap" aria-label="was genau unterscheidet eine choroplethenkarte von einer heatmap permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Was genau unterscheidet eine Choroplethenkarte von einer Heatmap?</h3>
<p>Ich hatte Ihnen erklärt, das eine Heatmap ein Raster über die Karte legt. Je nachdem wie die zu visualisierenden Punkte in diesem Raster verteilt sind, werden Farben sichtbar. Eine Choroplethenkarte verwendet kein separates Raster. Sie verwendet ein Polygon. Ein Polygon kann zum Beispiel ein Land oder das Einzugsgebiet eines Unternehmens sein. Im Kapitel <em>Die Karte mit Daten bestücken</em> hatte ich die Besonderheit eines Polygons beschrieben. Dieses Vieleck hat eine Grenzlinie die einen Innenbereich und einen Außenbereich voneinander abgrenzt. Eine populäre Choroplethenkarte, die Sie sicherlich schon einmal gesehen haben, ist die Darstellung der Bevölkerungsdichte eines Gebietes auf der Erde. Ich habe hier ein Beispiel erstellt, welches genau dies tut. Ich zeige Ihnen, wie Sie eine Karte, die die Verteilung der Bevölkerung in Rheinland-Pfalz grafisch darstellt, selbst erstellen können.</p>
<h3 id="choroplethenkarten-in-leaflet" style="position:relative;"><a href="#choroplethenkarten-in-leaflet" aria-label="choroplethenkarten in leaflet permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Choroplethenkarten in Leaflet</h3>
<p>Schön ist, dass wir mit Leaflet keine zusätzlichen Plugins für das Erstellen einer Choroplethenkarte benötigen. Leaflet ist wie dafür gemacht, GeoJSON Daten als Choroplethenkarte anzuzeigen. Beginnen tun wir ganz vorne mit dem Klären der Frage: Wo bekommen Sie die Daten her?</p>
<h4 id="open-data" style="position:relative;"><a href="#open-data" aria-label="open data permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Open Data</h4>
<p>Wenn Sie nicht selbst über Daten verfügen, können sie auf jede Menge offener Data zugreifen.</p>
<blockquote>
<p><a href="https://de.wikipedia.org/w/index.php?title=Open_Data">Open Data</a>[^de.wikipedia.org/w/index.php?title=open_data], also offene Daten, sind Daten, die von jedem ohne jegliche Einschränkungen verwendet und weitergegeben werden dürfen. Warum gibt es Open Data? Viele Menschen vertreten die Meinung, dass frei nutzbare Daten zu mehr Transparenz und Zusammenarbeit führen. Die Bereitstellung offener Daten durch öffentliche Einrichtungen wird als eine Voraussetzung für <a href="https://de.wikipedia.org/w/index.php?title=Open_Government">Open Government</a>[^de.wikipedia.org/w/index.php?title=open_government], also der Öffnung von Regierung und Verwaltung gegenüber der Bevölkerung und der Wirtschaft, angesehen. Die Befürworter von Open Data teilen somit viele Argumente mit den Befürwortern von <a href="https://de.wikipedia.org/w/index.php?title=Open_Source">Open-Source</a>[^de.wikipedia.org/w/index.php?title=open_source]. Open Data und Leaflet als Open Source Software passen gut zusammen.</p>
</blockquote>
<p><a href="http://opendatalab.de/projects/geojson-utilities/">GeoJSON Utilities</a>[^opendatalab.de/projects/geojson-utilities] ist ein Projekt, welches den Export von Gemeindeflächen, Landkreisflächen und Bundeslandflächen in Deutschland im GeoJSON Format ermöglicht. Jede exportierte Fläche enthält zusätzliche Eigenschaften wie die Einwohnerzahl und die Größe der Fläche in Quadratmetern. Ich habe diese Daten für Rheinland-Pfalz in eine Datei exportiert. Im nächsten Beispiel zeige ich Ihnen, wie Sie mithilfe dieser Datei eine Chorophletenkarte erstellen können. <a href="http://opendatalab.de/projects/geojson-utilities/">GeoJSON Utilities</a> ist übrigens auch eine mit Leaflet erstellte Anwendung.</p>
<p>Die Datei, die ich heruntergeladen haben, ist relativ groß. Deshalb habe ich die Daten in einer separaten Datei abgelegt. Ich schlage Ihnen vor, dies auch zu tun. So bleibt Ihre HTML-Datei übersichtlich und Sie können sich voll und ganz auf das Erstellen der Karte konzentrieren. Wenn Sie die Daten in einer JavaSript Datei ablegen, können Sie diese gleichzeitig als Variabel deklarieren. Wie das geht, zeigt ihnen das nachfolgende Beispiel. Zunächst sehen Sie die Datei, die die GeoJSON Daten enthält. Dieser Datei habe ich den Namen <code class="language-text">gemeinden.js</code> gegeben. Die GeoJSON Daten werden in der Datei <code class="language-text">gemeinden.js</code> in die Variable <code class="language-text">ct</code> geladen.</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*</span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">ct</span><span class="mtk1"> =</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;type&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;FeatureCollection&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;crs&quot;</span><span class="mtk12">:</span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;type&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;name&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;properties&quot;</span><span class="mtk12">:</span><span class="mtk1">{</span><span class="mtk8">&quot;name&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;</span><span class="mtk1">}},</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;source&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;© GeoBasis-DE / BKG 2013 (Daten verändert)&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*</span><span class="mtk8">&quot;features&quot;</span><span class="mtk12">:</span><span class="mtk1">[</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*{</span><span class="mtk8">&quot;type&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;Feature&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;properties&quot;</span><span class="mtk12">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;ADE&quot;</span><span class="mtk12">:</span><span class="mtk7">6</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;GF&quot;</span><span class="mtk12">:</span><span class="mtk7">4</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;BSG&quot;</span><span class="mtk12">:</span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;RS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;073345001001&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;AGS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;07334001&quot;</span><span class="mtk1">,</span><span class="mtk8">&quot;SDV_RS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;073345001001&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;GEN&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;Bellheim&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;BEZ&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;Gemeinde&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;IBZ&quot;</span><span class="mtk12">:</span><span class="mtk7">64</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;BEM&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;gemeinschaftsangehörig&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;NBD&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;ja&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;SN_L&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;07&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;SN_R&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;3&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> …,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*</span><span class="mtk8">&quot;destatis&quot;</span><span class="mtk12">:</span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;RS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;073345001001&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">* </span><span class="mtk8">&quot;area&quot;</span><span class="mtk12">:</span><span class="mtk7">20.44</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;area_date&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;31.12.2014&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">* </span><span class="mtk8">&quot;population&quot;</span><span class="mtk12">:</span><span class="mtk7">8519</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;population_m&quot;</span><span class="mtk12">:</span><span class="mtk7">4198</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;population_w&quot;</span><span class="mtk12">:</span><span class="mtk7">4321</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;population_density&quot;</span><span class="mtk12">:</span><span class="mtk7">417</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;zip&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;76756&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk8">&quot;center_lon&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;8,284042&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  ..,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*</span><span class="mtk8">&quot;geometry&quot;</span><span class="mtk12">:</span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">* </span><span class="mtk8">&quot;type&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;Polygon&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">* </span><span class="mtk8">&quot;coordinates&quot;</span><span class="mtk12">:</span><span class="mtk1">[[[</span><span class="mtk7">8.276302148832034</span><span class="mtk1">,</span><span class="mtk7">49.21145214735215</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">   [</span><span class="mtk7">8.295112386392997</span><span class="mtk1">,</span><span class="mtk7">49.21205183793759</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  …</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> ]]}},</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">*{</span><span class="mtk8">&quot;type&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;Feature&quot;</span><span class="mtk1">,*</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;properties&quot;</span><span class="mtk12">:</span><span class="mtk1">{</span><span class="mtk8">&quot;ADE&quot;</span><span class="mtk12">:</span><span class="mtk7">6</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;GF&quot;</span><span class="mtk12">:</span><span class="mtk7">4</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;BSG&quot;</span><span class="mtk12">:</span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;RS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;073405003205&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;AGS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;07340205&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk8">&quot;SDV_RS&quot;</span><span class="mtk12">:</span><span class="mtk8">&quot;073405003205&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1"> …</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">&lt;!--gemeinden.js&gt;</span></span></span></code></pre>
<p>In den Properties der einzelnen GeoJSON Features sind unter anderem der Regionalschlüssel (<code class="language-text">RS</code>), der geographische Name (<code class="language-text">GEN</code>), die amtliche Bezeichnung der Verwaltungseinheit (<code class="language-text">BEZ</code>) und die Destatis-Daten – insbesondere die Werte für die Größe der Fläche in Quadratmetern (<code class="language-text">area</code>) und die Einwohnerzahl (<code class="language-text">population</code>) – enthalten. Das vorherige Programmcodebeispiel zeigt nur einen Ausschnitt der Datei <code class="language-text">gemeinden.js</code>. Beachten Sie, dass es sich nicht um reines GeoJSON handelt. Ganz genau handelt es sich um JavaScript. Dieser JavaScript Code deklariert eine Variable, nämlich die Variable <code class="language-text">ct</code>. Einbinden können Sie die JavaScript Datei genau wie jedes andere Skript in Ihre HTML-Datei mit der Zeile <code class="language-text">&lt;script src="gemeinden.js">&lt;/script></code> Wenn die Datei <code class="language-text">gemeinden.js</code> richtig eingebunden ist, können Sie auf die GeoJSON Daten in dieser Datei ab nun über die Variable <code class="language-text">ct</code> zugreifen.</p>
<h4 id="farben" style="position:relative;"><a href="#farben" aria-label="farben permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Farben</h4>
<p>Der nächste Schritt zum Fertigstellen der Choroplethenkarte ist die Farbauswahl. Beim Erstellen der Heatmaps im vorhergehenden Kapitel haben wir Farben übergeben und das jeweilige Plugin hat diese entsprechend zugewiesen. Beim Erstellen der Choroplethenkarte müssen wir uns selbst um diese Aufgabe kümmern. Deshalb definieren wir eine Funktion, die je nach Wert eine bestimmte Farbe errechnet und zurück gibt. Idealerweise kennen Sie den höchsten Wert und den niedrigsten Wert in der Datenmenge. Dann können Sie, je nach Verteilung der Werte, bestimmten Wertbereichen eine Farbe zuordnen.</p>
<p>Der nachfolgende Programmcodeausschnitt nimmt den Parameter <code class="language-text">x</code> entgegen und berechnet anhand des Wertes dieses Parameters eine Farbe. Die Funktion <code class="language-text">color(x)</code> gibt bei einem höhere <code class="language-text">x</code> Werte eine dunklere Farben aus. Bei einem niedrigeren <code class="language-text">x</code> Wert gibt die Funktion eine hellere Farben zurück.</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">x</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">1000</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#990000&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">750</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#d7301f&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">500</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#ef6548&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">250</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#fc8d59&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">200</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#fdbb84&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">100</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#fdd49e&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">0</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    ? </span><span class="mtk8">&#39;#fee8c8&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    : </span><span class="mtk8">&#39;#fff7ec&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<h4 id="stile" style="position:relative;"><a href="#stile" aria-label="stile permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stile</h4>
<p>Nun benötigen wir noch eine Funktion, die das Zuweisen des passenden CSS Stylesheets zu den Daten übernimmt. Nur so können wir jedes GeoJSON Feature individuell ansehen und ihm den passenden Stil zuweisen. Im nachfolgenden Programmcodeausschnitt sehen Sie eine Funktion, die als Parameter ein GeoJSON Feature erwartet. Je nach Eigenschaft im Feature gibt die Funktion die passenden Optionen zurück. Sie erkennen sicherlich sofort, dass die wesentliche Option die mit dem Namen <code class="language-text">fillColor</code> ist. Hier ist genau die Stelle, an der wir die eben erstellte Funktion <code class="language-text">color()</code> aufrufen und dieser als Parameter den Wert <code class="language-text">feature.properties.destatis.population</code>, also die Bevölkerungsanzahl, mitgeben.</p>
<pre class="grvsc-container default-dark" data-language="js" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">myStyle</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">fillColor:</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">destatis</span><span class="mtk1">.</span><span class="mtk12">population</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">weight:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;white&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk12">fillOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.85</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<h4 id="das-vollständige-beispiel" style="position:relative;"><a href="#das-vollst%C3%A4ndige-beispiel" aria-label="das vollständige beispiel permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Das vollständige Beispiel</h4>
<p>Nachfolgenden habe ich die gerade besprochenen Codeschnipsel in einem vollständigen Beispiel zusammengesetzt.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_957.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;gemeinden.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, { </span><span class="mtk12">doubleClickZoom:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1"> }).</span><span class="mtk11">setView</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">49.9555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">8</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">x</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">1000</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#990000&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">750</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#d7301f&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">500</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#ef6548&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">250</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fc8d59&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">200</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdbb84&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">100</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdd49e&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">0</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fee8c8&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk8">&#39;#fff7ec&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">myStyle</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillColor:</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">destatis</span><span class="mtk1">.</span><span class="mtk12">population</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">weight:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;white&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.85</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">geoJsonLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">geoJson</span><span class="mtk1">(</span><span class="mtk12">ct</span><span class="mtk1">, { </span><span class="mtk12">style:</span><span class="mtk1"> </span><span class="mtk12">myStyle</span><span class="mtk1"> }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>In Ihrem Browser sollte die Karte nun so wie in der nächsten Abbildung aussehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVQozx2SS4scVQCF+x9KNi5ciJtsslEXIoasFHQYCToGk0BEDOhCgmJE1ExUMGgm09OP6qq6det9H3Uf1TUzIQZdf9K9PxzOd/hmk9OMtmAbGiaVc+FKtqbiua+JbUZXrAljjQ0lTUipfIIeC4YgcK7ARMkQJNNY8yK2zEy1oU1PmIaCrcmwcsUgVowqJVZL8uQpdqoofn7A5uyYZkzRPsOFHNUv6XWCMmt6mzCUS2axy/BixaWRXNgcI9eYNqXszphGgfztIfn926hbBzS/fIvyObbfMPiCfsj2K22USLVEqgWzbS+I7YqgU6Ir6fUK5VJUeYpb/Iq+8xHHV14hufEObv47ahT4LsFvJcoKVHuG8Tt8Sa03zGJscbs/TI7SG9QOZxBcPPoGd/sD3P1PEe+/S3vvJkM/p2zm1JuTfVaYJZ1e7/PhvMHojJmLDaVaUu5/WOMHiTMbnp/8hPr8Q9L33uT8wR3Ku4c8++QA8fhHyuIZfb9G2gW6W3NhBTbkGJMyu5x67JDRqIROJ+h2gVEp3d/HPL12FXlwHXvvEH33kOSta8jvvyZcVDR2iXEC32eMu8JYoHcL/z3vuIyScVsxuJyhX9OLOf3pH9SPvmMoT+m+PCK58TZ/XX2D+dFN6iCohxWjF4y+IoYGP5b01YLZS1/w0uxck8RtwRQyQrvADRJjCmq5Iv/iFk9evcKT11/j9OgQF0usSnBDQRhbvK3wOyf3yDrnn3rOGATepXiX4PolQW0IKsXpjHbzJ/LhV2SffUz2+AeGKHE6p9vZ4HKs3cldo1zB7L+x5EXIcVHgQ4rxKYNNmIJgO5Zone6ljVNNU62Q/RlKJzRiQWc3mJijh4xtKOi85H9+W/vt0GorQgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz."
        title="Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz."
        src="/static/f0ce0368e2fc640645ca0970c55394fe/5a190/947.png"
        srcset="/static/f0ce0368e2fc640645ca0970c55394fe/772e8/947.png 200w,
/static/f0ce0368e2fc640645ca0970c55394fe/e17e5/947.png 400w,
/static/f0ce0368e2fc640645ca0970c55394fe/5a190/947.png 800w,
/static/f0ce0368e2fc640645ca0970c55394fe/c1b63/947.png 1200w,
/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>In diesem Beispiel haben wir einen festen Wert ganz unabhängig von anderen Werten verwendet. Wir haben die Bevölkerungszahl unabhängig von der Flächengröße der Gemeinde als Wert für die Farbe verwendet. In dieser Karte können wir zwar ablesen, wo die Gemeinden mit hoher Bevölkerungszahl sich befinden und wo die Gemeinden mit niedriger Bevölkerungsanzahl sind. Wie dicht die Besiedelung ist, sagt diese Karte aber nicht aus. Hierzu müssten wir die Bevölkerungszahl noch relativ zur Fläche der Gemeinde setzten. Dies tun wir nun im nächsten Beispiel.</p>
<h3 id="normalisierte-choroplethenkarten" style="position:relative;"><a href="#normalisierte-choroplethenkarten" aria-label="normalisierte choroplethenkarten permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalisierte Choroplethenkarten</h3>
<p>Es kommt sicherlich sehr oft vor, dass Sie mit einer Choroplethenkarten nicht nur einen absoluten Wert darstellen möchten. Oft möchten Sie die Daten zu anderen Daten ins Verhältnis stellen. Zum Beispiel könnten Sie den Anteil von Menschen, die älter als 60 Jahre sind, darstellen wollen. Da Geodaten einen Bezug zu einer Fläche haben, wird es in der Regel so sein, dass Sie die Daten in Relation zu dieser Fläche visualisieren möchten – diese also normalisieren möchten.</p>
<p>In unser GeoJSON Datei ist die Fläche der Gemeinde in der Eigenschaft <code class="language-text">area</code> gespeichert. Wir können es uns also einfach machen und auf die Zahl die für die Fläche einer Gemeinde gespeichert ist, zugreifen. Um die Choroplethenkarte, die wir im vorhergehenden Kapitel erstellt haben zu normalisieren, ist somit nur ein Schritt – nämlich das Teilen der Bevölkerungsanzahl durch die Fläche des betreffenden Bereichs – erforderlich. Sehen wir uns das ganze Beispiel zusammenhängend an.</p>
<pre class="grvsc-container default-dark" data-language="html" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/3/index_956.html--&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;!</span><span class="mtk4">DOCTYPE</span><span class="mtk1"> </span><span class="mtk12">html</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">html</span><span class="mtk1"> </span><span class="mtk12">lang</span><span class="mtk1">=</span><span class="mtk8">&quot;de&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">meta</span><span class="mtk1"> </span><span class="mtk12">charset</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">title</span><span class="mtk17">&gt;</span><span class="mtk1">Eine OSM Karte mit Leaflet</span><span class="mtk17">&lt;/</span><span class="mtk4">title</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">link</span><span class="mtk1"> </span><span class="mtk12">rel</span><span class="mtk1">=</span><span class="mtk8">&quot;stylesheet&quot;</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.css&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;../leaflet/leaflet.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk1"> </span><span class="mtk12">src</span><span class="mtk1">=</span><span class="mtk8">&quot;gemeinden.js&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">head</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">total</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Population</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">button</span><span class="mtk1"> </span><span class="mtk12">onclick</span><span class="mtk1">=</span><span class="mtk8">&quot;</span><span class="mtk11">density</span><span class="mtk8">()&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Population/Fläche</span><span class="mtk17">&lt;/</span><span class="mtk4">button</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk8">&quot;height: 700px&quot;</span><span class="mtk1"> </span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;mapid&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">mymap</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">(</span><span class="mtk8">&#39;mapid&#39;</span><span class="mtk1">, { </span><span class="mtk12">doubleClickZoom:</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1"> }).</span><span class="mtk11">setView</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">        [</span><span class="mtk7">49.9555</span><span class="mtk1">, </span><span class="mtk7">7.591838</span><span class="mtk1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">8</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">tileLayer</span><span class="mtk1">(</span><span class="mtk8">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class="mtk1">).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">x</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">1000</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#990000&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">750</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#d7301f&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">500</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#ef6548&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">250</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fc8d59&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">200</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdbb84&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">100</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdd49e&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">0</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fee8c8&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk8">&#39;#fff7ec&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">densityColor</span><span class="mtk1">(</span><span class="mtk12">x</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">500</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#990000&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">400</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#d7301f&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">300</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#ef6548&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">200</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fc8d59&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">100</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdbb84&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">50</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fdd49e&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk12">x</span><span class="mtk1"> &gt; </span><span class="mtk7">0</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">          ? </span><span class="mtk8">&#39;#fee8c8&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">          : </span><span class="mtk8">&#39;#fff7ec&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">myStyle</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillColor:</span><span class="mtk1"> </span><span class="mtk11">color</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">destatis</span><span class="mtk1">.</span><span class="mtk12">population</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">weight:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;white&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.85</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">myDensityStyle</span><span class="mtk1">(</span><span class="mtk12">feature</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillColor:</span><span class="mtk1"> </span><span class="mtk11">densityColor</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">destatis</span><span class="mtk1">.</span><span class="mtk12">population</span><span class="mtk1"> /</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk1">              </span><span class="mtk12">feature</span><span class="mtk1">.</span><span class="mtk12">properties</span><span class="mtk1">.</span><span class="mtk12">destatis</span><span class="mtk1">.</span><span class="mtk12">area</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk1">          ),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">weight:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">opacity:</span><span class="mtk1"> </span><span class="mtk7">1</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">color:</span><span class="mtk1"> </span><span class="mtk8">&#39;white&#39;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk12">fillOpacity:</span><span class="mtk1"> </span><span class="mtk7">0.85</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">total</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">geoJsonLayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">geoJson</span><span class="mtk1">(</span><span class="mtk12">ct</span><span class="mtk1">, { </span><span class="mtk12">style:</span><span class="mtk1"> </span><span class="mtk12">myStyle</span><span class="mtk1"> }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">removeLayer</span><span class="mtk1">(</span><span class="mtk12">densitylayer</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">density</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">var</span><span class="mtk1"> </span><span class="mtk12">densitylayer</span><span class="mtk1"> = </span><span class="mtk12">L</span><span class="mtk1">.</span><span class="mtk11">geoJson</span><span class="mtk1">(</span><span class="mtk12">ct</span><span class="mtk1">, { </span><span class="mtk12">style:</span><span class="mtk1"> </span><span class="mtk12">myDensityStyle</span><span class="mtk1"> }).</span><span class="mtk11">addTo</span><span class="mtk1">(</span><span class="mtk12">mymap</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">removeLayer</span><span class="mtk1">(</span><span class="mtk12">geoJsonLayer</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">script</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">body</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">html</span><span class="mtk17">&gt;</span></span></span></code></pre>
<p>Das vorhergehende Codebeispiel baut auf dem davor erstellten Codebeispiel auf. Neben der <code class="language-text">style</code> Funktion fügen wir eine weitere Funktion, nämlich die Funktion <code class="language-text">densityStyle()</code>, ein. Die Funktion <code class="language-text">densityStyle()</code> gibt, wie der Name schon sagt, die Farbe für die <em>relative Angabe</em> zurück. Damit wir die Choroplethenkarten Ebenen der beiden vorhergehenden Beispiele vergleichen können, habe ich eine Schaltfläche in das HTML Dokument integriert. Je nachdem welche Schaltfläche angeklickt wird, wird die passende Formel ausgeführt. Einmal die, die absoluten Werte anzeigt, ein anderes mal die, die die relativen Werte ausgibt.</p>
<p>Nun werden Sie feststellen, dass viele große Bereiche in ländlichen Gegenden, nicht mehr dunkel eingefärbt sind. Im ersten Beispiel, in dem wir mit den absoluten Zahlen gearbeitet haben, waren diese Bereiche teilweise dunkel. Die Bevölkerungszahl ist aber in Relation zur Fläche dort gar nicht hoch.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRklEQVQozx2Ry27bRgBF+dn9iAJZdNMCBZIssmzhdGUkApKqTWzHFCmRHD4kznBmOMMhJVm2oyCBnQAnkBd3e899RKMzBLtmcC1eCu62htut435nOfiO0EtuDo5xb3F7Sb9vCQfNdt+x2xmmg2V7Y7m/dXw5DET9pkDmF0yuZDI5toqxRcxOZ7jymtX1HOkKbP2RvP6Pqo9RfoV1GUrGbLoE2S0wZomvE6IgC/piwY0u2dsCW6WYTca6/cTWZch0zraa8yjOCeId0mVYk9N7gbIZ3leYUFLpBY2KiSYlGJsFo86ZXI1SCV2/QqoFIWR8zc7Rv/7C7vWf3MgrVJ/j5RI/1ei+RKsFxguMKahNSjQOLd4LvC0wOqNzpzqCYyh4dFf8cFfcv3/F3cVfhDGn6WJUeY22GZVJkV1C70rCrkWrjMiFlsYkNCZF2RTnSnwveJwyvuv/eVjP+LFN+bx5T332knJ+Trn6gFQpwl5jVMquF9hBPAWK9lv1RGu6lFYvMSrBdEvG9SfuZi94aGc8bP7lW/GG4z+/M1yd0weBtKdpCpzMmKzADAJtcqIve8VuKBlChT2dIhPa7BJXXrJv5kz9kq/iLcf4jPvZC/KXf7AZCtZ9QvCC0dUEv8aPNbJZEB1Dw9FlhKlm3FZMQ8GwibG6oFM5TRGzvzjjdvac6dUz6ue/0bkSa1YMriKMLUPfMPjTQSnRwQju6kuCEzi3YvQrfJcw6PxJuknw1QcO5iOfL/7GxG/phxKnc6RdoU/mtsL69RPoJ2flx9y0ihuxAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz."
        title="Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz."
        src="/static/925839c06e4b9cc52211f0b8a3f22037/5a190/948.png"
        srcset="/static/925839c06e4b9cc52211f0b8a3f22037/772e8/948.png 200w,
/static/925839c06e4b9cc52211f0b8a3f22037/e17e5/948.png 400w,
/static/925839c06e4b9cc52211f0b8a3f22037/5a190/948.png 800w,
/static/925839c06e4b9cc52211f0b8a3f22037/c1b63/948.png 1200w,
/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png 1290w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="in-this-chapter-we-have-" style="position:relative;"><a href="#in-this-chapter-we-have-" aria-label="in this chapter we have  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In this chapter we have ...</h2>
<p>In this chapter you have used everything you learned in the first parts for visualisation. You have learned about plugins that support you in creating heatmaps. You are now able to create a heatmap that can be interacted with. You can also create an animated heatmap. You know the special features of choropleth maps and when absolute and relative values are useful. You are now able to implement the display of absolute and relative values yourself.</p>
<p>In the next chapter, we will once again focus on individual design. This chapter is about user-defined markers.
<img src="https://vg07.met.vgwort.de/na/0b37c436fee94a2593c701bcf5175100" width="1" height="1" alt=""></p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .default-dark .mtk3 { color: #6A9955; }
  .default-dark .mtk17 { color: #808080; }
  .default-dark .mtk4 { color: #569CD6; }
  .default-dark .mtk1 { color: #D4D4D4; }
  .default-dark .mtk12 { color: #9CDCFE; }
  .default-dark .mtk8 { color: #CE9178; }
  .default-dark .mtk11 { color: #DCDCAA; }
  .default-dark .mtk7 { color: #B5CEA8; }
  .default-dark .mtk15 { color: #C586C0; }
  .default-dark .mtk10 { color: #4EC9B0; }
  .default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><section id="comments" class="comments container"><h3>Comments</h3><div></div></section><section id="webmentions" class="comments webmentions__list container"><h3>Webmentions</h3><br/></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/en/heatmaps-und-choroplethenkarten-leaflet/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-87f5ae838a3e11ab908d.js"],"app":["/app-24df0ae8e19938884045.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5f1261b30b7ee352090a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7be8df31721789d53c28.js"],"component---src-pages-books-js":["/component---src-pages-books-js-ffee86f2ac01d1e02a72.js"],"component---src-pages-index-js":["/component---src-pages-index-js-05dcf5a41b92b2479436.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-a01e40860ee25e8046f1.js"],"component---src-templates-category-js":["/component---src-templates-category-js-49bc4748c0cd1500052b.js"],"component---src-templates-post-js":["/component---src-templates-post-js-f5082decce223e2378f1.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-26ffbf608cbeadb83d5e.js"]};/*]]>*/</script><script src="/polyfill-87f5ae838a3e11ab908d.js" nomodule=""></script><script src="/component---src-templates-post-js-f5082decce223e2378f1.js" async=""></script><script src="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js" async=""></script><script src="/commons-711ca7686977bac14a85.js" async=""></script><script src="/app-24df0ae8e19938884045.js" async=""></script><script src="/framework-a8bc927eb7481ca28d49.js" async=""></script><script src="/webpack-runtime-48b76a4c0774193c2454.js" async=""></script></body></html>