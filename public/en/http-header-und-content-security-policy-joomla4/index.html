<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.7a9d7c78d972bfc625e4.css" id="gatsby-global-css">:root{--font-weight-normal:200;--font-weight-bigger1:250;--font-weight-bigger2:300;--font-weight-biggest:350}sup{display:none}pre{font-size:.7rem}@media screen and (min-width:800px){pre{font-size:.8rem}}@media screen and (min-width:1000px){pre{font-size:1rem}}*,:after,:before{box-sizing:border-box}html{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI,Roboto,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-weight:var(--font-weight-normal);font-size:.9rem;line-height:1.5}body{--font-color:#495057;--link-color:#02091c;--heading-color:#183446;--dark-font-color:#212529;--light-font-color:#868e96;--light-background:#fff;--light-blockqoute:#f0f0f0;--dark-blockqoute:#02091c;--border:#d6d9de;--link-color-white:#fff}body,body.dark{color:var(--font-color);background-color:var(--light-background);margin:0;padding:0 1.5rem}body.dark{--font-color:#b6afa8;--link-color:#fdf6e3;--heading-color:#e7cbb9;--dark-font-color:#dedad6;--light-font-color:#797169;--light-background:#000;--light-blockqoute:#222;--dark-blockqoute:#fdf6e3;--border:#292621;--link-color-white:#222}@media screen and (min-width:800px){body{padding:0 2rem}}article{min-width:0}section{margin:2rem 0}section>h2{margin-top:4rem}@media screen and (min-width:800px){section{margin:3rem 0}}.container{max-width:1100px;margin-left:auto;margin-right:auto}img{display:inline-block;max-width:100%;height:auto}blockquote,dl,ol,p,table,ul{font-size:1.05rem;margin:0 0 1.5rem}ul{padding:0 1rem}@media screen and (min-width:800px){ul{padding:0 2rem}}ul li p{margin:0}ul li ul{padding-left:1rem;margin:0}ul li ul li{margin:.25rem 0}ol li ol{margin-bottom:0}.task-list-item [type=checkbox]{margin-right:.5rem}blockquote{margin:1.5rem 0;padding:1rem;background:var(--light-blockqoute);border-top:1px solid var(--dark-blockqoute);border-right:5px solid var(--dark-blockqoute)}blockquote p{margin:0}blockquote a{padding:1px 4px}blockquote a,blockquote a:hover{border-bottom:2px solid var(--dark-blockqoute);color:var(--heading-color)}blockquote a:hover{border-radius:.3rem}h1,h2,h3,h4,h5{margin:0 0 1.5rem;font-weight:var(--font-weight-biggest);line-height:1.2;color:var(--heading-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1:not(:first-child),h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}h1{font-size:2.5rem;line-height:1.1}h2{font-size:1.75rem}h2 code{font-size:1.75rem!important}h3{font-size:1.5rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.5rem!important}h4{font-size:1.4rem;color:var(--font-color);font-weight:var(--font-weight-bigger1)}h4,h5{margin-bottom:1rem}h5{font-size:1.2rem}@media screen and (min-width:800px){h1{font-size:3rem}h2{font-size:2rem}h2 code{font-size:2rem!important}h3{font-size:1.6rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.6rem!important}}aside{min-width:300px}aside p,aside ul{font-size:.95rem}aside ul{padding-left:1rem}aside h3{font-size:1.4rem}aside a.link:hover{border-bottom:0;background:var(--light-background)}.aside-content{border-top:2px solid var(--light-background)}@media screen and (min-width:1100px){.aside-content{border-top:0;border-left:2px solid var(--light-background);padding-left:2rem}.aside-content section{margin-top:.25rem}}a.link{display:grid;grid-template-columns:45px auto;align-items:center;color:var(--heading-color);border-bottom:none;padding:.75rem;border-radius:.3rem}a.link:hover{border-bottom:none;background:var(--light-background)}a.link img{display:inline-block;height:auto;margin-right:1rem;height:22px;width:auto}.lead{margin:4rem 0}.lead h1{color:var(--dark-font-color);font-weight:var(--font-weight-biggest);font-size:2.5rem;margin-bottom:2rem}.lead p{font-size:1.1rem}@media screen and (min-width:800px){.lead h1{font-size:3rem}.lead p{font-size:1.2rem}}p.subtitle{color:var(--light-font-color);font-size:1.2rem}@media screen and (min-width:800px){p.subtitle{font-size:1.4rem}}a{color:var(--link-color);text-decoration:none;font-weight:var(--font-weight-bigger2)}a:hover{border-bottom:2px solid var(--link-color);color:var(--heading-color)}a.gatsby-resp-image-link:hover{border-bottom:none}a code{border-bottom:2px solid var(--link-color)}a code:hover{background:var(--link-color)!important;color:var(--link-color-white)!important}main{margin-top:7rem}.navbar{width:100%;padding:1rem 2rem;position:fixed;top:0;left:0;background:var(--link-color-white);box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);z-index:2;border-bottom:solid}.navbar .flex{justify-content:space-between}.footer a,.navbar a{border-radius:.3rem;padding:.5rem;margin:0 .25rem;color:var(--light-font-color);border-bottom:none;font-weight:var(--font-weight-normal)}.footer a:hover,.navbar a:hover{background:var(--light-background);color:var(--font-color)}.navbar a:first-of-type{margin-left:-1rem}.navbar a:last-of-type{margin-right:-1rem}.navbar a.brand{font-size:1.1rem;font-weight:var(--font-weight-bigger2);color:var(--font-color);white-space:nowrap}@media screen and (min-width:800px){main{margin-top:0}.navbar{margin:2rem 0 5rem;padding:1.5rem 0;position:static;background:var(--link-color-white);box-shadow:none}.navbar .flex{justify-content:flex-start}.footer a,.navbar a{padding:1rem 1.5rem;font-size:1.1rem}.navbar a.brand{font-size:1.3rem;margin-right:3rem}.navbar a:first-of-type{margin-left:-1.5rem}}.footer{margin:3rem auto}.footer>.flex{flex-direction:column}.footer-links,.footer>.flex{align-items:center;justify-content:center}.footer-links{display:flex;flex-wrap:wrap}.flex nav{padding:1rem 0}.footer a.img{display:flex;align-items:center;padding:0;margin:0 .75rem;background:none}.footer img{height:30px;width:30px}@media screen and (min-width:800px){.footer{margin:5rem auto}.footer>.flex{align-items:flex-start;margin-left:-1.5rem;margin-right:-1.5rem}.footer a.img{padding:0 .5rem;margin:0 1rem}}.emoji{margin:0 .4rem 0 .1rem}table{border-collapse:collapse;border-spacing:0;width:100%;max-width:100%;overflow-x:auto;display:block}th{border-bottom:2px solid var(--light-background)}tfoot th{border-top:2px solid var(--light-background)}td{border-bottom:2px solid var(--light-background)}td,th{text-align:left;padding:.75rem!important;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}tbody tr:nth-child(2n){background-color:var(--light-background)}.flex{display:flex;align-items:center}.grid{display:grid;align-items:stretch}.grid.projects{grid-template-columns:40px auto}.row .cell.description{grid-column:1/span 2;margin-bottom:2rem;line-height:1.3;font-size:1.1rem}@media screen and (min-width:800px){.grid{margin-left:-1rem;margin-right:-1rem}.grid.projects{grid-template-columns:50px 1fr 4fr}.row .cell.description{grid-column:auto;margin-bottom:0}.grid.posts{grid-template-columns:200px 4fr}.grid.lists{grid-template-columns:2fr 4fr}.grid.posts.with-tags{grid-template-columns:200px 4fr 2fr}}.row{display:contents}.lists .row,.posts .row{display:block;margin-bottom:2rem;border-bottom:none}.row .cell{display:flex;align-items:center;font-weight:var(--font-weight-biggest);color:var(--dark-font-color);font-size:1.2rem;line-height:1.2;padding:.5rem 0}.row .cell time{font-size:.8rem}@media screen and (min-width:800px){.row .cell{font-size:1.1rem}.row .cell time{font-size:.9rem}.row .cell.simple{padding:.5rem 0}.lists .row,.posts .row{display:contents}.row:hover>*{background:var(--light-background)}.row .cell.simple:first-child,.row .cell:first-child{padding-left:1rem;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.row .cell.simple:last-child,.row .cell:last-child{padding-right:1rem;padding-left:1rem;border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}}.row .cell.light{font-weight:var(--font-weight-normal);color:var(--light-font-color)}.grid.guide{grid-gap:1.5rem;grid-auto-rows:1fr;margin-top:3rem;margin-left:0;margin-right:0}.grid.guide a{transition:all .2s ease;display:flex;align-items:center;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);border-bottom:none}.grid.guide .gatsby-image-wrapper{margin-right:1.5rem}.grid.guide a:hover{-webkit-transform:translate3D(0,-1px,0);transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}.grid.guide h2{margin:0;font-size:1rem;flex:1 1}@media screen and (min-width:600px){.grid.guide{grid-template-columns:repeat(2,minmax(0,1fr))}.grid.guide a{flex-direction:column;justify-content:center}.grid.guide h2{text-align:center;margin:1rem 0 0;flex:none}.grid.guide .gatsby-image-wrapper{margin-right:0}}@media screen and (min-width:800px){.grid.guide{grid-template-columns:repeat(3,minmax(0,1fr))}}@media screen and (min-width:1000px){.grid.guide{grid-template-columns:repeat(4,minmax(0,1fr))}}@media screen and (min-width:1200px){.grid.guide{grid-template-columns:repeat(5,minmax(0,1fr))}}html body div#___gatsby div#gatsby-focus-wrapper main.container section.grid.post article div p span.gatsby-resp-image-wrapper a.gatsby-resp-image-link img.gatsby-resp-image-image{border:1px solid #ddd;border-radius:4px;padding:5px}.grid.post{grid-gap:3rem;margin-left:0;margin-right:0}.article-header h1{font-size:2rem;margin-bottom:1rem;margin-top:.5rem}@media screen and (min-width:1100px){.grid.post{grid-template-columns:3fr 1fr}.article-header h1{font-size:2.75rem;margin-bottom:3rem}}[type=search]{display:block;padding:.8rem 1rem;border:2px solid var(--border);width:100%;max-width:400px;border-radius:.3rem;font-size:1rem}::-webkit-input-placeholder{color:var(--light-font-color)}:-moz-placeholder,:-ms-input-placeholder,::-moz-placeholder,::-webkit-input-placeholder,::placeholder{color:var(--light-font-color)}.suggested{flex-direction:column;align-items:stretch;margin-left:-1rem;margin-right:-1rem}.suggested a{text-align:center;margin:1rem;border-bottom:none;transition:all .2s ease;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);color:var(--font-color)}.suggested a:hover{-webkit-transform:translate3D(0,-1px,0);transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}@media screen and (min-width:800px){.suggested{flex-direction:row}.suggested a{flex-grow:0;flex-shrink:0;flex-basis:calc(50% - 2rem)}}.small{max-width:600px}.medium{max-width:750px}.meta,time{color:var(--light-font-color);font-size:.9rem;white-space:nowrap;font-weight:var(--font-weight-normal)}.count{font-weight:var(--font-weight-biggest);color:var(--link-color)}.tags{display:flex!important;align-items:center;overflow:hidden}.tags>a{display:block;font-weight:var(--font-weight-bigger1);background:#f1f3f5;color:#343a40;margin:.2rem;padding:.4rem .5rem;font-size:.8rem;border-radius:.3rem;border-bottom:0;white-space:nowrap}.tags>a:first-child{margin-left:0}.tags>a:last-child{margin-right:0}.tags>a:hover{background:#868e96;color:var(--link-color-white)}mark{background:#ffec99}a.tag-javascript,a.tag-sql{background:#fff3bf;color:#000}a.tag-javascript:hover,a.tag-sql:hover{background:#ffd43b;color:#000}a.tag-git,a.tag-html,a.tag-linux,a.tag-snippets{background:#fff4e6;color:#e8590c}a.tag-git:hover,a.tag-html:hover,a.tag-linux:hover,a.tag-snippets:hover{background:#fd7e14;color:var(--link-color-white)}a.tag-new-year,a.tag-vue{color:#087f5b;background:#e6fcf5}a.tag-new-year:hover,a.tag-vue:hover{background:#0ca678;color:var(--link-color-white)}a.tag-fundamentals,a.tag-game,a.tag-testing{background:#d3f9d8;color:#111}a.tag-fundamentals:hover,a.tag-game:hover,a.tag-testing:hover{background:#37b24d;color:var(--link-color-white)}a.tag-automation,a.tag-node,a.tag-security{background:#fff5f5;color:#e03131}a.tag-automation:hover,a.tag-node:hover,a.tag-security:hover{background:#f03e3e;color:var(--link-color-white)}a.tag-jQuery,a.tag-notes,a.tag-projects,a.tag-reference,a.tag-wordpress{background:#e3fafc;color:#0c8599}a.tag-jQuery:hover,a.tag-notes:hover,a.tag-projects:hover,a.tag-reference:hover,a.tag-wordpress:hover{background:#1098ad;color:var(--link-color-white)}a.tag-architecture,a.tag-css,a.tag-dom{background:#e7f5ff;color:#1971c2}a.tag-architecture:hover,a.tag-css:hover,a.tag-dom:hover{background:#1c7ed6;color:var(--link-color-white)}a.tag-gatsby,a.tag-life,a.tag-php,a.tag-redux{background:#f3f0ff;color:#6741d9}a.tag-gatsby:hover,a.tag-life:hover,a.tag-php:hover,a.tag-redux:hover{background:#7950f2;color:var(--link-color-white)}a.tag-api,a.tag-react{background:#edf2ff;color:#3b5bdb}a.tag-api:hover,a.tag-react:hover{background:#4263eb;color:var(--link-color-white)}a.tag-database,a.tag-design{background:#fff0f6;color:#c2255c}a.tag-database:hover,a.tag-design:hover{background:#e64980;color:var(--link-color-white)}a.tag-notes{background:#f8f0fc;color:#9c36b5}a.tag-notes:hover{background:#ae3ec9;color:var(--link-color-white)}:root{--code-font-family:Menlo,"Roboto Mono",Courier New,monospace;--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--light-background:#f1f3f5}pre[class*=language-]{box-shadow:0 8px 16px rgba(0,0,0,.55)}code[class*=language-],pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.8rem;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;font-weight:400;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1.5rem 2rem;margin:.5rem -1.5rem 2rem;overflow:auto}@media screen and (min-width:800px){code[class*=language-],pre[class*=language-]{font-size:.9rem}pre[class*=language-]{padding:1.5rem;margin-left:auto;margin-right:auto;border-radius:.3rem}}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:var(--code-background-color)}:not(pre)>code[class*=language-]{padding:.1rem .3rem;border-radius:.3rem}code.language-text,pre.language-text{background:#e0e3e7!important;color:#333!important;box-shadow:none}code.language-shell:before{content:"$ ";color:var(--comment)}pre.language-terminal{position:relative;background:#fff;color:#595c62;box-shadow:0 8px 16px rgba(100,120,130,.35);padding-top:3rem;margin:2rem 0;border-radius:.3rem}code.language-terminal{color:#595c62}pre.language-terminal:before{content:"\2022   \2022   \2022";position:absolute;top:0;left:0;background:#e0e3e7;color:var(--code-font-color);width:100%;font-size:2.5rem;margin:0;line-height:0;padding:18px 0 16px;text-indent:6px;letter-spacing:-18px}.gatsby-highlight-code-line{background-color:#191919;display:block;margin-right:-1rem;margin-left:-1rem;padding-right:1rem;padding-left:.75rem;border-left:.25rem solid #748ffc}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.filename{font-size:.9rem;margin-bottom:-.8rem;padding:.5rem 1rem .75rem;line-height:1.8;background-color:#000;color:#fff;z-index:1;margin-left:-1.5rem;margin-right:-1.5rem}@media screen and (min-width:800px){.filename{border-top-left-radius:.3rem;border-top-right-radius:.3rem;margin-left:auto;margin-right:auto}}code::selection,pre::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}code[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">HTTP-Header and Content Security Policy in Joomla 4 | Astrid Günther</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAKJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////oK8DKAAAADR0Uk5TAAcFUJJIFGOlRfPFUiXbeXXt8n4Kas1bA4/5gyyAnlf89WcCcN4oMfuyHN3TbhLuwXIiARdSFQIAAAABYktHRDXettlrAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAaUlEQVQY02NgoANgROUyMbMwsLIhCbBzcDJwcfMwwfi8fPw8DAKCQsIiUAFREzFxBglJEylpqFEyshxyDAzyCiaKSjBNyhIMDComJiaqagiD1cVMTDQ0tRAC2iYaOrp6SFbrGxgaGSPxAeofB3Dy5mHsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEyLTMxVDEzOjI3OjUyKzAwOjAwahG+IAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMi0zMVQxMzoyNzo1MiswMDowMBtMBpwAAABGdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuNy44LTkgMjAxNC0wNS0xMiBRMTYgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmfchu0AAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OmhlaWdodAAxOTIPAHKFAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE5MtOsIQgAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0NjI2Mjg3MhvFQhUAAAAPdEVYdFRodW1iOjpTaXplADBCQpSiPuwAAABWdEVYdFRodW1iOjpVUkkAZmlsZTovLy9tbnRsb2cvZmF2aWNvbnMvMjAxOC0xMi0zMS9hNTIxNmRhZDQ0YjlhNzJmNjM1OWZjMjEwMjJlYzQwMS5pY28ucG5nxAVqqwAAAABJRU5ErkJggg=="/><meta data-react-helmet="true" name="description" content="At first glance, the task of a browser seems simple: it displays text and images that you send it. On closer look, everything becomes more…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de//logo.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de//en/http-header-und-content-security-policy-joomla4/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="HTTP-Header and Content Security Policy in Joomla 4"/><meta data-react-helmet="true" property="og:description" content="At first glance, the task of a browser seems simple: it displays text and images that you send it. On closer look, everything becomes more…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de//logo.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="astridguenther"/><meta data-react-helmet="true" name="twitter:title" content="HTTP-Header and Content Security Policy in Joomla 4"/><meta data-react-helmet="true" name="twitter:description" content="At first glance, the task of a browser seems simple: it displays text and images that you send it. On closer look, everything becomes more…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de//logo.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de/","name":"HTTP-Header and Content Security Policy in Joomla 4","alternateName":"HTTP-Header and Content Security Policy in Joomla 4"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de//en/http-header-und-content-security-policy-joomla4/","name":"HTTP-Header and Content Security Policy in Joomla 4","image":"https://blog.astrid-guenther.de//logo.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de/","name":"HTTP-Header and Content Security Policy in Joomla 4","alternateName":"HTTP-Header and Content Security Policy in Joomla 4","headline":"HTTP-Header and Content Security Policy in Joomla 4","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de//logo.png"},"description":"At first glance, the task of a browser seems simple: it displays text and images that you send it. On closer look, everything becomes more…"}]</script><link rel="icon" href="/favicon-32x32.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#16868F"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-5d43e1df045605d24160.js"/><link as="script" rel="preload" href="/framework-b17a64ad725e0b3c1338.js"/><link as="script" rel="preload" href="/app-6e19340bc1dca09b3b91.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/05f1d64e2e1399e8ce81fd5e37a2b8dc2f9ac157-df620d5817af7d7d7bfc.js"/><link as="script" rel="preload" href="/cd89b575fbc7744d97a7acf3b55b56387c8b3feb-ecedd2c80549e60c9d95.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-8d0f43e9772b68fff69d.js"/><link as="fetch" rel="preload" href="/page-data/en/http-header-und-content-security-policy-joomla4/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="navbar"><div><a href="/"><img style="display:block;max-width:100%;margin:auto" src="/logo2.png" alt=""/></a></div><div class="container flex"><div><a href="/blog">Blog</a><a href="/tutorial">Sets</a><button id="dark-mode-button" style="margin-left:20px"><a href="/http-header-und-content-security-policy-joomla4/">deutsch</a></button><label><input type="checkbox"/> <!-- -->Dark mode</label></div></div></nav><main class="container"><aside><div class="aside-content"><section></section></div></aside><header class="article-header medium"><h1>HTTP-Header and Content Security Policy in Joomla 4</h1><a href="https://github.com/astridx/meinblog/blob/master/content/posts/cassiopeia/10content-security-policy-joomla4.en.md" rel="noreferrer" target="_blank">Modify this post</a></header><aside><div class="aside-content"><section><time>04.05.2021</time><div class="cell tags"><a class="tag-Joomla" href="/tags/joomla">Joomla</a><a class="tag-Sicherheit" href="/tags/sicherheit">Sicherheit</a><a class="tag-CSP" href="/tags/csp">CSP</a><a class="tag-HTTP Header" href="/tags/http-header">HTTP Header</a><a class="tag-Content Security Policy" href="/tags/content-security-policy">Content Security Policy</a></div></section></div></aside><section class="post"><article><div><p>At first glance, the task of a browser seems simple: it displays text and images that you send it. On closer look, everything becomes more complex. Web standards have to be supported, usability is high on the agenda and developers need tools. On top of that, the web is a tricky place. Websites are constantly under automated attack. To protect against various attack vectors, software manufacturers have implemented HTTP headers that enable the website to activate security functions in the web browser and thus block or make attack patterns more difficult.</p>
<h1>How to make the headers visible</h1>
<p>HTTP headers are often confused with the <code class="language-text">&lt;head></code> element of an HTML document. You will not find HTTP headers in the HTML header! They are in the HTTP protocol. This forms the basis of the World Wide Web. HTTP is the language used by browsers and web servers to communicate. Together with the visible content, information about the data is transmitted. This information is in the header of the browser response - in the head of the <a href="https://developer.mozilla.org/de/docs/Web/HTTP#die_struktur_einer_server-antwort">HTTP-Response</a><sup id="fnref-developer.mozilla.org/en/docs/web/http#the_structure_of_a_server-response"><a href="#fn-developer.mozilla.org/en/docs/web/http#the_structure_of_a_server-response" class="footnote-ref">developer.mozilla.org/en/docs/web/http#the_structure_of_a_server-response</a></sup>. Therefore the name Header. To view them, open the network tab of the browser developer tools.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ddfa38d86d8ef6cb1f4f6280c11a5198/913b9/header0e.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoklEQVQoz52SS2/TQBSF/cdhURSVqKQVoKgbxKJIKQ+BUHkkdmwnCP5AI2j8yoIqLFDt2PE7TpyP8UREFWwQV/p07z1z5sxmlDvtM+62n3HQ6XF8+prukwtOn76n1Tnn3lGP1oNzDjvPud95Qfv4JUcnryQHrTMO2z1OHr7h0eO3dLsXgnco3Kr5/Jq6XvMvlWap8FZ/6Qr/WdEyJsty6u0fgTNvhuu6NN3zPDnvu+vhOI7Etmwsy8K2d30ymTCdTrm8nPD12xWO7cgzRdN0dN1kPP6Ean5hYHxmNBpjGCOGuoGqDdEEqjrkw8c+2lCXZwNVF7PJUOw7DPr9AYpuJWjTjP5VxkBg2hmGQLNyTHeF6VUYbslIMPZKqetOyXe/JE4yVquKzaaWPcsylCgMCQW+77NYBJIg8ImikDzPKYqCNE2luSzLXS9yorRk/jPk5sYXYSvW67UI3qAEQSADG6Iootmb8Ga/HZjnhQxs5kLoSV7hhzHhYiH1fWAcx9L0+5UkSVgul3utoblQlKsd4oFKaIu4YPYjkL7tdiu+UC29vwDAh4zFu6ZuDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="HTTP header made visible in Firefox"
        title="HTTP header made visible in Firefox"
        src="/static/ddfa38d86d8ef6cb1f4f6280c11a5198/f058b/header0e.png"
        srcset="/static/ddfa38d86d8ef6cb1f4f6280c11a5198/c26ae/header0e.png 158w,
/static/ddfa38d86d8ef6cb1f4f6280c11a5198/6bdcf/header0e.png 315w,
/static/ddfa38d86d8ef6cb1f4f6280c11a5198/f058b/header0e.png 630w,
/static/ddfa38d86d8ef6cb1f4f6280c11a5198/40601/header0e.png 945w,
/static/ddfa38d86d8ef6cb1f4f6280c11a5198/78612/header0e.png 1260w,
/static/ddfa38d86d8ef6cb1f4f6280c11a5198/913b9/header0e.png 1822w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>With the tool <a href="https://securityheaders.com/">Security Headers by Scott Helme</a><sup id="fnref-securityheaders.com/"><a href="#fn-securityheaders.com/" class="footnote-ref">securityheaders.com/</a></sup> it is possible to check the HTTP headers and their configuration. The service reads out all set values, evaluates them and forms a rating from them. The following image shows an example report.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a931fb9e29ce16bc22fba08cc9e03321/191e2/header1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBElEQVQoz22QS08TYRSGBzVG1+5YGJdAQcVojNE1OzcmGuNP8B+4NS5cCS2NiS40ISrRhSvwQpDSEgVSlY0xBWxrL5QWykxn2k6ZzuXxzJQSRb7kyfnOmXPeeb+jhMIKA2MKF6InGXl+hhsvz3H1ySn6RpV/6JeeoWgPfv/ZyDHOjx8PGIocDWpdFF+sKxoK9wRNg+EjDEdPcOvVJW5PXubO6yvcfHGRa2O9QZ9P/x4DB1C6HwNR/y8RcST5yLPTPF18wERylMmVCKOz9xi+20tI3A5Jz2C4E7tm9gWTxXm+bsRZyM4RX19mNpVg6sd7Pq59Yir1junVD0z/lJiSWnqWmfW5v4jxJSfzxTi+jo/C3mnbEFkYY2Z1Aa0OWwbUdwUTDA8k0JS8YXVotqHW4r+jOK4dXLSWwfWJPsaX7lNvwrbeZGVzjYexR8TePubz/BsShW/Es8skckli2SXyNZW24+J6Do7bQfE8LxA0LZdsVaWkm5R1i626TV4z+F5M8yudJp3Lk1VrZHY0fmuaiGlsGrtYdme+q7MvaLRsMmWTgmpTqnsUdUcGoCpupRxQkVVUGrBRg7WKR0l20Wq7hwualk1F3NVaDmrTpioLrNatThQnO7I4zXTQd12KapvF1Qaq5P6TDxXUTZtUySCz3aKgu/Kkw3BkDY64dyk3vOBuHnD4B3UjelAirYmkAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Security Headers by Scott Helme"
        title="Security Headers by Scott Helme"
        src="/static/a931fb9e29ce16bc22fba08cc9e03321/f058b/header1.png"
        srcset="/static/a931fb9e29ce16bc22fba08cc9e03321/c26ae/header1.png 158w,
/static/a931fb9e29ce16bc22fba08cc9e03321/6bdcf/header1.png 315w,
/static/a931fb9e29ce16bc22fba08cc9e03321/f058b/header1.png 630w,
/static/a931fb9e29ce16bc22fba08cc9e03321/40601/header1.png 945w,
/static/a931fb9e29ce16bc22fba08cc9e03321/78612/header1.png 1260w,
/static/a931fb9e29ce16bc22fba08cc9e03321/191e2/header1.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>An alternative test tool is <em>Webbkoll</em>. This is a project from Sweden funded by <a href="https://internetstiftelsen.se/">Internetfonden</a> among others. The source code is open source and available on <a href="https://github.com/andersju/webbkoll">Github</a>. If you meet the technical requirements, you can host Webbkoll on your own server. It is easier to use an already existing Webbkoll instance, as offered at <a href="https://webbkoll.dataskydd.net">https://webbkoll.dataskydd.net</a>.</p>
</blockquote>
<h1>What Joomla 4 offers</h1>
<p>Joomla 4 supports users with the plugin <a href="https://docs.joomla.org/J4.x:Http_Header_Management/de#Plugin">System - HTTP Headers</a> to configure a secure <a href="https://wiki.selfhtml.org/wiki/Sicherheit/Content_Security_Policy">Content Security Policy</a>. Make sure that this plugin is activated if you want to use it.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9a3a7314853b69336ba255f8c0c81160/191e2/header00p.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVQoz62PvUrDYBSGvzuoCA5O2qKbglhFLCh0UGjdHNy8Aq9AwUuQDlak1NQftMG22FI3dzcnnV0chGA0Non50djHL80mUkFz4OEs5zznvGJpfZvJ5Q02twrUq032KjX2j+qUT5scnLV+RKm2KJ1csKvUKCrnVNQ2x42rHmIqu8bg+AJl9ZKwvAA++b100+P69oGbu3s+gmgj6ILILq4ynJyneNiA94BHzUAzHCzHw3Z8ifcNH9N2Md9cOnbEq+XKeR9DdjExk2doZI6dkhr60F4s9I7DUx/0PojRdI5EKkMhFMq3NcPm2XT/jEil8wzIyD1hNxKGl/4lTCQzMQqnc/EKx2ZXpDC+yF+Q83MKZbrOygAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Joomla 4 Plugin System - HTTP Headers - To be activated in the System|Plugins menu "
        title="Joomla 4 Plugin System - HTTP Headers - To be activated in the System|Plugins menu "
        src="/static/9a3a7314853b69336ba255f8c0c81160/f058b/header00p.png"
        srcset="/static/9a3a7314853b69336ba255f8c0c81160/c26ae/header00p.png 158w,
/static/9a3a7314853b69336ba255f8c0c81160/6bdcf/header00p.png 315w,
/static/9a3a7314853b69336ba255f8c0c81160/f058b/header00p.png 630w,
/static/9a3a7314853b69336ba255f8c0c81160/40601/header00p.png 945w,
/static/9a3a7314853b69336ba255f8c0c81160/78612/header00p.png 1260w,
/static/9a3a7314853b69336ba255f8c0c81160/191e2/header00p.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>Originally, there was to be an additional component. Reports about the content security policy could have been managed via this component. This was removed with the PR <a href="https://github.com/joomla/joomla-cms/pull/33550">github.com/joomla/joomla-cms/pull/33550</a>. In the Content Security Policy chapter, I describe a way to receive the reports by email.</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6b7fafa42a8115c4283afe6a0c0f26a2/191e2/header0p.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVQoz5VSCU7DMBD080AgVPGACgQ8gvuR0AcAlaBH0tSOvb6HtVtQVQmFrjTaTLSeGW8iRjfPGF0/4Zz76eUDjsa3OB7f/Rtl/uTiHkXn7OoRYtn1WKwU2k5DKgK5AGMDaAdm73mfk4tQ2kL2BNFJg3at0RuPEDOcj4w0iGJsGT/z5Dw0BYi39ynmiyWaVQNrLTaVBwBOR5BawgdX+evHC2Zdwwm1R+KZVrVYyTViiEgpDYLYXBtCzrlyUzj5zQ4Nueq4lhJEFiGEP4VyFfNVTKkezrkqGkKq+xSq18gRmEwnHHle4w8nzDAsuFg20FozDHMGG4minnPiXXjEGH9RDu7y+m7by5ki+Pk145QKkm/Wcy/JRf0EGQeX57WU6xaDsDUqv9FWMB+EUvvpYwz1yt/6m+zTF0VnhQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Joomla 4 Plugin System - HTTP Headers - Detail view"
        title="Joomla 4 Plugin System - HTTP Headers - Detail view"
        src="/static/6b7fafa42a8115c4283afe6a0c0f26a2/f058b/header0p.png"
        srcset="/static/6b7fafa42a8115c4283afe6a0c0f26a2/c26ae/header0p.png 158w,
/static/6b7fafa42a8115c4283afe6a0c0f26a2/6bdcf/header0p.png 315w,
/static/6b7fafa42a8115c4283afe6a0c0f26a2/f058b/header0p.png 630w,
/static/6b7fafa42a8115c4283afe6a0c0f26a2/40601/header0p.png 945w,
/static/6b7fafa42a8115c4283afe6a0c0f26a2/78612/header0p.png 1260w,
/static/6b7fafa42a8115c4283afe6a0c0f26a2/191e2/header0p.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>I describe the most important HTTP headers and the configuration in Joomla 4.</p>
<blockquote>
<p>First of all: If you test your website under <code class="language-text">localhost</code>, you should note that not all the functions described here can be tested locally.</p>
</blockquote>
<h1>HTTP Security Headers in Detail</h1>
<p>The following security headers are <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers">HTTP Response Headers</a>, which the web server passes to the web browser with the data of the web page. The browser then activates security functions.</p>
<h2>Special HTTP Headers in the Joomla 4 Plugins HTTP Header</h2>
<p>In the Joomla Plugin, the three headers <em>X-Frame-Options</em>, <em>Referrer-Policy</em> and <em>Cross-Origin-Opener-Policy</em> are displayed in the upper area and the header <em>Strict-Transport-Security</em> can be configured in a separate tab.</p>
<h3>X-Frame-Options</h3>
<p>The <a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/X-Frame-Options">X-Frame-Options</a> header prevents <a href="https://de.wikipedia.org/wiki/Clickjacking">Clickjacking</a>. This technique loads a third-party website into your own via an <em>iframe</em> tag. The aim is to get a user to provide sensitive data - for example, login details. As soon as a site tries to load another as <em>iframe</em>, the browser checks the website to be embedded. If the <em>X-Frame-Options Header</em> is set there, the page is not loaded. This way, it is possible to prevent other websites from embedding one's own website in their content and pretending to be oneself.</p>
<p>The header offers three possible directives: 'DENY', 'SAMEORIGIN', and 'ALLOW-FROM'.</p>
<p>In Joomla 4, the header can be set in different ways. On the one hand, there is a separate option 'X-Frame-Options'. If this is activated, the plugin sets the header with the policy 'SAMEORIGIN'. This will be the desired function in most cases. In your own domain, it is still possible to integrate your own content via iFrame. Outside the domain, this is forbidden.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6c6a4798477500b51d468972566e40ea/191e2/header2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQoz41Sy0rEQBDM14kiyHoWFkH9BlFRv0rxsCdPggcPevSyrET3kZjM+5WUPZPdxde6DhQzTbqrq7qT7R5dond4gR7d2/tn2Ng7xmb/BFv9038h5sa6WL9zcI5sVglM3xkmBUPNZILSDtp4KMLne/H+HmsbwKUBExpZxRRKgtAePgDON7BuPbT1MERkXZjHDpI4suHoBZM8RzkdU4JFd9o1AKnTqAWD9V3N0+gR46oghcKiJalFPUVZVfAks2matdDGoKrZMlYUSxpVmqE0luySleBg6YP3PiWF8JV8EWtD9pQGYwKWXLVtSzVNmmfGhUiSBw9XGNxcQ7kYdQQxcRUUEc6KElLKBKUUEZLCxUyG+TPub+/ADRC8SwVR0W9wtAguJPLXN3DOSSmDoDsqz2K3SEp5pKtbCBOKinxSsmqGlrYa7cYGft4o/kZLhcli01FKZWjjDn+dn8p9svwB/eTqHl+ozCcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="X-Frame-Option in the Joomla 4 Content Security Policy"
        title="X-Frame-Option in the Joomla 4 Content Security Policy"
        src="/static/6c6a4798477500b51d468972566e40ea/f058b/header2.png"
        srcset="/static/6c6a4798477500b51d468972566e40ea/c26ae/header2.png 158w,
/static/6c6a4798477500b51d468972566e40ea/6bdcf/header2.png 315w,
/static/6c6a4798477500b51d468972566e40ea/f058b/header2.png 630w,
/static/6c6a4798477500b51d468972566e40ea/40601/header2.png 945w,
/static/6c6a4798477500b51d468972566e40ea/78612/header2.png 1260w,
/static/6c6a4798477500b51d468972566e40ea/191e2/header2.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>If <code class="language-text">ALLOW-FROM</code> or <code class="language-text">DENY</code> is required, this can be configured in the plugin:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a249105a7489dabea6f0462fac3baf05/191e2/header3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhklEQVQoz42S20odQRBF5+tCJCD6LEgg5htCFPWfDL6dPPkkkif9gaiIZ87c+n6d2dk9Hi+YwEnDonsX1TVVu6fa/XqKnYMT7HD/9PkIH/a+4eP+d2ztH/4XJbfcK/e3vxyjagaNVa9QtxJCmhnrIpxPsOTt/nx+r13IUMZDaodqkBadMNA2ImUgphEhbsaFBM9CIea1jjAuofp9e4961aDtW3jv8bSmDYDdOQgtEVKY9c3dNZZDyw5NxMicVjbohh6JbY7juBHHjw9CvWhLbWhV1fSah8BxOUpOCMHzzKLThMzE95R4GddYBykV8wMmxlIaZz8rpc08xeLqDIvzH7CWIkdMMYFZM9Nb1nFrLZq2gzFmpmjr2eFsQJ5we32JXz8voHuLKHrI1QpeDIhSICr5hJRI3H3XQdU1HpY1FGOSaKVoAwuWdlHGExqjc4A16B5riHoJ07YILFqKvKKQGPNC8HUTMm0qFmVSfqOqFCtrZGCKkd1mGGUQHF+cnhX9L/JfpHnkP1a350xNsB0DAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="X-Frame-Option in the Joomla 4 Content Security Policy"
        title="X-Frame-Option in the Joomla 4 Content Security Policy"
        src="/static/a249105a7489dabea6f0462fac3baf05/f058b/header3.png"
        srcset="/static/a249105a7489dabea6f0462fac3baf05/c26ae/header3.png 158w,
/static/a249105a7489dabea6f0462fac3baf05/6bdcf/header3.png 315w,
/static/a249105a7489dabea6f0462fac3baf05/f058b/header3.png 630w,
/static/a249105a7489dabea6f0462fac3baf05/40601/header3.png 945w,
/static/a249105a7489dabea6f0462fac3baf05/78612/header3.png 1260w,
/static/a249105a7489dabea6f0462fac3baf05/191e2/header3.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>In addition, the <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Apache_Configuration_htaccess#frame_options">setting</a> of the header is possible via <code class="language-text">.htaccess</code> file:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Header always set X-Frame-Options &quot;DENY&quot; &quot;expr=%{CONTENT_TYPE} =~ m#text/html#i&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<p>Note: If you have activated the option in the upper area, <code class="language-text">SAMEORIGIN</code> will always be set. If you manually configure the <code class="language-text">ALLOW-FROM</code> or <code class="language-text">DENY</code> in the lower area, then it is necessary to deactivate the option in the upper area.</p>
<p>X-Frame-Option in the Joomla 4 Content Security Policy](/images/header5.png)</p>
<h3>Referrer Policy</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">Referrer Policy</a> instructs the browser to remove the referrer and not to send it to the next site.</p>
<blockquote>
<p>The <a href="https://de.wikipedia.org/wiki/Referrer">Referer Request Header</a> contains the address of the previously visited website, which includes a link to the currently requested page. The Referer header allows servers to see where the people visiting them are coming from and to use this data for analysis, logging or caching, for example.</p>
</blockquote>
<p>In the Joomla plugin, all possible options are selectable in a dropdown. The default setting in the plugin provides the option 'no-referrer-when-downgrading'.</p>
<p>Referrer-Policy in the Joomla 4 Content Security Policy](/images/header4.png)</p>
<p>By using <code class="language-text">.htaccess</code> the header can also be <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Apache_Configuration_htaccess#referrer_policy">set</a>:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Header always set Referrer-Policy &quot;strict-origin-when-cross-origin&quot; &quot;expr=%{CONTENT_TYPE} =~ m#text\/(css|html|javascript)|application\/pdf|xml#i&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<h3>Cross-Origin-Opener-Policy</h3>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy">Cross-Origin-Opener-Policy (COOP)</a> header provides the ability to request a new browser context to better isolate itself from other untrusted calls.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cross-Origin_Resource_Policy_(CORP)">Cross-Origin Resource Policy Header (CORP)</a> allows websites and applications to protect themselves against certain <em>cross-origin requests</em>.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing (CORS)</a> is an HTTP header-based mechanism that allows a server to specify origins (domain, scheme or port) other than its own from which a browser should allow resources to be loaded.</p>
<p>The <a href="https://wicg.github.io/cross-origin-embedder-policy/">Cross-Origin Embedder Policy (COEP)</a> is used to prevent requests from being loaded that are not of the same origin, unless this is explicitly permitted via CORS or CORP.</p>
<p>Using <code class="language-text">.htaccess</code>, the header can also be <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Apache_Configuration_htaccess#general_cors_access">set</a>. Here is an example:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_setenvif.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">    &lt;FilesMatch &quot;\.(bmp|cur|gif|ico|jpe?g|a?png|svgz?|webp|heic|heif|avif)$&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">      SetEnvIf Origin &quot;:&quot; IS_CORS</span></span>
<span class="grvsc-line"><span class="grvsc-source">      Header set Access-Control-Allow-Origin &quot;*&quot; env=*IS_CORS*</span></span>
<span class="grvsc-line"><span class="grvsc-source">    &lt;/FilesMatch&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &lt;/IfModule&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<h3>Strict-Transport-Security</h3>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Strict-Transport-Security (HSTS)</a> header can be configured in the plug-in in a separate tab. It provides additional security for all sites that are encrypted with HTTPS. If the header is set, the browser rejects all unencrypted HTTP connections.</p>
<blockquote>
<p>For sites that have been switched from HTTP to HTTPS, there is a high probability that a link can be found that is not provided with the additional <em>S</em>. Without HSTS, this link would be forwarded unencrypted via HTTP. Websites equipped with HSTS deliver all content via HTTPS without exception. Links are rewritten. This way, potential attackers will not find anything unencrypted in the transmission.</p>
</blockquote>
<p>In the plugin, for example, the value 'max-age=31536000; includeSubDomains' can be configured. The following image shows the configuration via the option <em>Force HTTP Headers</em>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/72650ba633e77117422bdcf152324699/191e2/header6.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVQoz41Sy2oVQRScrxNFkLgOBEH9BlGJ+afoSrJwL1npwm1UhDt3eh79nH5NWadvjEYXcaA4XdOna+pUT/f4+RmOnr3BEevDJ69x7/gF7p+8xIOTV/8F6ZVzcv7R01N0w2yxnwx6pbFo1+BDQlgzPPFn/bX+m4dYYNwKbQO6WXuMi4P1CbkAKVfEdDdCzFgpFFO55gkuZHRXX7+j3w9Qk8K6rjg82x0A3QUsViPm2Pjnb5+wmxUduoTKHqUHjPOETJu11n+xbbd44MfnxdxwT+4YVcvQ+ZXjcpSaEaOsSxMobCwiJDylw5qQcZ0P0NqyP2Lju5xry7Mz1jbLF5dvcfHuHN6T5NQEtpyxSVUKGx3ccFbPxkGNcM41CPcrHV6Hhqsvl/j4/gPM5FH0AtP3CPOMvNuhULDwUDEckQbSNMPu9/ix62G0plMNy70ggi1iGW3SqIGX4vnr9IoHBoRxRJwmVIqJUIOsKRCXhbebURiHRCRVfqOOATSHtRzG4Q6cYTbMSD4knAHdRhM4iP1GbiP/BEAf50alQajBAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Strict-Transport-Security in the Joomla 4 Content Security Policy"
        title="Strict-Transport-Security in the Joomla 4 Content Security Policy"
        src="/static/72650ba633e77117422bdcf152324699/f058b/header6.png"
        srcset="/static/72650ba633e77117422bdcf152324699/c26ae/header6.png 158w,
/static/72650ba633e77117422bdcf152324699/6bdcf/header6.png 315w,
/static/72650ba633e77117422bdcf152324699/f058b/header6.png 630w,
/static/72650ba633e77117422bdcf152324699/40601/header6.png 945w,
/static/72650ba633e77117422bdcf152324699/78612/header6.png 1260w,
/static/72650ba633e77117422bdcf152324699/191e2/header6.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><code class="language-text">max-age</code> tells the browser to save the domain. The value <code class="language-text">31536000</code> is in seconds and represents one year. With the option <code class="language-text">includeSubDomains</code> the browser extends the function to all subdomains.</p>
<blockquote>
<p>If <code class="language-text">preload</code> is activated, the domain is stored in the <a href="https://hstspreload.org">preload list</a>.</p>
</blockquote>
<p>Via <code class="language-text">.htaccess</code> the header is to be <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">activated</a> as follows:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  # Header always set</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot; env=HTTPS</span></span>
<span class="grvsc-line"><span class="grvsc-source">  # (1) Enable your site for HSTS preload inclusion.</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Strict-Transport-Security &quot;max-age=31536000; includeSubDomains; preload&quot; env=HTTPS</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<blockquote>
<p>Despite the advantages, HSTS is <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security#Privacy_issues">criticised</a> because website operators are able to read user information. Access is complicated, but possible.</p>
</blockquote>
<h2>Weitere Plugins im Bereich Force HTTP Headers</h2>
<h3>HTTP Header Feature-Policy</h3>
<p>The HTTP header <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy">feature policy</a> is relatively young and far-reaching. It tells the browser which functions the site needs. If no access to the microphone is necessary, a possible attacker has no access to these browser functions - provided the header is set correctly.</p>
<p>The structure is straightforward:</p>
<p><code class="language-text">Feature-Policy: &lt;directive> &lt;allowlist></code></p>
<blockquote>
<p>The controllable <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy">features (directives), </a>, are so far <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy#browser_compatibility">not all supported in all browsers.</a>.</p>
</blockquote>
<p>Via the Joomla plugin, the header can be configured as follows:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/347864a3f49895503b9055a571331b34/191e2/header7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVQoz41SS4sUMRjsXyeKILtnYRHU3yCuqH9q8bYXL94EH6e9qYvs9HRP59F5P8pKZlYcPawNRVJJvkp9lR5On7/FybM3OOH48Mkr3Hv8AvfPXuLB2fl/oZ1tda3+0dPXGCaxYrtojLOCVKbDugjnEyzx53g7/5u7kKGNh1odBqEsdtJgtREpAzEVhHg3XEjwFAoxH3iEcQnDt+/XGLcT5mWG9x77r94B0J2DXBVCCp1//fEFGzHToYkoPDOrCTuxINFmKeVf1HrEHS8XUv/mltwwqp6hsZ7tZvicEMJ+3gTyrQAdFOeQD+ut3VajlOb5gMq1lErPc9Dr2i1ffrzA5bsLWEuS6DpG1AaKVClRl2XPO/gYxmKadzDGdFgWWk+Hh9BwffUZn95/gBEWSQrYeUbUGunmBnmzQWZRJs80EBcBPW7xczNCK0WnCiv3XBOsLWS2lQUPWwdeDTlOMNMMR1eJxZW3Fwp1ULiwOEg+CJ22GFpEbWy/0cAAusPSWmM73IHRBqGJ86LGGdAxDgLHSL3lX1fu52xk1t1WAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Strict-Transport-Security in the Joomla 4 Content Security Policy"
        title="Strict-Transport-Security in the Joomla 4 Content Security Policy"
        src="/static/347864a3f49895503b9055a571331b34/f058b/header7.png"
        srcset="/static/347864a3f49895503b9055a571331b34/c26ae/header7.png 158w,
/static/347864a3f49895503b9055a571331b34/6bdcf/header7.png 315w,
/static/347864a3f49895503b9055a571331b34/f058b/header7.png 630w,
/static/347864a3f49895503b9055a571331b34/40601/header7.png 945w,
/static/347864a3f49895503b9055a571331b34/78612/header7.png 1260w,
/static/347864a3f49895503b9055a571331b34/191e2/header7.png 1836w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Using <code class="language-text">.htaccess</code>, the entry for a banning of microphone and geolocation looks like this:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Header always set Feature-Policy microphone &#39;none&#39;; geolocation &#39;none&#39;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<h3>Expect-CT</h3>
<p>The <a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Expect-CT">Expect-CT header</a> allows websites to enforce the requirements of <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a>.</p>
<p>When a website enables the use of the <code class="language-text">Expect-CT</code> header, the browser checks each certificate used in connection with the website in <a href="https://www.certificate-transparency.org/known-logs">public CT protocols</a>.</p>
<h3>Content-Security-Policy</h3>
<p>The <a href="https://scotthelme.co.uk/content-security-policy-an-introduction/">Content-Security-Policy</a> or CSP is the icing on the cake of HTTP headers.</p>
<blockquote>
<p>Without CSP, a browser loads all content, no matter from where. This is helpful in many cases. The problem is that not every site is trustworthy. I am referring to the invocation of malicious script code via <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">Cross Site Scripting (XSS)</a>. The dangerous thing is that as a website operator, you don't have things in your own hands if foreign content can be called up. Then it is sufficient for the attacker to pollute a linked site with malicious code.</p>
</blockquote>
<p>CSP offers a high level of protection, but requires expertise. Basically, one creates a list of all resources that the website needs. Everything else is blocked by the browser. This makes it clear: if you don't know what you're doing, you can disable your website with a content security policy. In the most restrictive setting, the browser only allows content that comes from the calling domain itself (<code class="language-text">self</code>).</p>
<blockquote>
<p>With Joomla 4.0, inline scripts and styles were largely eliminated from the Joomla Core. Unfortunately, extensions still use inline JavaScript and inline CSS styles. Therefore, the loading of inline elmenets is usually necessary and should not be interrupted. For this reason, only an 'A' rating and not an 'A+' rating is usually achievable with a Joomla website.</p>
</blockquote>
<p>The header is structured as follows:</p>
<p><code class="language-text">Content-Security-Policy-(Report-Only) &lt;directive> &lt;allowlist>; &lt;directive> &lt;allowlist>;</code></p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy#Browser_compatibility">list</a> of possible directives is long and is supported by all common browsers.</p>
<p>When implementing the content security policy, it makes sense to activate the <code class="language-text">report-only</code> mode and to set up a <a href="https://github.com/zero-24/csp-reporter-php">reporting endpoint</a>. The browser sends all violations of the CSP to this endpoint. This way, the website can be adjusted before the rule is armed and website functions no longer work. The use of this directive is only recommended if you know what you are causing. In the worst case, the Joomla administration area will no longer function.</p>
<blockquote>
<p>If you want to receive a report by e-mail, the script at the address <a href="https://github.com/zero-24/csp-reporter-php">https://github.com/zero-24/csp-reporter-php</a> offers a possibility.</p>
</blockquote>
<p>Setting the content security policy in a <code class="language-text">.htaccess</code> looks like this, for example:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Content-Security-Policy &quot;default-src &#39;self&#39;; base-uri &#39;none&#39;; form-action &#39;self&#39;; frame-ancestors &#39;none&#39;; upgrade-insecure-requests&quot; &quot;expr=%{CONTENT_TYPE} =~ m#text\/(html|javascript)|application\/pdf|xml#i&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<blockquote>
<p>Many sites include <em>inline styles</em> and <em>inline scripts</em>, so it is necessary to add <code class="language-text">unsafe-inline</code> for the site to work correctly.</p>
</blockquote>
<h2>More Header</h2>
<h3>X-Content-Type-Options</h3>
<p>The header <a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/X-Content-Type-Options">X-Content-Type-Options</a> is straightforward to configure, has been included in the Joomla Core <a href="https://github.com/joomla/joomla-cms/blob/9b54e8bd5da61dfc1a4d1476b9e0df608d7289e9/htaccess.txt#L30"><code class="language-text">.htaccess</code></a> since Joomla 3.9.13 and <a href="https://docs.joomla.org/J3.x:Joomla_3.9.3_Security_Notes">is recommended for all Joomla websites</a>.</p>
<p>There is one valid value. This is <code class="language-text">nosniff</code>. If the header is set, the browser does not try to guess the mime type (file type) of a file. This is no longer necessary with today's websites and leads to unnecessary security problems.</p>
<p>Ideally, this header is <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Apache_Configuration_htaccess#prevent_some_browsers_from_mime-sniffing_the_response">set</a> in the file <code class="language-text">.htaccess</code>. This way, the security function is activated independently of Joomla on web server levels:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">    Header always set X-Content-Type-Options &quot;nosniff&quot;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<h3>X-XSS-Protection</h3>
<p>I mention this header for the sake of completeness. It is not configurable in the Joomla 4 backend. The HTTP <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection">X-XSS-Protection</a> header was intended to activate an XSS auditor in the browser. Modern browsers do not take this header into account [any more]<a href="https://portswigger.net/daily-swig/google-deprecates-xss-auditor-for-chrome">https://portswigger.net/daily-swig/google-deprecates-xss-auditor-for-chrome</a>).</p>
<p>The recommended configuration for older browsers is: <code class="language-text">1; mode=block</code>. In Joomla 4, the header can only be configured via the file <code class="language-text">.htaccess</code>. The header is set directly with the <code class="language-text">.htaccess</code> file as follows:</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;IfModule mod_headers.c&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">  Header always set X-XSS-Protection 1; mode=block</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;/IfModule&gt;</span></span></code></pre>
<h1>More links</h1>
<h2>Joomla Documentation</h2>
<p><a href="https://docs.joomla.org/J4.x:Http_Header_Management/en">Joomla Documentation</a></p>
<h2>csp-cheat-sheet</h2>
<p>The <a href="https://scotthelme.co.uk/csp-cheat-sheet/">scotthelme.co.uk</a> page provides an overview in English of all supported functions and directives in the <em>Content Security Policy</em>. It can be used as a quick reference to identify valid and invalid directives and values, and includes sample policies and guidance on how to use CSP effectively.</p>
<h2>CSP Evaluator</h2>
<p>The <a href="https://csp-evaluator.withgoogle.com/">CSP Evaluator</a> allows developers and security professionals to verify that a Content Security Policy (CSP) is a strong possibility against cross-site scripting attacks. It supports the process of reviewing CSP policies, which is usually a manual task, and helps identify CSP bypasses that undermine the value of a policy. The CSP Evaluator checks are based on a large-scale study and are designed to help developers harden their CSP and improve the security of their applications. This tool (also available as a Chrome extension) is provided for the developer's and Google makes no warranties or guarantees for this tool.
<img src="https://vg04.met.vgwort.de/na/ab35781f61344b8e975e684549ae417c" width="1" height="1" alt=""></p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .solarized-light { background-color: #FDF6E3; }
  .solarized-light .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));
  }
</style></div></article><a href="https://github.com/astridx/meinblog/blob/master/content/posts/cassiopeia/10content-security-policy-joomla4.en.md" rel="noreferrer" target="_blank">Modify this post</a></section><div id="utterances"><h2>Comments</h2><div class="comments"></div></div><aside><div class="aside-content"><section><h3>Fehler gefunden?</h3><div>Bitte lasse mich wissen, wenn etwas falsch oder unklar ist. Öffne gerne ein<!-- --> <a href="https://github.com/astridx/meinblog/issues/">Github-Issue</a>.</div><h3>Du oder Sie?</h3><div>Ob Du oder Sie - das ist im Deutschen oft gar nicht so leicht zu entscheiden. Manche Leser sieze ich, andere duze ich. Deshalb gibt es im Weblog ein buntes Durcheinander und jeder sucht sich das aus, was für Ihn passt.</div></section></div></aside></main><footer class="footer container"><section class="flex"><nav class="footer-links"><a href="/blog">Blog</a><a href="https://astrid-guenther.de/impressum">Impressum</a><a href="https://astrid-guenther.de/datenschutzerklaerung">Datenschutz</a></nav><nav class="flex"><a href="https://www.gatsbyjs.org/" title="Built with Gatsby" target="_blank" rel="noopener noreferrer" class="img"><img src="/static/gatsby-b7637c262ad964cf2f70abbbfc9e1f93.png" class="footer-img" alt="Gatsby"/></a><a href="https://github.com/astridx" title="Open-source on GitHub" target="_blank" rel="noopener noreferrer" class="img"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC" class="footer-img" alt="GitHub"/></a><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=KQMKUVAX5SPVS&amp;source=url" rel="nofollow"><img src="https://camo.githubusercontent.com/48808c433ce8c8ed020ca8bd30816bef7b2f716c3ac00a12279f4cbb3043c5ce/68747470733a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f444b2f692f62746e2f62746e5f646f6e61746543435f4c472e676966" alt="" data-canonical-src="https://www.paypalobjects.com/en_US/DK/i/btn/btn_donateCC_LG.gif"/></a></nav></section></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/en/http-header-und-content-security-policy-joomla4/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e795261d8342deefff90.js"],"app":["/app-6e19340bc1dca09b3b91.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ad6431e4664bcf916d19.js"],"component---src-pages-404-en-js":["/component---src-pages-404-en-js-09822341b641ee17899b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4f2740a19f7661111dc1.js"],"component---src-pages-blog-en-js":["/component---src-pages-blog-en-js-733f4727cb894e593cd6.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-a6149436b1330e16c422.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-ab814213079d43ff81de.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5c80af919d24c56af6ea.js"],"component---src-pages-tutorial-en-js":["/component---src-pages-tutorial-en-js-6cc5a1122f91850d8e4d.js"],"component---src-pages-tutorial-js":["/component---src-pages-tutorial-js-e2056d284cd68d4bd1b5.js"],"component---src-templates-post-js":["/component---src-templates-post-js-8d0f43e9772b68fff69d.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-8b2eeb038bd3e22c9ce0.js"]};/*]]>*/</script><script src="/polyfill-e795261d8342deefff90.js" nomodule=""></script><script src="/component---src-templates-post-js-8d0f43e9772b68fff69d.js" async=""></script><script src="/cd89b575fbc7744d97a7acf3b55b56387c8b3feb-ecedd2c80549e60c9d95.js" async=""></script><script src="/05f1d64e2e1399e8ce81fd5e37a2b8dc2f9ac157-df620d5817af7d7d7bfc.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-6e19340bc1dca09b3b91.js" async=""></script><script src="/framework-b17a64ad725e0b3c1338.js" async=""></script><script src="/webpack-runtime-5d43e1df045605d24160.js" async=""></script></body></html>