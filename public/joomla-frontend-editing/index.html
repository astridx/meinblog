<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.94192faef3675174f929.css" data-identity="gatsby-global-css">pre[class*=language-].line-numbers{padding-left:3.8em}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;left:-3.8em;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--primary:#16868f;--secondary:#16868f;--link-color:#fff;--border-color:#111;--heading-font-color:var(--primary);--background-color:#252525;--sidebar-color:#2b2b2b;--navbar-color:#181818;--navbar-color-hover:#272727;--sidebar-color-hover:#383838;--sidebar-color-focus:#444;--category-background-color:#161616;--category-background-color-hover:#1f1f1f;--light-border-color:#444;--toolbar-background-color:#181818;--toolbar-color:#eee;--font-color:#b3b9c5;--medium-font-color:#aaa;--dark-font-color:#8f949d;--bright-font-color:#eee;--input-background:#393939;--blockquote-background-color:rgba(0,0,0,.4);--blockquote-color:var(--dark-font-color);--black:#111;--inline-code-background-color:hsla(0,0%,100%,.08);--inline-code-color:#b3b9c5;--dark-opacity:rgba(0,0,0,.2);--dark-opacity-hover:rgba(0,0,0,.3);--reverse:#111;--scrollbar:var(--border-color);--scrollbar-track:var(--light-border-color);--yellow:#16868f;--button-color:#6b76f3;--page-width:1000px;--font-family:"Source Serif Pro",-apple-system,BlinkMacSystemFont,"Inter","Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--heading-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Roboto",Roboto,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font-family:Menlo,"DM Mono","Roboto Mono",Courier New,monospace}*,:after,:before{box-sizing:border-box}a:focus-visible,button:focus-visible{outline:3px solid var(--primary)}body{-webkit-font-smoothing:antialiased;background:var(--navbar-color);color:var(--font-color);font-family:var(--font-family);font-size:1rem;line-height:1.6;margin:0}blockquote,ol,p,table,ul{color:var(--font-color);font-size:1.2rem;margin:0 0 2rem}button{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:transparent;border:none;border-radius:8px;cursor:pointer;font-family:var(--heading-font-family)}ol li,ul li{margin-bottom:.5rem}ol li p,ul li p{margin:0}ol li ol,ul li ul{margin:.3rem}h1,h2,h3,h4,h5{color:var(--heading-font-color);font-family:var(--heading-font-family);font-weight:600;line-height:1.2;margin:0 0 1.5rem;scroll-margin-top:80px}h3,h4,h5{color:var(--secondary);font-weight:500}a{text-decoration:none}a,a.button{font-family:var(--heading-font-family)}a.button{border:1px solid var(--button-color)!important;border-radius:8px;color:var(--reverse);display:block;font-size:1.1rem;font-weight:600;line-height:1.2;padding:.75rem 1.25rem;text-align:center}a.button,a.button:hover{background:var(--button-color)}a.button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}a.button:active{-webkit-transform:scale(.95);transform:scale(.95)}a.button.icon-button{align-items:center;display:flex}a.button.icon-button img{margin-right:.5rem;max-height:22px}table{border-collapse:separate;border-radius:8px;border-spacing:0;display:block;font-family:var(--heading-font-family);font-size:.95rem;max-width:100%;overflow-x:auto;width:100%}table :not(pre)>code[class*=language-]{font-size:.95rem!important}tbody,thead{white-space:nowrap}th{border-bottom:2px solid var(--light-border-color)}tfoot th{border-top:1px solid var(--light-border-color)}td{border-bottom:1px solid var(--light-border-color)}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;word-break:break-word}tbody tr:nth-child(odd){background-color:var(--dark-opacity)}tbody tr:last-child td:first-of-type{border-bottom-left-radius:8px}tbody tr:last-child td:last-of-type{border-bottom-right-radius:8px}@media screen and (min-width:800px){table{border:1px solid var(--light-border-color);display:table}tbody,thead{white-space:normal}}.sidebar{background:var(--sidebar-color);border-right:1px solid var(--light-border-color);height:100vh;left:0;overflow-x:hidden;overflow-y:hidden;position:fixed;top:0;width:320px;z-index:9}.sidebar:hover{overflow-y:auto}.sidebar .categories{margin-top:60px}.sidebar .title{align-items:center;background:var(--toolbar-background-color);color:var(--font-color);display:flex;font-size:.85rem;font-weight:600;height:35px;justify-content:space-between;padding:0 .5rem 0 2.5rem;position:fixed;text-transform:uppercase;top:0;width:320px;z-index:8}.sidebar button.collapse-categories{height:35px;padding:0 .75rem}.sidebar button.collapse-categories:hover{background:var(--dark-opacity)}.sidebar button.collapse-categories div{border:1px solid var(--font-color);line-height:0;padding:1px 3px}.sidebar button.collapse-categories svg rect{fill:var(--font-color)}.sidebar button.category{align-items:center;background:var(--category-background-color);border:none;border-radius:0;color:var(--bright-font-color);cursor:pointer;display:grid;font-size:.8rem;font-weight:700;grid-template-columns:1.5rem auto;margin-bottom:1px;padding:.75rem 1rem;position:-webkit-sticky;position:sticky;text-align:left;text-transform:uppercase;top:60px;width:100%;z-index:7}.sidebar button.category:hover{background:var(--category-background-color-hover);color:var(--bright-font-color)}.sidebar button.category:focus-visible{background:var(--primary);border-bottom:none;color:var(--reverse)!important;outline:none}.sidebar button.category:focus{color:var(--bright-font-color);outline:none}.sidebar button.category svg{margin-right:.5rem}.sidebar button.category svg path,.sidebar button.category:focus svg path{stroke:var(--bright-font-color)}.sidebar button.category:focus-visible svg path{stroke:var(--reverse)}.sidebar nav{width:320px}.sidebar nav.collapsed{display:none}.sidebar a{align-items:center;border-left:3px solid transparent;color:var(--medium-font-color);display:grid;font-family:var(--heading-font-family);font-size:.85rem;grid-template-columns:2rem auto;line-height:1.2;padding:.4rem 1rem}.sidebar a svg path{-webkit-filter:var(--icon-filter);filter:var(--icon-filter)}.sidebar a:hover{background:var(--sidebar-color-hover);color:var(--bright-font-color)}.sidebar a.active,.sidebar a:focus{background:var(--sidebar-color-focus);border-left:3px solid var(--primary);color:var(--bright-font-color);outline:none}.sidebar a.active svg path{fill:var(--primary)}.container{margin-left:auto;margin-right:auto;max-width:var(--page-width);padding:2rem}.container.large{max-width:1350px}.container.small,.small{max-width:550px}.navigation{background:var(--navbar-color);border-bottom:1px solid var(--light-border-color);height:60px;left:0;position:fixed;top:0;width:100%;z-index:9}.navigation-inner{font-family:var(--heading-font-family);height:100%;margin:0 auto;max-width:var(--page-width);padding:.5rem 1.5rem}.navigation button,.navigation-inner{align-items:center;display:flex;justify-content:space-between}.navigation button{background:transparent;border:none;color:var(--font-color);cursor:pointer;font-weight:500;gap:.5rem;line-height:0;padding:.5rem;position:relative}.navigation button:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation button:focus{outline:none}.navigation button:focus-visible{outline:3px solid var(--primary)}.navigation button span{font-size:.9rem}.navigation button svg rect{fill:var(--font-color)}.navigation nav{gap:.6rem;height:100%}.navigation nav,.navigation nav a{align-items:center;display:flex;justify-content:center}.navigation nav a{border-radius:8px;color:var(--font-color);font-size:.9rem;font-weight:500;gap:.4rem;line-height:1.1;padding:.5rem}.navigation nav a.active{color:var(--bright-font-color)}.navigation nav a.brand{font-size:1rem;font-weight:600}.navigation nav a.brand span{white-space:nowrap}.navigation nav a:hover{background:var(--navbar-color-hover);color:var(--bright-font-color)}.navigation nav img{max-height:20px;max-width:25px}.theme-switcher{margin-left:.5rem}.theme-switcher img{max-width:20px}.toolbar-section{align-items:center;display:flex;flex:0 0 155px;justify-content:flex-end}.navigation nav .brand-section{flex:0 0 155px;justify-content:flex-start}.hero{padding:1rem 0}.hero .flex-content{align-items:center}.hero header{padding:2rem 0 0;text-align:left}.hero h1{color:var(--bright-font-color);font-size:3rem;margin-bottom:1.5rem}.hero p.subtitle{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.3rem}.hero .hero-buttons{display:flex;gap:1.5rem}.hero-buttons a.hero-button{align-items:center;border:none;color:var(--dark-font-color);display:flex;font-size:.9rem;gap:.4rem;justify-content:space-between}.hero-buttons a.hero-button:hover{background:transparent;border:none;color:var(--font-color)}.hero-buttons a.hero-button img{display:block;max-height:18px}.bright{color:var(--bright-font-color)}article{padding-bottom:3rem}article header{padding-top:2rem;text-align:center}article h1{color:var(--bright-font-color);font-size:2.5rem;font-weight:700;margin-bottom:.75rem}article h2,article h3,article h4,article h5{margin:0 0 1.25rem}article h4{border-bottom:1px solid var(--light-border-color);margin-bottom:.75rem}article .description{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:1.45rem;margin-bottom:0}.post-image{margin-bottom:1rem}.post-details{color:var(--dark-font-color);font-family:var(--heading-font-family);font-size:.9rem;margin:.5rem 0}.post-details a{border-bottom:none}.tags{align-items:center;display:flex;flex-wrap:wrap;font-family:var(--heading-font-family);gap:.5rem;justify-content:center;margin:1.5rem 0}.tags a{border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);display:inline-block;font-size:.9rem;font-weight:600;line-height:normal;padding:.4rem .6rem;vertical-align:middle}.tags a,.tags a:hover{background:var(--reverse)}.tags a:hover{border:1px solid var(--primary);color:var(--primary)}article a{border-top:2px solid transparent;color:var(--link-color);font-weight:600}article a,article a:hover{border-bottom:2px solid var(--primary)}article a:hover{background:var(--primary);border-top:2px solid var(--primary);color:var(--reverse)}article li a,article li a:hover{border-bottom:none;border-top:none}article img{display:block;max-width:100%}article h2{font-size:1.9rem;padding-bottom:.25rem}article h2 code{border-bottom:1px solid var(--border-color);font-size:2.2rem!important}article h3{font-size:1.75rem}article h3 code{font-size:1.6rem!important}article h4{font-size:1.15rem;padding-bottom:.25rem;text-transform:uppercase}article h4 code{font-size:1.25rem!important}article h5{font-size:1rem;text-transform:uppercase}h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}blockquote{background:var(--blockquote-background-color);border:1px solid var(--light-border-color);border-left:4px solid var(--primary);border-radius:8px;font-family:var(--heading-font-family);padding:1.5rem}blockquote p{color:var(--blockquote-color)}blockquote ul{margin-top:1rem}blockquote p:last-of-type,blockquote ul:last-of-type{margin-bottom:0}.comments{padding-bottom:2rem}.comments h3{font-size:1.75rem}.blog-page h2{border-bottom:1px solid var(--light-border-color);margin-top:2.5rem}a.post{grid-gap:1rem;align-items:center;border:1px solid transparent;display:grid;grid-template-columns:auto 60px;margin-left:-1rem;margin-right:-1rem;padding:.4rem 1rem}a.post.new,a.post:hover{background:var(--dark-opacity);border:1px solid transparent;border-radius:8px;font-family:var(--heading-font-family)}a.post.new{background:transparent;border:1px solid transparent}a.post.new:hover{background:var(--dark-opacity)}a.post.new time{color:var(--secondary)!important}a.post.new h3{color:var(--bright-font-color)}a.post.new .new-badge{color:var(--yellow);margin-left:.75rem}a.post h3{color:var(--font-color);-webkit-filter:brightness(1);filter:brightness(1);font-size:1.1rem;font-weight:500;margin:0}a.post:hover h3{color:var(--bright-font-color)}a.post time,a.post:hover time{color:var(--dark-font-color)}a.post time{display:block;font-family:var(--code-font-family);font-size:.8rem;font-weight:400;text-align:center}.projects{display:flex;flex-direction:column}@media screen and (min-width:600px){.projects{grid-gap:2rem;display:grid;grid-template-columns:repeat(auto-fill,300px);justify-content:center}}.project{background:var(--dark-opacity);border:1px solid var(--border-color);border-radius:8px;color:var(--dark-font-color);display:flex;flex-direction:column;padding:1.5rem}.project h2{border-bottom:none;font-size:1.5rem;margin-bottom:0;text-align:center}.project img{height:auto;margin-top:.5rem;max-height:100px;max-width:100%;-o-object-fit:contain;object-fit:contain}.project .description{color:var(--font-color);font-family:var(--heading-font-family);font-size:1.2rem;line-height:1.3;margin-bottom:1rem;text-align:center}.project .links{display:flex;gap:.5rem}.project .stars{align-items:center;display:flex;gap:.75rem;justify-content:center;margin-top:auto}.project .stars img{margin-top:0;max-width:20px}a.anchor.before{border:none}a.anchor.before:hover{background:transparent}a.anchor.before svg{fill:#fff}a.image-link,a.image-link:hover{border-bottom:none;border-top:none}a.image-link:hover{background:none}.primary-color{color:var(--primary)}.primary-underline{border-bottom:3px solid var(--primary)}.deemphasized{color:var(--dark-font-color)}.gatsby-resp-image-wrapper{margin-left:0!important}a.gatsby-resp-image-link{background:transparent!important;border-bottom:none!important;border-top:none!important}.highlighted{background:var(--primary);color:var(--reverse)}.not-found-image{margin:0 auto}.flex{display:flex}.flex-align-center{align-items:center}.flex-justify-between{justify-content:space-between}.flex-content{gap:1.5rem}.flex-content,.main-header{display:flex;justify-content:space-between}.main-header{align-items:center;border-bottom:1px solid var(--light-border-color)}.main-header a{font-size:1rem}.main-image{border:1px solid var(--light-border-color);border-radius:8px;height:auto;margin-left:2rem;width:250px}.search-bar{grid-gap:1rem;align-items:center;display:grid;grid-template-columns:auto 50px}.search-icon{cursor:pointer;max-width:30px}.search-input{-webkit-appearance:none;background:var(--input-background);border:1px solid var(--light-border-color);border-radius:8px;color:var(--bright-font-color);font-size:1.1rem;line-height:1.1;padding:.75rem 1rem;width:100%}.search-input:active,.search-input:focus,.search-input:hover{border-color:var(--primary)}.search-input:focus{box-shadow:1px 1px 1px var(--primary);-webkit-filter:brightness(1.1);filter:brightness(1.1);outline:none}::-webkit-scrollbar{background:var(--scrollbar);height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scrollbar-track);border-radius:0}::selection{background:var(--primary);color:var(--reverse)}::-moz-selection{background:var(--primary);color:var(--reverse)}::marker{color:var(--primary)}.search-input::-webkit-search-cancel-button{color:var(--bright-font-color)}.collapsed .sidebar{display:none}.desktop-only{display:block!important}main{background:var(--background-color);margin-top:60px;min-height:calc(100vh - 215px)}.footer{background:var(--navbar-color);border-top:1px solid var(--light-border-color);font-family:var(--heading-font-family);padding:3rem 0}.footer section{align-items:center;display:flex;flex-direction:column;gap:1.25rem}.footer img{display:inline-block;max-height:20px;width:auto}.footer nav{display:flex;gap:.25rem;margin:0 1rem}.footer a,.footer span{align-items:center;color:var(--dark-font-color);display:flex;font-size:.9rem;line-height:1.2;padding:0 .5rem}.footer span{color:var(--toolbar-color)}.footer a:hover{color:var(--link-color)}@media screen and (max-width:800px){blockquote,ol,p,table,ul{font-size:1.1rem;margin:0 0 1.5rem}.flex-content{flex-direction:column;gap:.5rem}main{margin-top:60px}ol,ul{padding-left:1rem}.navigation nav.social-nav,.sidebar{display:none}.navigation-inner{justify-content:space-between;padding-right:0}.navigation nav{gap:.5rem}.navigation nav a{flex-direction:column;font-size:.8rem;gap:.25rem;padding:0 .25rem}.navigation nav a:hover{background:transparent}.navigation button.theme-switcher{margin-left:0;margin-right:-.5rem;min-width:auto}.navigation nav a.brand{font-size:.9rem;margin-left:0;margin-right:0;padding:0}.navigation nav img{max-width:20px}.toolbar-section{flex:initial;margin-left:0}.navigation nav .brand-section{flex:initial}.navbar img{max-width:30px}.projects{grid-gap:1rem;grid-template-columns:repeat(2,50%)}.project .stars{justify-content:center}.desktop-only{display:none!important}.hero{padding:0}.hero h1{font-size:2.25rem}.hero header{padding:1rem 0 0}.hero .container{padding-bottom:1rem}.hero p.subtitle{font-size:1.2rem}.hero .flex-content,.hero .hero-buttons{align-items:flex-start}.hero .hero-buttons{flex-direction:column;gap:.5rem}.post-image{max-height:75px;max-width:75px}.main-image{margin:0 0 1rem;width:150px}.flex-content div{order:2}.flex-content img{order:1}.container{padding:1rem}.navigation-inner{padding:0 1rem}article{padding-bottom:0}article h1{font-size:2.2rem;line-height:1.2}article h2{font-size:1.8rem}article header{padding-top:1.5rem}article .description{font-size:1.3rem}a.post h3{font-size:1rem}.project img{max-height:50px}}#resume header{text-align:left}#resume section h2,#resume section h3,#resume section h4,#resume section h5{margin-bottom:1rem;margin-top:0}#resume section h2{border-bottom:1px solid var(--light-border-color);font-size:1.1rem;margin-top:2.5rem;text-transform:uppercase}#resume section h3{align-items:center;display:flex;font-weight:600;justify-content:space-between}#resume section h3 span{display:block;font-size:1rem;font-weight:400}#resume section h3{font-size:1.3rem;margin-bottom:.5rem}#resume section li,#resume section p{font-size:1rem;line-height:1.3}#resume section li{margin-bottom:.5rem}.hidden{display:none}:root{--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--terminal-color:var(--code-font-color)}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.9rem!important;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;background:var(--code-background-color);border:1px solid var(--light-border-color);border-radius:8px;font-family:Menlo,monospace;margin-bottom:2rem;margin-top:2rem;overflow:initial;padding:1rem}:not(pre)>code[class*=language-]{-webkit-font-smoothing:antialiased;background:var(--inline-code-background-color)!important;color:var(--inline-code-color)!important;font-size:1rem!important;font-weight:600;padding:2px 3px;white-space:pre-wrap}article a:hover code{color:var(--reverse)!important}pre.language-text{background:transparent;margin-left:-1.5rem;padding-bottom:0;padding-top:.5rem}.line-numbers-rows{display:none}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:1rem;position:relative}@media screen and (min-width:800px){.line-numbers-rows{display:block}pre.language-text.line-numbers{padding-left:1.5rem!important}pre[class*=language-].line-numbers{padding-left:4rem}pre.language-shell,pre.language-terminal{padding-left:1.5rem!important}pre.language-shell .line-numbers-rows,pre.language-terminal .line-numbers-rows,pre.language-text .line-numbers-rows{display:none}}code.language-text{background:var(--light-background)!important;box-shadow:none;color:var(--font-color)!important}pre.language-text code.language-text{border:none}code.language-shell:before{color:var(--comment);content:"$ "}pre.language-terminal{-webkit-text-size-adjust:none;background:var(--reverse);border:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--font-color);margin:2rem 0;padding-top:3rem;position:relative;white-space:normal}code.language-terminal{-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;color:var(--terminal-color)}pre.language-terminal:before{background:var(--category-background-color);border-bottom:1px solid var(--light-border-color);border-top-left-radius:8px;border-top-right-radius:8px;color:var(--dark-font-color);content:"\2022 \2022 \2022";font-size:2.5rem;left:0;letter-spacing:-5px;line-height:0;margin:0;padding:15px 0 12px;position:absolute;text-indent:6px;top:0;width:100%}.line-numbers .line-numbers-rows{border-right:1px solid #444;font-size:100%;left:-3.8rem;letter-spacing:-1px;padding-right:.5rem;pointer-events:none;position:absolute;top:1rem!important;width:3rem!important}.line-numbers-rows>span:before{color:#777}.gatsby-highlight{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;font-size:.9rem;margin-bottom:1.5rem;margin-top:1.5rem;max-width:999999px;overflow-x:auto;overflow-y:hidden}.gatsby-highlight pre[class*=language-]{float:left;margin-bottom:0;margin-top:0;min-width:100%}.gatsby-highlight-code-line{background-color:#222;border-left:.25rem solid #74cf74;display:block;margin-left:-1.25rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem}.filename{align-items:center;background:#171717;border-top-left-radius:8px;border-top-right-radius:8px;color:#ccc;display:flex;font-family:var(--heading-font-family);font-size:.9rem;line-height:1;margin-bottom:-2rem;padding:.5rem 1.5rem .9rem}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-jsx .token.class-name{color:var(--tag)!important}code::selection,pre::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,59%,.3)!important;color:inherit;text-shadow:none}pre[class*=language-]{margin-bottom:1.5rem;margin-top:1.5rem}.filename{margin-bottom:-1.9rem}.light{--primary:#16868f;--secondary:#444;--heading-font-color:#222;--link-color:#111;--border-color:#bbb;--light-border-color:#e0e0e0;--background-color:#fff;--sidebar-color:#f0f0f0;--navbar-color:#f0f0f0;--navbar-color-hover:#ddd;--sidebar-color-hover:#dedede;--sidebar-color-focus:#fff;--category-background-color:#d5d5d5;--category-background-color-hover:silver;--toolbar-color:#333;--toolbar-background-color:#f0f0f0;--font-color:#454545;--medium-font-color:#555;--dark-font-color:#888;--input-background:transparent;--bright-font-color:#222;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fff;--terminal-color:var(--bright-font-color);--scrollbar:#888;--scrollbar-track:#bbb;--yellow:#16868f;--button-color:var(--primary)}.light pre[class*=language-]{border-color:var(--heading-font-color)}.light pre.language-terminal,.light table{border-color:var(--border-color)}.light blockquote{border-left-color:var(--border-color);border-color:var(--border-color) var(--border-color) var(--border-color) var(--primary)}.sepia{--primary:#6c71c4;--secondary:#cb4b16;--heading-font-color:#211806;--link-color:#332810;--border-color:#332810;--light-border-color:#6b4a00;--background-color:#ebdbb2;--sidebar-color:#fef0cf;--navbar-color:#f0d69a;--navbar-color-hover:#e2c175;--sidebar-color-hover:#eed18e;--sidebar-color-focus:#fff6e3;--category-background-color:#d8ba76;--category-background-color-hover:#c8a961;--toolbar-color:#332810;--toolbar-background-color:#fdf6e3;--font-color:#372e19;--medium-font-color:#6b4a00;--dark-font-color:#6b4a00;--input-background:transparent;--bright-font-color:#211806;--blockquote-background-color:rgba(0,0,0,.02);--blockquote-color:#111;--inline-code-background-color:rgba(0,0,0,.05);--inline-code-color:#111;--icon-filter:brightness(0.8);--dark-opacity:rgba(0,0,0,.03);--dark-opacity-hover:rgba(0,0,0,.1);--reverse:#fdf6e3;--terminal-color:var(--bright-font-color);--scrollbar:#a48337;--scrollbar-track:#c8a961;--yellow:#e59e32;--button-color:var(--primary)}.sepia .comments{background:#444;border-radius:8px;margin-bottom:2rem;padding:2rem}.sepia pre[class*=language-]{border-color:var(--heading-font-color)}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">Frontend Editing | Astrid Günther</title><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="me" href="https://fimidi.com/@astrid"/><link data-react-helmet="true" rel="me" href="https://github.com/astridx"/><link data-react-helmet="true" rel="me" href="https://codeberg.org/astrid"/><link data-react-helmet="true" rel="me" href="mailto:info@astrid-guenther.de"/><link data-react-helmet="true" rel="me" href="https://twitter.com/astridguenther"/><link data-react-helmet="true" rel="me" href="https://astrid-guenther.de"/><link data-react-helmet="true" rel="webmention" href="https://webmention.io/blog.astrid-guenther.de/webmention"/><link data-react-helmet="true" rel="pingback" href="https://webmention.io/blog.astrid-guenther.de/xmlrpc"/><meta data-react-helmet="true" name="description" content="Es gibt mehrere Gründe dafür, einem Anwender das Editieren im Frontend zu ermöglichen. Zum einen finden Nutzer das benutzerfreundlicher…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de/joomla-frontend-editing/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Frontend Editing"/><meta data-react-helmet="true" property="og:description" content="Es gibt mehrere Gründe dafür, einem Anwender das Editieren im Frontend zu ermöglichen. Zum einen finden Nutzer das benutzerfreundlicher…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Frontend Editing"/><meta data-react-helmet="true" name="twitter:description" content="Es gibt mehrere Gründe dafür, einem Anwender das Editieren im Frontend zu ermöglichen. Zum einen finden Nutzer das benutzerfreundlicher…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de","name":"Frontend Editing","alternateName":"Frontend Editing"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de/joomla-frontend-editing/","name":"Frontend Editing","image":"https://blog.astrid-guenther.de/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de","name":"Frontend Editing","alternateName":"Frontend Editing","headline":"Frontend Editing","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png"},"description":"Es gibt mehrere Gründe dafür, einem Anwender das Editieren im Frontend zu ermöglichen. Zum einen finden Nutzer das benutzerfreundlicher…"}]</script><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-2be39d1fe8ce13d9e39b.js"/><link as="script" rel="preload" href="/framework-a8bc927eb7481ca28d49.js"/><link as="script" rel="preload" href="/app-24df0ae8e19938884045.js"/><link as="script" rel="preload" href="/commons-711ca7686977bac14a85.js"/><link as="script" rel="preload" href="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-1a88224ac8abae772b65.js"/><link as="fetch" rel="preload" href="/page-data/joomla-frontend-editing/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/352937542.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article class="h-entry"><section class="p-author h-card hidden"><p><a class="u-url" href="https://blog.astrid-guenther.de/joomla-frontend-editing/">Astrid Günther</a>created by<img src="/static/me-f1824a760e002339b4da1b33f0f0b776.jpg" alt="Me" class="u-photo"/><span class="p-name" rel="me">Astrid Günther</span>in<span class="p-country-name">Germany</span>.</p><p><span class="p-note">Hi, I’m Astrid, webworker, writer and I like open-source.</span></p></section><header><div class="container"><div class="post-details"><div><div class="post-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:80px;height:80px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVQ4y61US09TQRRmoQsfWIRS+rBtWqWA1lCBlIeYVltKeTXVghJZGRWUaEJMCFEkujEmxBAfIWg0hLilFOXxCwyRR7e4ghLBhVSCaQNtYh+fuaPTXO69vbroSSZ35pw535zvu2cmCxm2LDpJJpOpLx1Ca7aPO08Bsp2JREJwI13TOHcvr0J2YDcSSflisRhJjMfjZDAWjUZ5oLwK6ebxCR+KjSb03OsV1GjJ74epogqeK1exvf2TB5oCpM46ZzMOSaRQ6wphtTlws6sbgbU1jLx5i4ZmN0wVlVBo9Nh3IBsfp2dSLNJW6PVNouhUKbTHi2CxOWC11+O83Yl8hRo2RyNKjCaodQa0ilXIBW1r74C55hyZM9QlUjkaWtwIhUIYHnmN7FwZNja+kTjNEfzLNNh3/yGh3D/wCFL5MfQPPIblQh2qa63ovttDNAyFwunbhvvHfmxtoarWAplKiydPB4nv8/wCdIUlZEzNzO7RLm0f0grfjY7B7mwitDV6Az7NzeHaja4/Gp4+A9elNgIm1PR7KqQnMhqWV55FOBzG9c5bKDNXI69AhfmFRYyOvcfhHCmCwaC4hpTu4pIfpeVmnCg2Yuj5S7S2dyBXpkSL24MXr4bR6LqIApUWvX0P8EuMMgWsb3LhaL4Sar0BOVIFoeidmETn7TuQ5MmhUOugN5zE/oNH8GFq+t99OPhsiCS6PZfxdX0dkb/XkDmQkWDc64NSo0eZuQargYB4H1JbXv6CnZ1dnrbUVlZW8X1zU/wuC/UUUzU7xiT/92vDTuQCcd8/NrBo22T0xc4U4G85p23Jpoab2QAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png 1x" /><img loading="lazy" width="80" height="80" srcset="/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png 1x" src="/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div>Written by<!-- --> <a class="u-url" href="https://astrid-guenther.de"><span>Astrid Günther</span></a> <!-- -->on<a href="https://blog.astrid-guenther.de/joomla-frontend-editing/"><time datetime="2021-01-22" class="dt-published"> <!-- -->2021-01-22</time></a></div><h1 class="p-name">Frontend Editing</h1><div class="post-meta"><div class="tags p-category"><a class="tag-CMS" href="/tags/cms">CMS</a><a class="tag-Joomla" href="/tags/joomla">Joomla</a></div></div><div class="post-syndication">Syndications:</div></div></header><div id="/joomla-frontend-editing/" class="container post-content e-content"><p>Es gibt mehrere Gründe dafür, einem Anwender das Editieren im Frontend zu ermöglichen. Zum einen finden Nutzer das benutzerfreundlicher. Oder, einem Administrator ist es wichtig, den Zugriff auf den Administrationsbereich nicht freizugeben. Deshalb statten wir unsere Komponente im nächsten Schritt mit der Möglichkeit aus, Items im Frontend zu bearbeiten.<!-- \index{Frontend Editing} --></p>
<blockquote>
<p>Für Ungeduldige: Sieh dir den geänderten Programmcode in der <a href="https://codeberg.org/astrid/j4examplecode/compare/t24b...t25">Diff-Ansicht</a>[^github.com/astridx/boilerplate/compare/t24b...t25] an und übernimm diese Änderungen in deine Entwicklungsversion.</p>
</blockquote>
<h2 id="schritt-für-schritt" style="position:relative;"><a href="#schritt-f%C3%BCr-schritt" aria-label="schritt für schritt permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schritt für Schritt</h2>
<h3 id="neue-dateien" style="position:relative;"><a href="#neue-dateien" aria-label="neue dateien permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Neue Dateien</h3>
<!-- prettier-ignore -->
<h4 id="administratorcomponents-com_foos-srcservicehtmliconphp" style="position:relative;"><a href="#administratorcomponents-com_foos-srcservicehtmliconphp" aria-label="administratorcomponents com_foos srcservicehtmliconphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>administrator/components/ com_foos/ src/Service/HTML/Icon.php</h4>
<p>Die folgende Datei enthält alle Informationen, um ein Icon, über das die Bearbeitung geöffnet wird, im Frontend anzuzeigen - vorausgesetzt, der Betrachter darf bearbeiten.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/f0d56fe96433a8f74c325c43dcf5ba10863a8222/src/administrator/components/com_foos/src/Service/HTML/Icon.php">administrator/components/com_foos/ src/Service/HTML/Icon.php</a><!-- \index{Service!Icon für Frontendbearbeitung} --></p>
<pre class="grvsc-container default-dark" data-language="php" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">// https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/administrator/components/com_foos/src/Service/HTML/Icon.php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@package</span><span class="mtk3">     Joomla.Site</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@subpackage</span><span class="mtk3">  com_foos</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@copyright</span><span class="mtk3">   Copyright (C) 2005 - 2018 Open Source Matters, Inc. All rights reserved.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@license</span><span class="mtk3">     GNU General Public License version 2 or later; see LICENSE.txt</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk4">namespace</span><span class="mtk1"> </span><span class="mtk10">FooNamespace\Component\Foos\Administrator\Service\HTML</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">\</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Application\</span><span class="mtk10">CMSApplication</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\HTML\</span><span class="mtk10">HTMLHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Text</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Layout\</span><span class="mtk10">LayoutHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Router\</span><span class="mtk10">Route</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Uri\</span><span class="mtk10">Uri</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> FooNamespace\Component\Foos\Site\Helper\</span><span class="mtk10">RouteHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\Registry\</span><span class="mtk10">Registry</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk3"> * Content Component HTML Helper</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">Icon</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk3">	 * The application</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    </span><span class="mtk10">CMSApplication</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">private</span><span class="mtk1"> </span><span class="mtk12">$application</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk3">	 * Service constructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk10">CMSApplication</span><span class="mtk3">  $application  The application</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">__construct</span><span class="mtk1">(</span><span class="mtk4">CMSApplication</span><span class="mtk1"> </span><span class="mtk12">$application</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">application</span><span class="mtk1"> = </span><span class="mtk12">$application</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk3">	 * Method to generate a link to the create item page for the given category</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">object</span><span class="mtk3">    $category  The category information</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk10">Registry</span><span class="mtk3">  $params    The item parameters</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">     $attribs   Optional attributes for the link</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">string</span><span class="mtk3">  The HTML markup for the create item link</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">static</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">create</span><span class="mtk1">(</span><span class="mtk12">$category</span><span class="mtk1">,</span><span class="mtk12"> $params</span><span class="mtk1">,</span><span class="mtk12"> $attribs</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$uri</span><span class="mtk1"> = </span><span class="mtk10">Uri</span><span class="mtk1">::</span><span class="mtk11">getInstance</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$url</span><span class="mtk1"> = </span><span class="mtk8">&#39;index.php?option=com_foos&amp;task=foo.add&amp;return=&#39;</span><span class="mtk1"> . </span><span class="mtk11">base64_encode</span><span class="mtk1">(</span><span class="mtk12">$uri</span><span class="mtk1">) . </span><span class="mtk8">&#39;&amp;id=0&amp;catid=&#39;</span><span class="mtk1"> . </span><span class="mtk12">$category</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$text</span><span class="mtk1"> = </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.content.icons.create&#39;</span><span class="mtk1">, </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;params&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk12">$params</span><span class="mtk1">, </span><span class="mtk8">&#39;legacy&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk4">false</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Add the button classes to the attribs array</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$attribs</span><span class="mtk1">[</span><span class="mtk8">&#39;class&#39;</span><span class="mtk1">]))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$attribs</span><span class="mtk1">[</span><span class="mtk8">&#39;class&#39;</span><span class="mtk1">] .= </span><span class="mtk8">&#39; btn btn-primary&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$attribs</span><span class="mtk1">[</span><span class="mtk8">&#39;class&#39;</span><span class="mtk1">] = </span><span class="mtk8">&#39;btn btn-primary&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$button</span><span class="mtk1"> = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;link&#39;</span><span class="mtk1">, </span><span class="mtk10">Route</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk12">$url</span><span class="mtk1">), </span><span class="mtk12">$text</span><span class="mtk1">, </span><span class="mtk12">$attribs</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$output</span><span class="mtk1"> = </span><span class="mtk8">&#39;&lt;span class=&quot;hasTooltip&quot; title=&quot;&#39;</span><span class="mtk1"> . </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;tooltipText&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;COM_FOOS_CREATE_FOO&#39;</span><span class="mtk1">) . </span><span class="mtk8">&#39;&quot;&gt;&#39;</span><span class="mtk1"> . </span><span class="mtk12">$button</span><span class="mtk1"> . </span><span class="mtk8">&#39;&lt;/span&gt;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$output</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"><span class="mtk3">	 * Display an edit icon for the foo.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"><span class="mtk3">	 * This icon will not display in a popup window, nor if the foo is trashed.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"><span class="mtk3">	 * Edit access checks must be performed in the calling code.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">object</span><span class="mtk3">    $foo  The foo information</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk10">Registry</span><span class="mtk3">  $params   The item parameters</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">     $attribs  Optional attributes for the link</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">boolean</span><span class="mtk3">   $legacy   True to use legacy images, false to use icomoon based graphic</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">string</span><span class="mtk3">   The HTML for the foo edit icon.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="101"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="102"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">static</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">edit</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">,</span><span class="mtk12"> $params</span><span class="mtk1">,</span><span class="mtk12"> $attribs</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">(),</span><span class="mtk12"> $legacy</span><span class="mtk1"> = </span><span class="mtk4">false</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="103"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="104"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$user</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="105"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$uri</span><span class="mtk1">  = </span><span class="mtk10">Uri</span><span class="mtk1">::</span><span class="mtk11">getInstance</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="106"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="107"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Ignore if in a popup window.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="108"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$params</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">$params</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;popup&#39;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="109"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="110"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="111"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="112"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="113"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Ignore if the state is negative (trashed).</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="114"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">published</span><span class="mtk1"> &lt; </span><span class="mtk7">0</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="115"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="116"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="117"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="118"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="119"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Set the link class</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="120"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$attribs</span><span class="mtk1">[</span><span class="mtk8">&#39;class&#39;</span><span class="mtk1">] = </span><span class="mtk8">&#39;dropdown-item&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="121"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="122"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Show checked_out icon if the foo is checked out by a different user</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="123"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">property_exists</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">, </span><span class="mtk8">&#39;checked_out&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="124"></span><span class="grvsc-source"><span class="mtk1">			&amp;&amp; </span><span class="mtk11">property_exists</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">, </span><span class="mtk8">&#39;checked_out_time&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="125"></span><span class="grvsc-source"><span class="mtk1">			&amp;&amp; </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">checked_out</span><span class="mtk1"> &gt; </span><span class="mtk7">0</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="126"></span><span class="grvsc-source"><span class="mtk1">			&amp;&amp; </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">checked_out</span><span class="mtk1"> != </span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="127"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="128"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$checkoutUser</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">checked_out</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="129"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$date</span><span class="mtk1">         = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;date&#39;</span><span class="mtk1">, </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">checked_out_time</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="130"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$tooltip</span><span class="mtk1">      = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JLIB_HTML_CHECKED_OUT&#39;</span><span class="mtk1">) . </span><span class="mtk8">&#39; :: &#39;</span><span class="mtk1"> . </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">sprintf</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_CHECKED_OUT_BY&#39;</span><span class="mtk1">, </span><span class="mtk12">$checkoutUser</span><span class="mtk1">-&gt;</span><span class="mtk12">name</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="131"></span><span class="grvsc-source"><span class="mtk1">				. </span><span class="mtk8">&#39; &lt;br /&gt; &#39;</span><span class="mtk1"> . </span><span class="mtk12">$date</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="132"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="133"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$text</span><span class="mtk1"> = </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.content.icons.edit_lock&#39;</span><span class="mtk1">, </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;tooltip&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk12">$tooltip</span><span class="mtk1">, </span><span class="mtk8">&#39;legacy&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk12">$legacy</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="134"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="135"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$output</span><span class="mtk1"> = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;link&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;#&#39;</span><span class="mtk1">, </span><span class="mtk12">$text</span><span class="mtk1">, </span><span class="mtk12">$attribs</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="136"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="137"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$output</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="138"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="139"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="140"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">slug</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="141"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="142"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">slug</span><span class="mtk1"> = </span><span class="mtk8">&quot;&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="143"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="144"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="145"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$fooUrl</span><span class="mtk1"> = </span><span class="mtk10">RouteHelper</span><span class="mtk1">::</span><span class="mtk11">getFooRoute</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">slug</span><span class="mtk1">, </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">catid</span><span class="mtk1">, </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">language</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="146"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$url</span><span class="mtk1">        = </span><span class="mtk12">$fooUrl</span><span class="mtk1"> . </span><span class="mtk8">&#39;&amp;task=foo.edit&amp;id=&#39;</span><span class="mtk1"> . </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1"> . </span><span class="mtk8">&#39;&amp;return=&#39;</span><span class="mtk1"> . </span><span class="mtk11">base64_encode</span><span class="mtk1">(</span><span class="mtk12">$uri</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="147"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="148"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">published</span><span class="mtk1"> == </span><span class="mtk7">0</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="149"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="150"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$overlib</span><span class="mtk1"> = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JUNPUBLISHED&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="151"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="152"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="153"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="154"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$overlib</span><span class="mtk1"> = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JPUBLISHED&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="155"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="156"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="157"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">created</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="158"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="159"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$date</span><span class="mtk1"> = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;date&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;now&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="160"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="161"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="162"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="163"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$date</span><span class="mtk1"> = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;date&#39;</span><span class="mtk1">, </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">created</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="164"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="165"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="166"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$created_by_alias</span><span class="mtk1">) &amp;&amp; !</span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="167"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="168"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$author</span><span class="mtk1"> = </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="169"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="170"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="171"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="172"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$author</span><span class="mtk1"> = </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by_alias</span><span class="mtk1"> ?: </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by</span><span class="mtk1">)-&gt;</span><span class="mtk12">name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="173"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="174"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="175"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$overlib</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;lt;br /&amp;gt;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="176"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$overlib</span><span class="mtk1"> .= </span><span class="mtk12">$date</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="177"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$overlib</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;lt;br /&amp;gt;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="178"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$overlib</span><span class="mtk1"> .= </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">sprintf</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_WRITTEN_BY&#39;</span><span class="mtk1">, </span><span class="mtk11">htmlspecialchars</span><span class="mtk1">(</span><span class="mtk12">$author</span><span class="mtk1">, ENT_COMPAT, </span><span class="mtk8">&#39;UTF-8&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="179"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="180"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$icon</span><span class="mtk1"> = </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">published</span><span class="mtk1"> ? </span><span class="mtk8">&#39;edit&#39;</span><span class="mtk1"> : </span><span class="mtk8">&#39;eye-slash&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="181"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="182"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">strtotime</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">publish_up</span><span class="mtk1">) &gt; </span><span class="mtk11">strtotime</span><span class="mtk1">(</span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getDate</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="183"></span><span class="grvsc-source"><span class="mtk1">			|| ((</span><span class="mtk11">strtotime</span><span class="mtk1">(</span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">publish_down</span><span class="mtk1">) &lt; </span><span class="mtk11">strtotime</span><span class="mtk1">(</span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getDate</span><span class="mtk1">())) &amp;&amp; </span><span class="mtk12">$foo</span><span class="mtk1">-&gt;</span><span class="mtk12">publish_down</span><span class="mtk1"> != </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getDbo</span><span class="mtk1">()-&gt;</span><span class="mtk11">getNullDate</span><span class="mtk1">()))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="184"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="185"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$icon</span><span class="mtk1"> = </span><span class="mtk8">&#39;eye-slash&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="186"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="187"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="188"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$text</span><span class="mtk1"> = </span><span class="mtk8">&#39;&lt;span class=&quot;hasTooltip fa fa-&#39;</span><span class="mtk1"> . </span><span class="mtk12">$icon</span><span class="mtk1"> . </span><span class="mtk8">&#39;&quot; title=&quot;&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="189"></span><span class="grvsc-source"><span class="mtk1">			. </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">tooltipText</span><span class="mtk1">(</span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_EDIT_FOO&#39;</span><span class="mtk1">), </span><span class="mtk12">$overlib</span><span class="mtk1">, </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk7">0</span><span class="mtk1">) . </span><span class="mtk8">&#39;&quot;&gt;&lt;/span&gt; &#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="190"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$text</span><span class="mtk1"> .= </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JGLOBAL_EDIT&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="191"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="192"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$attribs</span><span class="mtk1">[</span><span class="mtk8">&#39;title&#39;</span><span class="mtk1">] = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_EDIT_FOO&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="193"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$output</span><span class="mtk1">           = </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;link&#39;</span><span class="mtk1">, </span><span class="mtk10">Route</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk12">$url</span><span class="mtk1">), </span><span class="mtk12">$text</span><span class="mtk1">, </span><span class="mtk12">$attribs</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="194"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="195"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$output</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="196"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="197"></span><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="198"></span><span class="grvsc-source"></span></span></code></pre>
<!-- \index{slug} -->
<!-- prettier-ignore -->
<h4 id="componentscom_foos-formsfooxml" style="position:relative;"><a href="#componentscom_foos-formsfooxml" aria-label="componentscom_foos formsfooxml permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ forms/foo.xml</h4>
<p>Wir passen die XML Datei an, die Joomla verwendet, um das Formular aufzubauen.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/ea90f526176d4dfd3ca550fafd1d201599bb1a39/src/components/com_foos/forms/foo.xml">components/com_foos/ forms/foo.xml</a></p>
<pre class="grvsc-container default-dark" data-language="xml" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/forms/foo.xml --&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk12"> encoding</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk17">?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">form</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">fieldset</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">addruleprefix</span><span class="mtk1">=</span><span class="mtk8">&quot;FooNamespace\Component\Foos\Administrator\Rule&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">addfieldprefix</span><span class="mtk1">=</span><span class="mtk8">&quot;FooNamespace\Component\Foos\Administrator\Field&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;id&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JGLOBAL_FIELD_ID_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">default</span><span class="mtk1">=</span><span class="mtk8">&quot;0&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">class</span><span class="mtk1">=</span><span class="mtk8">&quot;readonly&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">readonly</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;name&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">validate</span><span class="mtk1">=</span><span class="mtk8">&quot;Letter&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">class</span><span class="mtk1">=</span><span class="mtk8">&quot;validate-letter&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOOS_FIELD_NAME_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;40&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">required</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk1">		 </span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;alias&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_ALIAS_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;45&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">hint</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_ALIAS_PLACEHOLDER&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">fieldset</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">fieldset</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;language&quot;</span><span class="mtk1"> </span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_LANGUAGE_LABEL&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;language&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;contentlanguage&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_LANGUAGE_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;*&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JALL</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;/</span><span class="mtk4">field</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">fieldset</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">fieldset</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;publishing&quot;</span><span class="mtk1"> </span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOO_FIELDSET_PUBLISHING&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;featured&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;list&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFEATURED&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">default</span><span class="mtk1">=</span><span class="mtk8">&quot;0&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">validate</span><span class="mtk1">=</span><span class="mtk8">&quot;options&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;0&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JNO</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JYES</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;/</span><span class="mtk4">field</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;published&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;list&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JSTATUS&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">default</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">id</span><span class="mtk1">=</span><span class="mtk8">&quot;published&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">class</span><span class="mtk1">=</span><span class="mtk8">&quot;custom-select-color-state&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JPUBLISHED</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;0&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JUNPUBLISHED</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;2&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JARCHIVED</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;-2&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JTRASHED</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;/</span><span class="mtk4">field</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;publish_up&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;calendar&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOOS_FIELD_PUBLISH_UP_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">translateformat</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">showtime</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;22&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">filter</span><span class="mtk1">=</span><span class="mtk8">&quot;user_utc&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;publish_down&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;calendar&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOOS_FIELD_PUBLISH_DOWN_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">translateformat</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">showtime</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;22&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">filter</span><span class="mtk1">=</span><span class="mtk8">&quot;user_utc&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;catid&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;categoryedit&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JCATEGORY&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">extension</span><span class="mtk1">=</span><span class="mtk8">&quot;com_foos&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">addfieldprefix</span><span class="mtk1">=</span><span class="mtk8">&quot;Joomla\Component\Categories\Administrator\Field&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">required</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">default</span><span class="mtk1">=</span><span class="mtk8">&quot;&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;access&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="101"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;accesslevel&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="102"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_ACCESS_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="103"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">size</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="104"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="105"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="106"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="107"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;checked_out&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="108"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;hidden&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="109"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">filter</span><span class="mtk1">=</span><span class="mtk8">&quot;unset&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="110"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="111"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="112"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="113"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;checked_out_time&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="114"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;hidden&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="115"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">filter</span><span class="mtk1">=</span><span class="mtk8">&quot;unset&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="116"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="117"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">fieldset</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="118"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">fields</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;params&quot;</span><span class="mtk1"> </span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JGLOBAL_FIELDSET_DISPLAY_OPTIONS&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="119"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">fieldset</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;display&quot;</span><span class="mtk1"> </span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JGLOBAL_FIELDSET_DISPLAY_OPTIONS&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="120"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="121"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;show_name&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="122"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;list&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="123"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOOS_FIELD_PARAMS_NAME_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="124"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">useglobal</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="125"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="126"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;0&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JHIDE</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="127"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk17">&lt;</span><span class="mtk4">option</span><span class="mtk1"> </span><span class="mtk12">value</span><span class="mtk1">=</span><span class="mtk8">&quot;1&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">JSHOW</span><span class="mtk17">&lt;/</span><span class="mtk4">option</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="128"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;/</span><span class="mtk4">field</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="129"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="130"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">&lt;</span><span class="mtk4">field</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="131"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;foos_layout&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="132"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;componentlayout&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="133"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">label</span><span class="mtk1">=</span><span class="mtk8">&quot;JFIELD_ALT_LAYOUT_LABEL&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="134"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">class</span><span class="mtk1">=</span><span class="mtk8">&quot;custom-select&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="135"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">extension</span><span class="mtk1">=</span><span class="mtk8">&quot;com_foos&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="136"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">view</span><span class="mtk1">=</span><span class="mtk8">&quot;foo&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="137"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">useglobal</span><span class="mtk1">=</span><span class="mtk8">&quot;true&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="138"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="139"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;/</span><span class="mtk4">fieldset</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="140"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">fields</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="141"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">form</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="142"></span><span class="grvsc-source"></span></span></code></pre>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-srccontrollerfoocontrollerphp" style="position:relative;"><a href="#componentscom_foos-srccontrollerfoocontrollerphp" aria-label="componentscom_foos srccontrollerfoocontrollerphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ src/Controller/FooController.php</h4>
<p>Die Datei <code class="language-text">components/com_foos/ src/Controller/FooController.php</code> enhält die Logik für die Bearbeitung im Formular.</p>
<blockquote>
<p>Beachte die Funktion <code class="language-text">save</code>. Diese ist im <code class="language-text">FormController</code> nicht üblich, weil Joomla alles für dich übernimmt. Da beim Erstellen eines Elementes die ID erst erstellt wird und deshalb nicht bekannt ist, leitet Joomla nach dem Erstellen zur Übersichtsseite weiter. Diese haben wir im Frontend noch nicht erstellt. Deshalb habe ich diese Funktion hier abgeändert.</p>
</blockquote>
<p><a href="https://github.com/astridx/boilerplate/blob/173247856759bdda2f48df505f02574d19decdc9/src/components/com_foos/src/Controller/FooController.php">components/com_foos/ src/Controller/FooController.php</a></p>
<pre class="grvsc-container default-dark" data-language="php" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">// https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/src/Controller/FooController.php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@package</span><span class="mtk3">     Joomla.Site</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@subpackage</span><span class="mtk3">  com_foos</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@copyright</span><span class="mtk3">   Copyright (C) 2005 - 2019 Open Source Matters, Inc. All rights reserved.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@license</span><span class="mtk3">     GNU General Public License version 2 or later; see LICENSE.txt</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk4">namespace</span><span class="mtk1"> </span><span class="mtk10">FooNamespace\Component\Foos\Site\Controller</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">\</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\MVC\Controller\</span><span class="mtk10">FormController</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Router\</span><span class="mtk10">Route</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Uri\</span><span class="mtk10">Uri</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\Utilities\</span><span class="mtk10">ArrayHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk3"> * Controller for single foo view</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">FooController</span><span class="mtk1"> </span><span class="mtk4">extends</span><span class="mtk1"> </span><span class="mtk10">FormController</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk3">	 * The URL view item variable.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    </span><span class="mtk4">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$view_item</span><span class="mtk1"> = </span><span class="mtk8">&#39;form&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk3">	 * Method to get a model object, loading it if required.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $name    The model name. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $prefix  The class prefix. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">   $config  Configuration array for model. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  \Joomla\CMS\MVC\Model\</span><span class="mtk10">BaseDatabaseModel</span><span class="mtk3">  The model.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getModel</span><span class="mtk1">(</span><span class="mtk12">$name</span><span class="mtk1"> = </span><span class="mtk8">&#39;form&#39;</span><span class="mtk1">,</span><span class="mtk12"> $prefix</span><span class="mtk1"> = </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">,</span><span class="mtk12"> $config</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;ignore_request&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk4">true</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">getModel</span><span class="mtk1">(</span><span class="mtk12">$name</span><span class="mtk1">, </span><span class="mtk12">$prefix</span><span class="mtk1">, </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;ignore_request&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk4">false</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk3">	 * Method override to check if you can add a new record.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">  $data  An array of input data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">boolean</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">allowAdd</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$categoryId</span><span class="mtk1"> = </span><span class="mtk10">ArrayHelper</span><span class="mtk1">::</span><span class="mtk11">getValue</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">, </span><span class="mtk8">&#39;catid&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getInt</span><span class="mtk1">(</span><span class="mtk8">&#39;catid&#39;</span><span class="mtk1">), </span><span class="mtk8">&#39;int&#39;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$user</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk3">// If the category has been passed in the data or URL check it.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">authorise</span><span class="mtk1">(</span><span class="mtk8">&#39;core.create&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;com_foos.category.&#39;</span><span class="mtk1"> . </span><span class="mtk12">$categoryId</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// In the absence of better information, revert to the component permissions.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">allowAdd</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk3">	 * Method override to check if you can edit an existing record.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">   $data  An array of input data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $key   The name of the key for the primary key; default is id.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">boolean</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">allowEdit</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">(),</span><span class="mtk12"> $key</span><span class="mtk1"> = </span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$recordId</span><span class="mtk1"> = (</span><span class="mtk4">int</span><span class="mtk1">) </span><span class="mtk11">isset</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">[</span><span class="mtk12">$key</span><span class="mtk1">]) ? </span><span class="mtk12">$data</span><span class="mtk1">[</span><span class="mtk12">$key</span><span class="mtk1">] : </span><span class="mtk7">0</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk12">$recordId</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Need to do a lookup from the model.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$record</span><span class="mtk1">     = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getModel</span><span class="mtk1">()-&gt;</span><span class="mtk11">getItem</span><span class="mtk1">(</span><span class="mtk12">$recordId</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$categoryId</span><span class="mtk1"> = (</span><span class="mtk4">int</span><span class="mtk1">) </span><span class="mtk12">$record</span><span class="mtk1">-&gt;</span><span class="mtk12">catid</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$categoryId</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$user</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk3">// The category has been set. Check the category permissions.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="101"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">authorise</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">option</span><span class="mtk1"> . </span><span class="mtk8">&#39;.category.&#39;</span><span class="mtk1"> . </span><span class="mtk12">$categoryId</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="102"></span><span class="grvsc-source"><span class="mtk1">			{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="103"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">true</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="104"></span><span class="grvsc-source"><span class="mtk1">			}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="105"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="106"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk3">// Fallback on edit.own.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="107"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">authorise</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit.own&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">option</span><span class="mtk1"> . </span><span class="mtk8">&#39;.category.&#39;</span><span class="mtk1"> . </span><span class="mtk12">$categoryId</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="108"></span><span class="grvsc-source"><span class="mtk1">			{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="109"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk15">return</span><span class="mtk1"> (</span><span class="mtk12">$record</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by</span><span class="mtk1"> == </span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="110"></span><span class="grvsc-source"><span class="mtk1">			}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="111"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="112"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="113"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="114"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="115"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Since there is no asset tracking, revert to the component permissions.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="116"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">allowEdit</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">, </span><span class="mtk12">$key</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="117"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="118"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="119"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="120"></span><span class="grvsc-source"><span class="mtk3">	 * Method to save a record.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="121"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="122"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $key     The name of the primary key of the URL variable.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="123"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $urlVar  The name of the URL variable if different from the primary key (sometimes required to avoid router collisions).</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="124"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="125"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">boolean</span><span class="mtk3">  True if successful, false otherwise.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="126"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="127"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="128"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="129"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">$key</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">,</span><span class="mtk12"> $urlVar</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="130"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="131"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$result</span><span class="mtk1"> = </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">$key</span><span class="mtk1">, </span><span class="mtk12">$urlVar</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="132"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="133"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setRedirect</span><span class="mtk1">(</span><span class="mtk10">Route</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getReturnPage</span><span class="mtk1">(), </span><span class="mtk4">false</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="134"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="135"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$result</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="136"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="137"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="138"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="139"></span><span class="grvsc-source"><span class="mtk3">	 * Method to cancel an edit.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="140"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="141"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $key  The name of the primary key of the URL variable.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="142"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="143"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">boolean</span><span class="mtk3">  True if access level checks pass, false otherwise.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="144"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="145"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="146"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="147"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">cancel</span><span class="mtk1">(</span><span class="mtk12">$key</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="148"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="149"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$result</span><span class="mtk1"> = </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">cancel</span><span class="mtk1">(</span><span class="mtk12">$key</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="150"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="151"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setRedirect</span><span class="mtk1">(</span><span class="mtk10">Route</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getReturnPage</span><span class="mtk1">(), </span><span class="mtk4">false</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="152"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="153"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$result</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="154"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="155"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="156"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="157"></span><span class="grvsc-source"><span class="mtk3">	 * Gets the URL arguments to append to an item redirect.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="158"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="159"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">integer</span><span class="mtk3">  $recordId  The primary key id for the item.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="160"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">   $urlVar    The name of the URL variable for the id.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="161"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="162"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">string</span><span class="mtk3">    The arguments to append to the redirect URL.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="163"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="164"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="165"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="166"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getRedirectToItemAppend</span><span class="mtk1">(</span><span class="mtk12">$recordId</span><span class="mtk1"> = </span><span class="mtk7">0</span><span class="mtk1">,</span><span class="mtk12"> $urlVar</span><span class="mtk1"> = </span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="167"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="168"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Need to override the parent method completely.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="169"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$tmpl</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;tmpl&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="170"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="171"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$append</span><span class="mtk1"> = </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="172"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="173"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Setup redirect info.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="174"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$tmpl</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="175"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="176"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;tmpl=&#39;</span><span class="mtk1"> . </span><span class="mtk12">$tmpl</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="177"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="178"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="179"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;layout=edit&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="180"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="181"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;&#39;</span><span class="mtk1"> . </span><span class="mtk12">$urlVar</span><span class="mtk1"> . </span><span class="mtk8">&#39;=&#39;</span><span class="mtk1"> . (</span><span class="mtk4">int</span><span class="mtk1">) </span><span class="mtk12">$recordId</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="182"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="183"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$itemId</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getInt</span><span class="mtk1">(</span><span class="mtk8">&#39;Itemid&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="184"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$return</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getReturnPage</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="185"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$catId</span><span class="mtk1">  = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getInt</span><span class="mtk1">(</span><span class="mtk8">&#39;catid&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="186"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="187"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$itemId</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="188"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="189"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;Itemid=&#39;</span><span class="mtk1"> . </span><span class="mtk12">$itemId</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="190"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="191"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="192"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$catId</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="193"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="194"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;catid=&#39;</span><span class="mtk1"> . </span><span class="mtk12">$catId</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="195"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="196"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="197"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$return</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="198"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="199"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$append</span><span class="mtk1"> .= </span><span class="mtk8">&#39;&amp;return=&#39;</span><span class="mtk1"> . </span><span class="mtk11">base64_encode</span><span class="mtk1">(</span><span class="mtk12">$return</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="200"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="201"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="202"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$append</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="203"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="204"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="205"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="206"></span><span class="grvsc-source"><span class="mtk3">	 * Get the return URL.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="207"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="208"></span><span class="grvsc-source"><span class="mtk3">	 * If a &quot;return&quot; variable has been passed in the request</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="209"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="210"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">string</span><span class="mtk3">    The return URL.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="211"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="212"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="213"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="214"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getReturnPage</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="215"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="216"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$return</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;return&#39;</span><span class="mtk1">, </span><span class="mtk4">null</span><span class="mtk1">, </span><span class="mtk8">&#39;base64&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="217"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="218"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk12">$return</span><span class="mtk1">) || !</span><span class="mtk10">Uri</span><span class="mtk1">::</span><span class="mtk11">isInternal</span><span class="mtk1">(</span><span class="mtk11">base64_decode</span><span class="mtk1">(</span><span class="mtk12">$return</span><span class="mtk1">)))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="219"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="220"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk10">Uri</span><span class="mtk1">::</span><span class="mtk11">base</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="221"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="222"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="223"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk11">base64_decode</span><span class="mtk1">(</span><span class="mtk12">$return</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="224"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="225"></span><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="226"></span><span class="grvsc-source"></span></span></code></pre>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-srcmodelformmodelphp" style="position:relative;"><a href="#componentscom_foos-srcmodelformmodelphp" aria-label="componentscom_foos srcmodelformmodelphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ src/Model/FormModel.php</h4>
<p>Die Datei <code class="language-text">components/com_foos/ src/Model/FormModel.php</code> organisiert alle notwendigen Daten für die Bearbeitung im Formular.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/8874f61785a485edc39b93d3de28aeebbf972c06/src/components/com_foos/src/Model/FormModel.php">components/com_foos/ src/Model/FormModel.php</a></p>
<pre class="grvsc-container default-dark" data-language="php" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">// https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/src/Model/FormModel.php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@package</span><span class="mtk3">     Joomla.Site</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@subpackage</span><span class="mtk3">  com_foos</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@copyright</span><span class="mtk3">   Copyright (C) 2005 - 2018 Open Source Matters, Inc. All rights reserved.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@license</span><span class="mtk3">     GNU General Public License version 2 or later; see LICENSE.txt</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk4">namespace</span><span class="mtk1"> </span><span class="mtk10">FooNamespace\Component\Foos\Site\Model</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">\</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Form\</span><span class="mtk10">Form</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Associations</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Multilanguage</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\Registry\</span><span class="mtk10">Registry</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\Utilities\</span><span class="mtk10">ArrayHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk3"> * Foo Component Foo Model</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">FormModel</span><span class="mtk1"> </span><span class="mtk4">extends</span><span class="mtk1"> \FooNamespace\Component\Foos\Administrator\Model\</span><span class="mtk10">FooModel</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk3">	 * Model typeAlias string. Used for version history.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">  </span><span class="mtk4">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk12">$typeAlias</span><span class="mtk1"> = </span><span class="mtk8">&#39;com_foos.foo&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk3">	 * Name of the form</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3"> </span><span class="mtk4">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$formName</span><span class="mtk1"> = </span><span class="mtk8">&#39;form&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk3">	 * Method to get the row form.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">    $data      Data for the form.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">boolean</span><span class="mtk3">  $loadData  True if the form is to load its own data (default case), false if not.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  \</span><span class="mtk10">JForm</span><span class="mtk3">|</span><span class="mtk4">boolean</span><span class="mtk3">  A \JForm object on success, false on failure</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getForm</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">(),</span><span class="mtk12"> $loadData</span><span class="mtk1"> = </span><span class="mtk4">true</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$form</span><span class="mtk1"> = </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">getForm</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">, </span><span class="mtk12">$loadData</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Prevent messing with article language and category when editing existing foo with associations</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$id</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getState</span><span class="mtk1">(</span><span class="mtk8">&#39;foo.id&#39;</span><span class="mtk1">) &amp;&amp; </span><span class="mtk10">Associations</span><span class="mtk1">::</span><span class="mtk11">isEnabled</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$associations</span><span class="mtk1"> = </span><span class="mtk10">Associations</span><span class="mtk1">::</span><span class="mtk11">getAssociations</span><span class="mtk1">(</span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;#__foos_details&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;com_foos.item&#39;</span><span class="mtk1">, </span><span class="mtk12">$id</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk3">// Make fields read only</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk12">$associations</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk1">			{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">$form</span><span class="mtk1">-&gt;</span><span class="mtk11">setFieldAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;language&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;readonly&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;true&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">$form</span><span class="mtk1">-&gt;</span><span class="mtk11">setFieldAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;language&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;filter&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;unset&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk1">			}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$form</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk3">	 * Method to get foo data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">integer</span><span class="mtk3">  $itemId  The id of the foo.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">mixed</span><span class="mtk3">  Foo item data object on success, false on failure.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3">  </span><span class="mtk10">Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getItem</span><span class="mtk1">(</span><span class="mtk12">$itemId</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$itemId</span><span class="mtk1"> = (</span><span class="mtk4">int</span><span class="mtk1">) (!</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk12">$itemId</span><span class="mtk1">)) ? </span><span class="mtk12">$itemId</span><span class="mtk1"> : </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getState</span><span class="mtk1">(</span><span class="mtk8">&#39;foo.id&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Get a row instance.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$table</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getTable</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Attempt to load the row.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">try</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk12">$table</span><span class="mtk1">-&gt;</span><span class="mtk11">load</span><span class="mtk1">(</span><span class="mtk12">$itemId</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"><span class="mtk1">			{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk1">			}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">catch</span><span class="mtk1"> (</span><span class="mtk10">Exception</span><span class="mtk1"> </span><span class="mtk12">$e</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="101"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getApplication</span><span class="mtk1">()-&gt;</span><span class="mtk11">enqueueMessage</span><span class="mtk1">(</span><span class="mtk12">$e</span><span class="mtk1">-&gt;</span><span class="mtk11">getMessage</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="102"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="103"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="104"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="105"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="106"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$properties</span><span class="mtk1"> = </span><span class="mtk12">$table</span><span class="mtk1">-&gt;</span><span class="mtk11">getProperties</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="107"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$value</span><span class="mtk1">      = </span><span class="mtk10">ArrayHelper</span><span class="mtk1">::</span><span class="mtk11">toObject</span><span class="mtk1">(</span><span class="mtk12">$properties</span><span class="mtk1">, </span><span class="mtk8">&#39;JObject&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="108"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="109"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Convert field to Registry.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="110"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$value</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">Registry</span><span class="mtk1">(</span><span class="mtk12">$value</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="111"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="112"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">$value</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="113"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="114"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="115"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="116"></span><span class="grvsc-source"><span class="mtk3">	 * Get the return URL.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="117"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="118"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">string</span><span class="mtk3">  The return URL.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="119"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="120"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="121"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="122"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getReturnPage</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="123"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="124"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk11">base64_encode</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getState</span><span class="mtk1">(</span><span class="mtk8">&#39;return_page&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="125"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="126"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="127"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="128"></span><span class="grvsc-source"><span class="mtk3">	 * Method to save the form data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="129"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="130"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">  $data  The form data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="131"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="132"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">boolean</span><span class="mtk3">  True on success.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="133"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="134"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3"> </span><span class="mtk10">Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="135"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="136"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="137"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="138"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="139"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Associations are not edited in frontend ATM so we have to inherit them</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="140"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk10">Associations</span><span class="mtk1">::</span><span class="mtk11">isEnabled</span><span class="mtk1">() &amp;&amp; !</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">[</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">])</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="141"></span><span class="grvsc-source"><span class="mtk1">			&amp;&amp; </span><span class="mtk12">$associations</span><span class="mtk1"> = </span><span class="mtk10">Associations</span><span class="mtk1">::</span><span class="mtk11">getAssociations</span><span class="mtk1">(</span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;#__foos_details&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;com_foos.item&#39;</span><span class="mtk1">, </span><span class="mtk12">$data</span><span class="mtk1">[</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">]))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="142"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="143"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">foreach</span><span class="mtk1"> (</span><span class="mtk12">$associations</span><span class="mtk1"> as </span><span class="mtk12">$tag</span><span class="mtk1"> =&gt; </span><span class="mtk12">$associated</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="144"></span><span class="grvsc-source"><span class="mtk1">			{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="145"></span><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk12">$associations</span><span class="mtk1">[</span><span class="mtk12">$tag</span><span class="mtk1">] = (</span><span class="mtk4">int</span><span class="mtk1">) </span><span class="mtk12">$associated</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="146"></span><span class="grvsc-source"><span class="mtk1">			}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="147"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="148"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$data</span><span class="mtk1">[</span><span class="mtk8">&#39;associations&#39;</span><span class="mtk1">] = </span><span class="mtk12">$associations</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="149"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="150"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="151"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">$data</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="152"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="153"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="154"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="155"></span><span class="grvsc-source"><span class="mtk3">	 * Method to auto-populate the model state.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="156"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="157"></span><span class="grvsc-source"><span class="mtk3">	 * Note. Calling getState in this method will result in recursion.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="158"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="159"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="160"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="161"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3">  </span><span class="mtk10">Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="162"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="163"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="164"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="165"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">populateState</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="166"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="167"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$app</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getApplication</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="168"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="169"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Load state from the request.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="170"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$pk</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getInt</span><span class="mtk1">(</span><span class="mtk8">&#39;id&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="171"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setState</span><span class="mtk1">(</span><span class="mtk8">&#39;foo.id&#39;</span><span class="mtk1">, </span><span class="mtk12">$pk</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="172"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="173"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setState</span><span class="mtk1">(</span><span class="mtk8">&#39;foo.catid&#39;</span><span class="mtk1">, </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getInt</span><span class="mtk1">(</span><span class="mtk8">&#39;catid&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="174"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="175"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$return</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;return&#39;</span><span class="mtk1">, </span><span class="mtk4">null</span><span class="mtk1">, </span><span class="mtk8">&#39;base64&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="176"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setState</span><span class="mtk1">(</span><span class="mtk8">&#39;return_page&#39;</span><span class="mtk1">, </span><span class="mtk11">base64_decode</span><span class="mtk1">(</span><span class="mtk12">$return</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="177"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="178"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Load the parameters.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="179"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$params</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">getParams</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="180"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setState</span><span class="mtk1">(</span><span class="mtk8">&#39;params&#39;</span><span class="mtk1">, </span><span class="mtk12">$params</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="181"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="182"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">setState</span><span class="mtk1">(</span><span class="mtk8">&#39;layout&#39;</span><span class="mtk1">, </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">-&gt;</span><span class="mtk11">getString</span><span class="mtk1">(</span><span class="mtk8">&#39;layout&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="183"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="184"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="185"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="186"></span><span class="grvsc-source"><span class="mtk3">	 * Allows preprocessing of the JForm object.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="187"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="188"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk10">Form</span><span class="mtk3">    $form   The form object</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="189"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">   $data   The data to be merged into the form object</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="190"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $group  The plugin group to be executed</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="191"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="192"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk10">Form</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="193"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="194"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="195"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="196"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">preprocessForm</span><span class="mtk1">(</span><span class="mtk4">Form</span><span class="mtk1"> </span><span class="mtk12">$form</span><span class="mtk1">,</span><span class="mtk12"> $data</span><span class="mtk1">,</span><span class="mtk12"> $group</span><span class="mtk1"> = </span><span class="mtk8">&#39;foo&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="197"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="198"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk10">Multilanguage</span><span class="mtk1">::</span><span class="mtk11">isEnabled</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="199"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="200"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$form</span><span class="mtk1">-&gt;</span><span class="mtk11">setFieldAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;language&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;type&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;hidden&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="201"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$form</span><span class="mtk1">-&gt;</span><span class="mtk11">setFieldAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;language&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;default&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;*&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="202"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="203"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="204"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">preprocessForm</span><span class="mtk1">(</span><span class="mtk12">$form</span><span class="mtk1">, </span><span class="mtk12">$data</span><span class="mtk1">, </span><span class="mtk12">$group</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="205"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="206"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="207"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="208"></span><span class="grvsc-source"><span class="mtk3">	 * Method to get a table object, load it if necessary.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="209"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="210"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $name     The table name. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="211"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $prefix   The class prefix. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="212"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">array</span><span class="mtk3">   $options  Configuration array for model. Optional.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="213"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="214"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk10">Table</span><span class="mtk3">  A Table object</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="215"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="216"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">   __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="217"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3">  </span><span class="mtk10">\Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="218"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="219"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getTable</span><span class="mtk1">(</span><span class="mtk12">$name</span><span class="mtk1"> = </span><span class="mtk8">&#39;Foo&#39;</span><span class="mtk1">,</span><span class="mtk12"> $prefix</span><span class="mtk1"> = </span><span class="mtk8">&#39;Administrator&#39;</span><span class="mtk1">,</span><span class="mtk12"> $options</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="220"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="221"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">getTable</span><span class="mtk1">(</span><span class="mtk12">$name</span><span class="mtk1">, </span><span class="mtk12">$prefix</span><span class="mtk1">, </span><span class="mtk12">$options</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="222"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="223"></span><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="224"></span><span class="grvsc-source"></span></span></code></pre>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-srcviewformhtmlviewphp" style="position:relative;"><a href="#componentscom_foos-srcviewformhtmlviewphp" aria-label="componentscom_foos srcviewformhtmlviewphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ src/View/Form/HtmlView.php</h4>
<p>Die Datei <code class="language-text">components/com_foos/ src/View/Form/HtmlView.php</code> holt alle notwendigen Daten und gibt diese an die Templatedatei <code class="language-text">edit.php</code> weiter.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/8874f61785a485edc39b93d3de28aeebbf972c06/src/components/com_foos/src/View/Form/HtmlView.php">components/com_foos/ src/View/Form/HtmlView.php</a></p>
<pre class="grvsc-container default-dark" data-language="php" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">// https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/src/View/Form/HtmlView.php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@package</span><span class="mtk3">     Joomla.Site</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@subpackage</span><span class="mtk3">  com_foos</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@copyright</span><span class="mtk3">   Copyright (C) 2005 - 2018 Open Source Matters, Inc. All rights reserved.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@license</span><span class="mtk3">     GNU General Public License version 2 or later; see LICENSE.txt</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk4">namespace</span><span class="mtk1"> </span><span class="mtk10">FooNamespace\Component\Foos\Site\View\Form</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">\</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Multilanguage</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Text</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\MVC\View\</span><span class="mtk10">HtmlView</span><span class="mtk1"> </span><span class="mtk4">as</span><span class="mtk1"> BaseHtmlView;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> FooNamespace\Component\Foos\Administrator\Helper\</span><span class="mtk10">FooHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk3"> * HTML Foo View class for the Foo component</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">HtmlView</span><span class="mtk1"> </span><span class="mtk4">extends</span><span class="mtk1"> </span><span class="mtk10">BaseHtmlView</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    \Joomla\CMS\Form\</span><span class="mtk10">Form</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$form</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    </span><span class="mtk4">object</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$item</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    </span><span class="mtk4">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$return_page</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    </span><span class="mtk4">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$pageclass_sfx</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    \Joomla\Registry\</span><span class="mtk10">Registry</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$state</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@var</span><span class="mtk3">    \Joomla\Registry\</span><span class="mtk10">Registry</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk12">$params</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk3">	 * Execute and display a template script.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@param</span><span class="mtk3">   </span><span class="mtk4">string</span><span class="mtk3">  $tpl  The name of the template file to parse; automatically searches through the template paths.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">mixed</span><span class="mtk3">  A string if successful, otherwise an Error object.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3"> </span><span class="mtk10">Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">display</span><span class="mtk1">(</span><span class="mtk12">$tpl</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$user</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$app</span><span class="mtk1">  = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getApplication</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Get model data.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">state</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;State&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;Item&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">form</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;Form&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">return_page</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;ReturnPage&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$authorised</span><span class="mtk1"> = </span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">authorise</span><span class="mtk1">(</span><span class="mtk8">&#39;core.create&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">) || </span><span class="mtk11">count</span><span class="mtk1">(</span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk11">getAuthorisedCategories</span><span class="mtk1">(</span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;core.create&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk3">// Since we don&#39;t track these assets at the item level, use the category id.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$canDo</span><span class="mtk1"> = </span><span class="mtk10">FooHelper</span><span class="mtk1">::</span><span class="mtk11">getActions</span><span class="mtk1">(</span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;category&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">catid</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$authorised</span><span class="mtk1"> = </span><span class="mtk12">$canDo</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit&#39;</span><span class="mtk1">) || (</span><span class="mtk12">$canDo</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit.own&#39;</span><span class="mtk1">) &amp;&amp; </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by</span><span class="mtk1"> == </span><span class="mtk12">$user</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$authorised</span><span class="mtk1"> !== </span><span class="mtk4">true</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">enqueueMessage</span><span class="mtk1">(</span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JERROR_ALERTNOAUTHOR&#39;</span><span class="mtk1">), </span><span class="mtk8">&#39;error&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">setHeader</span><span class="mtk1">(</span><span class="mtk8">&#39;status&#39;</span><span class="mtk1">, </span><span class="mtk7">403</span><span class="mtk1">, </span><span class="mtk4">true</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="101"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="102"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Check for errors.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="103"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">count</span><span class="mtk1">(</span><span class="mtk12">$errors</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;Errors&#39;</span><span class="mtk1">)))</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="104"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="105"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">enqueueMessage</span><span class="mtk1">(</span><span class="mtk11">implode</span><span class="mtk1">(</span><span class="mtk8">&quot;</span><span class="mtk6">\n</span><span class="mtk8">&quot;</span><span class="mtk1">, </span><span class="mtk12">$errors</span><span class="mtk1">), </span><span class="mtk8">&#39;error&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="106"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="107"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="108"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="109"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="110"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Create a shortcut to the parameters.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="111"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">state</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="112"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="113"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Escape strings for HTML output</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="114"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">pageclass_sfx</span><span class="mtk1"> = </span><span class="mtk11">htmlspecialchars</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;pageclass_sfx&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="115"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="116"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Override global params with foo specific params</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="117"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">merge</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="118"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="119"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Propose current language as default when creating new foo</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="120"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">) &amp;&amp; </span><span class="mtk10">Multilanguage</span><span class="mtk1">::</span><span class="mtk11">isEnabled</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="121"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="122"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$lang</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getLanguage</span><span class="mtk1">()-&gt;</span><span class="mtk11">getTag</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="123"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">form</span><span class="mtk1">-&gt;</span><span class="mtk11">setFieldAttribute</span><span class="mtk1">(</span><span class="mtk8">&#39;language&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;default&#39;</span><span class="mtk1">, </span><span class="mtk12">$lang</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="124"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="125"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="126"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">_prepareDocument</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="127"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="128"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">parent</span><span class="mtk1">::</span><span class="mtk11">display</span><span class="mtk1">(</span><span class="mtk12">$tpl</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="129"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="130"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="131"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="132"></span><span class="grvsc-source"><span class="mtk3">	 * Prepares the document</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="133"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="134"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@return</span><span class="mtk3">  </span><span class="mtk4">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="135"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="136"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@throws</span><span class="mtk3"> </span><span class="mtk10">Exception</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="137"></span><span class="grvsc-source"><span class="mtk3">	 *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="138"></span><span class="grvsc-source"><span class="mtk3">	 * </span><span class="mtk4">@since</span><span class="mtk3">  __DEPLOY_VERSION__</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="139"></span><span class="grvsc-source"><span class="mtk3">	 */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="140"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk4">protected</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">_prepareDocument</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="141"></span><span class="grvsc-source"><span class="mtk1">	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="142"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$app</span><span class="mtk1">   = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getApplication</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="143"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$menus</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">getMenu</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="144"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$title</span><span class="mtk1"> = </span><span class="mtk4">null</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="145"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="146"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// Because the application sets a default page title,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="147"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk3">// we need to get it from the menu item itself</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="148"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$menu</span><span class="mtk1"> = </span><span class="mtk12">$menus</span><span class="mtk1">-&gt;</span><span class="mtk11">getActive</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="149"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="150"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$menu</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="151"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="152"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">def</span><span class="mtk1">(</span><span class="mtk8">&#39;page_heading&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;page_title&#39;</span><span class="mtk1">, </span><span class="mtk12">$menu</span><span class="mtk1">-&gt;</span><span class="mtk12">title</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="153"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="154"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="155"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="156"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">def</span><span class="mtk1">(</span><span class="mtk8">&#39;page_heading&#39;</span><span class="mtk1">, </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_FORM_EDIT_FOO&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="157"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="158"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="159"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$title</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">def</span><span class="mtk1">(</span><span class="mtk8">&#39;page_title&#39;</span><span class="mtk1">, </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_FORM_EDIT_FOO&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="160"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="161"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;sitename_pagetitles&#39;</span><span class="mtk1">, </span><span class="mtk7">0</span><span class="mtk1">) == </span><span class="mtk7">1</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="162"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="163"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$title</span><span class="mtk1"> = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">sprintf</span><span class="mtk1">(</span><span class="mtk8">&#39;JPAGETITLE&#39;</span><span class="mtk1">, </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;sitename&#39;</span><span class="mtk1">), </span><span class="mtk12">$title</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="164"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="165"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">elseif</span><span class="mtk1"> (</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;sitename_pagetitles&#39;</span><span class="mtk1">, </span><span class="mtk7">0</span><span class="mtk1">) == </span><span class="mtk7">2</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="166"></span><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="167"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$title</span><span class="mtk1"> = </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">sprintf</span><span class="mtk1">(</span><span class="mtk8">&#39;JPAGETITLE&#39;</span><span class="mtk1">, </span><span class="mtk12">$title</span><span class="mtk1">, </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;sitename&#39;</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="168"></span><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="169"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="170"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">document</span><span class="mtk1">-&gt;</span><span class="mtk11">setTitle</span><span class="mtk1">(</span><span class="mtk12">$title</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="171"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="172"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$pathway</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">getPathWay</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="173"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk12">$pathway</span><span class="mtk1">-&gt;</span><span class="mtk11">addItem</span><span class="mtk1">(</span><span class="mtk12">$title</span><span class="mtk1">, </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="174"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="175"></span><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="176"></span><span class="grvsc-source"></span></span></code></pre>
<p>Im obigen Codebeispiel habe mich beim Prüfen der Berechtigungen an Code in Joomla orientiert. Ist jemand nicht berechtigt, wird ihm einen Nachricht angezeigt. Je nachdem in welchem Umfeld man die Erweiterung programmiert ist es benutzerfreundlicher sofort eine Anmeldemöglichkeit zu bieten. Wenn du in der Datei <code class="language-text">components/com_foos/ src/View/Form/HtmlView.php</code> den nachfolgenden Codeauszug</p>
<pre class="grvsc-container default-dark" data-language="php" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$authorised</span><span class="mtk1"> !== </span><span class="mtk4">true</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">redirect</span><span class="mtk1">(</span><span class="mtk8">&#39;index.php?option=com_users&amp;view=login&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">		}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span></code></pre>
<p>anstelle dieses</p>
<pre class="grvsc-container default-dark" data-language="php" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$authorised</span><span class="mtk1"> !== </span><span class="mtk4">true</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">		{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">enqueueMessage</span><span class="mtk1">(</span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JERROR_ALERTNOAUTHOR&#39;</span><span class="mtk1">), </span><span class="mtk8">&#39;error&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk11">setHeader</span><span class="mtk1">(</span><span class="mtk8">&#39;status&#39;</span><span class="mtk1">, </span><span class="mtk7">403</span><span class="mtk1">, </span><span class="mtk4">true</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">		}</span></span></span></code></pre>
<p>einfügst, erfolgt bei einer fehlgeschlagenen Berechtigungsprüfung unmittelbar eine Weiterleitung zum Anmeldeformular.</p>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-tmplformeditphp" style="position:relative;"><a href="#componentscom_foos-tmplformeditphp" aria-label="componentscom_foos tmplformeditphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ tmpl/form/edit.php</h4>
<p><code class="language-text">components/com_foos/ tmpl/form/edit.php</code> sorgt als Template dafür, dass das Formular schon im Frontend angezeigt wird.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/f0d56fe96433a8f74c325c43dcf5ba10863a8222/src/components/com_foos/tmpl/form/edit.php">components/com_foos/ tmpl/form/edit.php</a></p>
<pre class="grvsc-container default-dark" data-language="php" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">// https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/tmpl/form/edit.php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@package</span><span class="mtk3">     Joomla.Administrator</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@subpackage</span><span class="mtk3">  com_foos</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk3"> *</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@copyright</span><span class="mtk3">   Copyright (C) 2005 - 2019 Open Source Matters, Inc. All rights reserved.</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk3"> * </span><span class="mtk4">@license</span><span class="mtk3">     GNU General Public License version 2 or later; see LICENSE.txt</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk3"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">\</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\HTML\</span><span class="mtk10">HTMLHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Associations</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Router\</span><span class="mtk10">Route</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Text</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Layout\</span><span class="mtk10">LayoutHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;behavior.formvalidator&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;script&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;com_foos/admin-foos-letter.js&#39;</span><span class="mtk1">, </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;version&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk8">&#39;auto&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;relative&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk4">true</span><span class="mtk1">));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk12">$app</span><span class="mtk1"> = </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getApplication</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="22"></span><span class="grvsc-source"><span class="mtk12">$input</span><span class="mtk1"> = </span><span class="mtk12">$app</span><span class="mtk1">-&gt;</span><span class="mtk12">input</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="23"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="24"></span><span class="grvsc-source"><span class="mtk12">$assoc</span><span class="mtk1"> = </span><span class="mtk10">Associations</span><span class="mtk1">::</span><span class="mtk11">isEnabled</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="25"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="26"></span><span class="grvsc-source"><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">ignore_fieldsets</span><span class="mtk1"> = </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;item_associations&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="27"></span><span class="grvsc-source"><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">useCoreUI</span><span class="mtk1"> = </span><span class="mtk4">true</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="28"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="29"></span><span class="grvsc-source"><span class="mtk3">// In case of modal</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="30"></span><span class="grvsc-source"><span class="mtk12">$isModal</span><span class="mtk1"> = </span><span class="mtk12">$input</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;layout&#39;</span><span class="mtk1">) == </span><span class="mtk8">&#39;modal&#39;</span><span class="mtk1"> ? </span><span class="mtk4">true</span><span class="mtk1"> : </span><span class="mtk4">false</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="31"></span><span class="grvsc-source"><span class="mtk12">$layout</span><span class="mtk1">  = </span><span class="mtk12">$isModal</span><span class="mtk1"> ? </span><span class="mtk8">&#39;modal&#39;</span><span class="mtk1"> : </span><span class="mtk8">&#39;edit&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="32"></span><span class="grvsc-source"><span class="mtk12">$tmpl</span><span class="mtk1">    = </span><span class="mtk12">$isModal</span><span class="mtk1"> || </span><span class="mtk12">$input</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;tmpl&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;cmd&#39;</span><span class="mtk1">) === </span><span class="mtk8">&#39;component&#39;</span><span class="mtk1"> ? </span><span class="mtk8">&#39;&amp;tmpl=component&#39;</span><span class="mtk1"> : </span><span class="mtk8">&#39;&#39;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="33"></span><span class="grvsc-source"><span class="mtk1">?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="34"></span><span class="grvsc-source"><span class="mtk1">&lt;form action=</span><span class="mtk8">&quot;&lt;?php echo Route::_(&#39;index.php?option=com_foos&amp;id=&#39; . (int) </span><span class="mtk12">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk8">-&gt;id); ?&gt;&quot;</span><span class="mtk1"> method=</span><span class="mtk8">&quot;post&quot;</span><span class="mtk1"> name=</span><span class="mtk8">&quot;adminForm&quot;</span><span class="mtk1"> id=</span><span class="mtk8">&quot;adminForm&quot;</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;form-validate form-vertical&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="35"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="36"></span><span class="grvsc-source"><span class="mtk1">	&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.edit.title_alias&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="37"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="38"></span><span class="grvsc-source"><span class="mtk1">	&lt;div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="39"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.startTabSet&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;myTab&#39;</span><span class="mtk1">, </span><span class="mtk11">array</span><span class="mtk1">(</span><span class="mtk8">&#39;active&#39;</span><span class="mtk1"> =&gt; </span><span class="mtk8">&#39;details&#39;</span><span class="mtk1">)); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="40"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="41"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.addTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;myTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;details&#39;</span><span class="mtk1">, </span><span class="mtk11">empty</span><span class="mtk1">(</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">id</span><span class="mtk1">) ? </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_NEW_FOO&#39;</span><span class="mtk1">) : </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_EDIT_FOO&#39;</span><span class="mtk1">)); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="42"></span><span class="grvsc-source"><span class="mtk1">		&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;row&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="43"></span><span class="grvsc-source"><span class="mtk1">			&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;col-md-9&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="44"></span><span class="grvsc-source"><span class="mtk1">				&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;row&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="45"></span><span class="grvsc-source"><span class="mtk1">					&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;col-md-6&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="46"></span><span class="grvsc-source"><span class="mtk1">						&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk8">&#39;Hier ist Platz für die Inhalte deiner Erweiterung&#39;</span><span class="mtk1">; ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="47"></span><span class="grvsc-source"><span class="mtk1">					&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="48"></span><span class="grvsc-source"><span class="mtk1">				&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="49"></span><span class="grvsc-source"><span class="mtk1">			&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="50"></span><span class="grvsc-source"><span class="mtk1">			&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;col-lg-3&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="51"></span><span class="grvsc-source"><span class="mtk1">				&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;card&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="52"></span><span class="grvsc-source"><span class="mtk1">					&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;card-body&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="53"></span><span class="grvsc-source"><span class="mtk1">						&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.edit.global&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="54"></span><span class="grvsc-source"><span class="mtk1">					&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="55"></span><span class="grvsc-source"><span class="mtk1">				&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="56"></span><span class="grvsc-source"><span class="mtk1">			&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="57"></span><span class="grvsc-source"><span class="mtk1">		&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="58"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.endTab&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="59"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="60"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk15">if</span><span class="mtk1"> ( !</span><span class="mtk12">$isModal</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">$assoc</span><span class="mtk1">) : ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="61"></span><span class="grvsc-source"><span class="mtk1">			&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.addTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;myTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;associations&#39;</span><span class="mtk1">, </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JGLOBAL_FIELDSET_ASSOCIATIONS&#39;</span><span class="mtk1">)); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="62"></span><span class="grvsc-source"><span class="mtk1">			&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">loadTemplate</span><span class="mtk1">(</span><span class="mtk8">&#39;associations&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="63"></span><span class="grvsc-source"><span class="mtk1">			&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.endTab&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="64"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk15">elseif</span><span class="mtk1"> (</span><span class="mtk12">$isModal</span><span class="mtk1"> &amp;&amp; </span><span class="mtk12">$assoc</span><span class="mtk1">) : ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="65"></span><span class="grvsc-source"><span class="mtk1">			&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;hidden&quot;</span><span class="mtk1">&gt;&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">loadTemplate</span><span class="mtk1">(</span><span class="mtk8">&#39;associations&#39;</span><span class="mtk1">); ?&gt;&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="66"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk15">endif</span><span class="mtk1">; ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="67"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="68"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.edit.params&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="69"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="70"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.addTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;myTab&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;publishing&#39;</span><span class="mtk1">, </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JGLOBAL_FIELDSET_PUBLISHING&#39;</span><span class="mtk1">)); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="71"></span><span class="grvsc-source"><span class="mtk1">		&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;row&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="72"></span><span class="grvsc-source"><span class="mtk1">			&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;col-md-6&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="73"></span><span class="grvsc-source"><span class="mtk1">				&lt;fieldset id=</span><span class="mtk8">&quot;fieldset-publishingdata&quot;</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;options-form&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="74"></span><span class="grvsc-source"><span class="mtk1">					&lt;legend&gt;&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JGLOBAL_FIELDSET_PUBLISHING&#39;</span><span class="mtk1">); ?&gt;&lt;/legend&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="75"></span><span class="grvsc-source"><span class="mtk1">					&lt;div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="76"></span><span class="grvsc-source"><span class="mtk1">					&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">LayoutHelper</span><span class="mtk1">::</span><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk8">&#39;joomla.edit.publishingdata&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="77"></span><span class="grvsc-source"><span class="mtk1">					&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="78"></span><span class="grvsc-source"><span class="mtk1">				&lt;/fieldset&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="79"></span><span class="grvsc-source"><span class="mtk1">			&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="80"></span><span class="grvsc-source"><span class="mtk1">		&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="81"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.endTab&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="82"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="83"></span><span class="grvsc-source"><span class="mtk1">		&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;uitab.endTabSet&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="84"></span><span class="grvsc-source"><span class="mtk1">	&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="85"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="86"></span><span class="grvsc-source"><span class="mtk1">	&lt;input type=</span><span class="mtk8">&quot;hidden&quot;</span><span class="mtk1"> name=</span><span class="mtk8">&quot;task&quot;</span><span class="mtk1"> value=</span><span class="mtk8">&quot;&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="87"></span><span class="grvsc-source"><span class="mtk1">	&lt;input type=</span><span class="mtk8">&quot;hidden&quot;</span><span class="mtk1"> name=</span><span class="mtk8">&quot;return&quot;</span><span class="mtk1"> value=</span><span class="mtk8">&quot;&lt;?php echo </span><span class="mtk12">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">return_page</span><span class="mtk8">; ?&gt;&quot;</span><span class="mtk1">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="88"></span><span class="grvsc-source"><span class="mtk1">	&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">HTMLHelper</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;form.token&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="89"></span><span class="grvsc-source"><span class="mtk1">	&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;mb-2&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="90"></span><span class="grvsc-source"><span class="mtk1">		&lt;button type=</span><span class="mtk8">&quot;button&quot;</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;btn btn-primary&quot;</span><span class="mtk1"> onclick=</span><span class="mtk8">&quot;Joomla.submitbutton(&#39;foo.save&#39;)&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="91"></span><span class="grvsc-source"><span class="mtk1">			&lt;span </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;fas fa-check&quot;</span><span class="mtk1"> aria-hidden=</span><span class="mtk8">&quot;true&quot;</span><span class="mtk1">&gt;&lt;/span&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="92"></span><span class="grvsc-source"><span class="mtk1">			&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JSAVE&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="93"></span><span class="grvsc-source"><span class="mtk1">		&lt;/button&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="94"></span><span class="grvsc-source"><span class="mtk1">		&lt;button type=</span><span class="mtk8">&quot;button&quot;</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;btn btn-danger&quot;</span><span class="mtk1"> onclick=</span><span class="mtk8">&quot;Joomla.submitbutton(&#39;foo.cancel&#39;)&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="95"></span><span class="grvsc-source"><span class="mtk1">			&lt;span </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;fas fa-times-cancel&quot;</span><span class="mtk1"> aria-hidden=</span><span class="mtk8">&quot;true&quot;</span><span class="mtk1">&gt;&lt;/span&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="96"></span><span class="grvsc-source"><span class="mtk1">			&lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;JCANCEL&#39;</span><span class="mtk1">); ?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="97"></span><span class="grvsc-source"><span class="mtk1">		&lt;/button&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="98"></span><span class="grvsc-source"><span class="mtk1">	&lt;/div&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="99"></span><span class="grvsc-source"><span class="mtk1">&lt;/form&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="100"></span><span class="grvsc-source"></span></span></code></pre>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-tmplformeditxml" style="position:relative;"><a href="#componentscom_foos-tmplformeditxml" aria-label="componentscom_foos tmplformeditxml permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ tmpl/form/edit.xml</h4>
<p>Zu guter Letzt benötigen wir die Datei <code class="language-text">components/com_foos/ tmpl/form/edit.xml</code>, um den Menüpunkt zu erstellen.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/8874f61785a485edc39b93d3de28aeebbf972c06/src/components/com_foos/tmpl/form/edit.xml">components/com_foos/ tmpl/form/edit.xml</a></p>
<pre class="grvsc-container default-dark" data-language="xml" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-2"></span><span class="grvsc-source"><span class="mtk3">&lt;!-- https://codeberg.org/astrid/j4examplecode/raw/branch/379bdcdb2d01e883086bcc12b41c331a35de47a6/src/components/com_foos/tmpl/form/edit.xml --&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="-1"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="0"></span><span class="grvsc-source"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk12"> encoding</span><span class="mtk1">=</span><span class="mtk8">&quot;utf-8&quot;</span><span class="mtk17">?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk17">&lt;</span><span class="mtk4">metadata</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">layout</span><span class="mtk1"> </span><span class="mtk12">title</span><span class="mtk1">=</span><span class="mtk8">&quot;COM_FOOS_FORM_VIEW_DEFAULT_TITLE&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">help</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk12">key</span><span class="mtk1">=</span><span class="mtk8">&quot;JHELP_MENUS_MENU_ITEM_FOO_CREATE&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;</span><span class="mtk4">message</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk8">&lt;![CDATA[COM_FOOS_FORM_VIEW_DEFAULT_DESC]]&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk17">&lt;/</span><span class="mtk4">message</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">layout</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">fields</span><span class="mtk1"> </span><span class="mtk12">name</span><span class="mtk1">=</span><span class="mtk8">&quot;params&quot;</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk17">&lt;/</span><span class="mtk4">fields</span><span class="mtk17">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk17">&lt;/</span><span class="mtk4">metadata</span><span class="mtk17">&gt;</span></span></span></code></pre>
<h3 id="geänderte-dateien" style="position:relative;"><a href="#ge%C3%A4nderte-dateien" aria-label="geänderte dateien permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Geänderte Dateien</h3>
<!-- prettier-ignore -->
<h4 id="administratorcomponents-com_foos-srcextensionfooscomponentphp" style="position:relative;"><a href="#administratorcomponents-com_foos-srcextensionfooscomponentphp" aria-label="administratorcomponents com_foos srcextensionfooscomponentphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>administrator/components/ com_foos/ src/Extension/FoosComponent.php</h4>
<p>In der Datei <code class="language-text">administrator/components/com_foos/ src/Extension/FoosComponent.php</code> registrieren wir das Icon. Anders ausgedruckt: Wir machen Icon mit Joomla bekannt.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/f0d56fe96433a8f74c325c43dcf5ba10863a8222/src/administrator/components/com_foos/src/Extension/FoosComponent.php">administrator/components/com_foos/ src/Extension/FoosComponent.php</a></p>
<pre class="grvsc-container grvsc-has-line-highlighting default-dark" data-language="php" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;JPATH_PLATFORM&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Application\</span><span class="mtk10">SiteApplication</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Association\</span><span class="mtk10">AssociationServiceInterface</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Association\</span><span class="mtk10">AssociationServiceTrait</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Categories\</span><span class="mtk10">CategoryServiceInterface</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Extension\</span><span class="mtk10">MVCComponent</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\HTML\</span><span class="mtk10">HTMLRegistryAwareTrait</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> FooNamespace\Component\Foos\Administrator\Service\HTML\</span><span class="mtk10">AdministratorService</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> FooNamespace\Component\Foos\Administrator\Service\HTML\</span><span class="mtk10">Icon</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Psr\Container\</span><span class="mtk10">ContainerInterface</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Helper\</span><span class="mtk10">ContentHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk4">public</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">boot</span><span class="mtk1">(</span><span class="mtk4">ContainerInterface</span><span class="mtk1"> </span><span class="mtk12">$container</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getRegistry</span><span class="mtk1">()-&gt;</span><span class="mtk11">register</span><span class="mtk1">(</span><span class="mtk8">&#39;foosadministrator&#39;</span><span class="mtk1">, </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">AdministratorService</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk11">getRegistry</span><span class="mtk1">()-&gt;</span><span class="mtk11">register</span><span class="mtk1">(</span><span class="mtk8">&#39;fooicon&#39;</span><span class="mtk1">, </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">Icon</span><span class="mtk1">(</span><span class="mtk12">$container</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk10">SiteApplication</span><span class="mtk1">::</span><span class="mtk4">class</span><span class="mtk1">)));</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk3">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span></code></pre>
<!-- prettier-ignore -->
<h4 id="componentscom_foos-tmplfoodefaultphp" style="position:relative;"><a href="#componentscom_foos-tmplfoodefaultphp" aria-label="componentscom_foos tmplfoodefaultphp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>components/com_foos/ tmpl/foo/default.php</h4>
<p>Wir erweitern das Template für die Ansicht: Wenn man das Element bearbeiten darf <code class="language-text">if ($canEdit)</code>, dann sieht man das Icon zum Öffnen des Formulares.</p>
<p><a href="https://github.com/astridx/boilerplate/blob/8874f61785a485edc39b93d3de28aeebbf972c06/src/components/com_foos/tmpl/foo/default.php">components/com_foos/ tmpl/foo/default.php</a></p>
<pre class="grvsc-container grvsc-has-line-highlighting default-dark" data-language="php" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1">  */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> \</span><span class="mtk11">defined</span><span class="mtk1">(</span><span class="mtk8">&#39;_JEXEC&#39;</span><span class="mtk1">) or </span><span class="mtk15">die</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\</span><span class="mtk10">Factory</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Helper\</span><span class="mtk10">ContentHelper</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk4">use</span><span class="mtk1"> Joomla\CMS\Language\</span><span class="mtk10">Text</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-del"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-del" aria-hidden="true" data-content="-"></span><span class="grvsc-source"><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;show_name&#39;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk12">$canDo</span><span class="mtk1">   = </span><span class="mtk10">ContentHelper</span><span class="mtk1">::</span><span class="mtk11">getActions</span><span class="mtk1">(</span><span class="mtk8">&#39;com_foos&#39;</span><span class="mtk1">, </span><span class="mtk8">&#39;category&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">catid</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk12">$canEdit</span><span class="mtk1"> = </span><span class="mtk12">$canDo</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit&#39;</span><span class="mtk1">) || (</span><span class="mtk12">$canDo</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;core.edit.own&#39;</span><span class="mtk1">) &amp;&amp; </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">created_by</span><span class="mtk1"> == </span><span class="mtk10">Factory</span><span class="mtk1">::</span><span class="mtk11">getUser</span><span class="mtk1">()-&gt;</span><span class="mtk12">id</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk12">$tparams</span><span class="mtk1"> = </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$tparams</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;show_name&#39;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">params</span><span class="mtk1">-&gt;</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;show_foo_name_label&#39;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 		</span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">Text</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;COM_FOOS_NAME&#39;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> }</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">?&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">&lt;?php </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">$canEdit</span><span class="mtk1">) : ?&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">	&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;icons&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">		&lt;div </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;btn-group float-right&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">			&lt;button </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;btn btn-secondary dropdown-toggle&quot;</span><span class="mtk1"> type=</span><span class="mtk8">&quot;button&quot;</span><span class="mtk1"> id=</span><span class="mtk8">&quot;dropdownMenuButton-&lt;?php echo </span><span class="mtk12">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk8">-&gt;id; ?&gt;&quot;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">				aria-label=</span><span class="mtk8">&quot;&lt;?php echo JText::_(&#39;JUSER_TOOLS&#39;); ?&gt;&quot;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">				data-toggle=</span><span class="mtk8">&quot;dropdown&quot;</span><span class="mtk1"> aria-haspopup=</span><span class="mtk8">&quot;true&quot;</span><span class="mtk1"> aria-expanded=</span><span class="mtk8">&quot;false&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">				&lt;span </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;fa fa-cog&quot;</span><span class="mtk1"> aria-hidden=</span><span class="mtk8">&quot;true&quot;</span><span class="mtk1">&gt;&lt;/span&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">			&lt;/button&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">			&lt;ul </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;dropdown-menu&quot;</span><span class="mtk1"> aria-labelledby=</span><span class="mtk8">&quot;dropdownMenuButton-&lt;?php echo </span><span class="mtk12">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk8">-&gt;id; ?&gt;&quot;</span><span class="mtk1">&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">				&lt;li </span><span class="mtk4">class</span><span class="mtk1">=</span><span class="mtk8">&quot;edit-icon&quot;</span><span class="mtk1">&gt; &lt;?php </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk10">JHtml</span><span class="mtk1">::</span><span class="mtk11">_</span><span class="mtk1">(</span><span class="mtk8">&#39;fooicon.edit&#39;</span><span class="mtk1">, </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">, </span><span class="mtk12">$tparams</span><span class="mtk1">); ?&gt; &lt;/li&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">			&lt;/ul&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">		&lt;/div&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">	&lt;/div&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">&lt;?php </span><span class="mtk15">endif</span><span class="mtk1">; ?&gt;</span></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-diff grvsc-line-diff-add"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-diff-add" aria-hidden="true" data-content="+"></span><span class="grvsc-source"><span class="mtk1">&lt;?php</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">event</span><span class="mtk1">-&gt;</span><span class="mtk12">afterDisplayTitle</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">event</span><span class="mtk1">-&gt;</span><span class="mtk12">beforeDisplayContent</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk11">echo</span><span class="mtk1"> </span><span class="mtk4">$this</span><span class="mtk1">-&gt;</span><span class="mtk12">item</span><span class="mtk1">-&gt;</span><span class="mtk12">event</span><span class="mtk1">-&gt;</span><span class="mtk12">afterDisplayContent</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter" aria-hidden="true"></span><span class="grvsc-source"></span></span></code></pre>
<h2 id="teste-deine-joomla-komponente" style="position:relative;"><a href="#teste-deine-joomla-komponente" aria-label="teste deine joomla komponente permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teste deine Joomla-Komponente</h2>
<ol>
<li>Installiere deine Komponente in Joomla Version 4, um sie zu testen:</li>
</ol>
<p>Kopiere die Dateien im <code class="language-text">administrator</code> Ordner in den <code class="language-text">administrator</code> Ordner deiner Joomla 4 Installation.<br>
Kopiere die Dateien im <code class="language-text">components</code> Ordner in den <code class="language-text">components</code> Ordner deiner Joomla 4 Installation.</p>
<p>Installiere deine Komponente wie in Teil eins beschrieben, nachdem du alle Dateien kopiert hast. Joomla aktualisiert bei der Installation die Namespaces für dich. Da eine neue Datei hinzugekommen ist, ist dies erforderlich.</p>
<ol start="2">
<li>Erstelle einen Menüpunkt zum Ändern eines Foo-Elementes und einen der ein Foo Element anzeigt.</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/8aea671313331bd3128eaf842663b229/191e2/j4x30x1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVQoz6WQPUvDUBiF82tEnERwFPHPuAhFxCa5uU2u3Z0EB3FzEauo+LXUP6BjU9updVGsNq2fNUnT5JG0OokY8cDDfYfDued9tYnpOdY3t9jeO2Ln4JTSwRmlvWNKw/lndg/P2Nk/4fC0zOraBuNTs4xNzqAVbJvu8ytBDHE/AT+CcEAWxZ9vo3mNYZgIS6I5qkjrvs3jcw+/2yUMAoJ+RBj2f8UPgmFgpeKiGwJh2WhCKh7aHV56IX7YJ04SkjgmzsBgMNrk6qpG3hCYaaCjFG2vw2sv5OnlbfhrFEWZAlNfqlqthmVZyEIa6Cg8z/tmTtKmv/DVsNFoYEmJJQtotuNw12rx7vtDw1/4athsNlGOGjVUagWv0+U/ur25ZTGfQxcmWrFY5OLiknq9juu6VKvVTIy8LhXX5bxcZj6XY0k30hvayHT/9KhSZkYIQT6vY5oCxy6wsChY1iUfcI6wISWfKNYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Joomla Frontend Bearbeitung Menüpunkt zum Erstellen eines Foo Elementes"
        title="Joomla Frontend Bearbeitung Menüpunkt zum Erstellen eines Foo Elementes"
        src="/static/8aea671313331bd3128eaf842663b229/5a190/j4x30x1.png"
        srcset="/static/8aea671313331bd3128eaf842663b229/772e8/j4x30x1.png 200w,
/static/8aea671313331bd3128eaf842663b229/e17e5/j4x30x1.png 400w,
/static/8aea671313331bd3128eaf842663b229/5a190/j4x30x1.png 800w,
/static/8aea671313331bd3128eaf842663b229/c1b63/j4x30x1.png 1200w,
/static/8aea671313331bd3128eaf842663b229/29007/j4x30x1.png 1600w,
/static/8aea671313331bd3128eaf842663b229/191e2/j4x30x1.png 1836w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<ol start="3">
<li>Öffne den Menüpunkt zum Erstellen eines Foo-Elementes im Frontend. Stelle sicher, dass du die notwendigen Rechte hast. Falls du die Standardrechte belassen hast, musst du dich mit einem Benutzer anmelden, der mindestens Autor ist. Überzeuge dich davon, dass du eine Element erstellen kannst.</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f5b88e5cfe2deac14985b882a242f9a1/191e2/j4x30x2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVQoz6WRvy9DURzF358mJguhKaqoWhhsHVgkSBsRPxZWg8HfICaDSWwMrNJGf6SaV+17r70/P3KfaKJeGZzkJN/7PfeenJPrjc1sMp7aIrdxxFrhlPXCGbP5EhPpbSbnd5jK7DK9sEcqWySdLTG3tM9stkQ6U2Rh+YDF3CEr+WPyqyes5k/wlNIIqag3mtTqTar1Fr7/TqfTJQjCb+x2A6KoR6PZovxSptPu0A0FzkNKTRAKPABrLW++T68XIUQfKQViBJ0WCoMO+2A0w/CcmTEGIfs4WWmN0mokjTX4fpvKa5UgjIh6Mg70xTihsZZKpUbr6RkVhli3M+YHXTWH27tHrm/u41lpExt9NY0NhdJcXF7xcH6ObPsDMYnxfalifsL+rDyMpF2SNjy74+BTXCVrvscflfC32Usy+Cvlb/D+8zjJ8ANXFe9EjEqTbQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Joomla Frontend Bearbeitung - Erstellen einen Foo-Elementes"
        title="Joomla Frontend Bearbeitung - Erstellen einen Foo-Elementes"
        src="/static/f5b88e5cfe2deac14985b882a242f9a1/5a190/j4x30x2.png"
        srcset="/static/f5b88e5cfe2deac14985b882a242f9a1/772e8/j4x30x2.png 200w,
/static/f5b88e5cfe2deac14985b882a242f9a1/e17e5/j4x30x2.png 400w,
/static/f5b88e5cfe2deac14985b882a242f9a1/5a190/j4x30x2.png 800w,
/static/f5b88e5cfe2deac14985b882a242f9a1/c1b63/j4x30x2.png 1200w,
/static/f5b88e5cfe2deac14985b882a242f9a1/29007/j4x30x2.png 1600w,
/static/f5b88e5cfe2deac14985b882a242f9a1/191e2/j4x30x2.png 1836w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<ol start="4">
<li>Stelle sicher, dass du das Icon zum Editieren bei der Detailanzeige eines Elements siehst und eine Element editierbar ist.</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ed06b9832ba9acd1935b010d58887aa3/191e2/j4x30x3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCklEQVQoz5WQzUrDUBCF82jiyoUotdbYGjRZKLjTjS4ExfoHxYK+jTsXbgR3PoEEcSFU89vk3tzkkwRim4olGRjuGebOmXNGW2gdsbh2jLE/YPfgjr3DezrWFUvtE5b1U1b0M1Y3z2l1+7R7F2wY13R6l6zrfbrGDVvbA3bMW0xriGUO0ZJEIWSC47i4Xojr+cRxTPSbYvIGIfHoi8/RN/b7B57n4wcxOYeUiiAUaDQMJQVjkaKCCKT409eyLKNupmlWDDmuh/1mEwQh40hW/hQKy6LEszEhTIv66fmVh8eXAidKVWZrW55emt9ciKTsVC03veG0g1mcl9p/NucpnIe1OmRNorbCuoQ/lcz0MZmLeeQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Joomla Frontend Bearbeitung - Bearbeiten eines Foo-Elementes"
        title="Joomla Frontend Bearbeitung - Bearbeiten eines Foo-Elementes"
        src="/static/ed06b9832ba9acd1935b010d58887aa3/5a190/j4x30x3.png"
        srcset="/static/ed06b9832ba9acd1935b010d58887aa3/772e8/j4x30x3.png 200w,
/static/ed06b9832ba9acd1935b010d58887aa3/e17e5/j4x30x3.png 400w,
/static/ed06b9832ba9acd1935b010d58887aa3/5a190/j4x30x3.png 800w,
/static/ed06b9832ba9acd1935b010d58887aa3/c1b63/j4x30x3.png 1200w,
/static/ed06b9832ba9acd1935b010d58887aa3/29007/j4x30x3.png 1600w,
/static/ed06b9832ba9acd1935b010d58887aa3/191e2/j4x30x3.png 1836w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="links" style="position:relative;"><a href="#links" aria-label="links permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Links</h2>
<p><a href="https://github.com/joomla/joomla-cms/pull/24311">Frontend-Edit für com_contact</a>[^github.com/joomla/joomla-cms/pull/24311]
<img src="https://vg08.met.vgwort.de/na/fe2b743d4a8644e1a45736d8ee41c047" width="1" height="1" alt=""></p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .default-dark .mtk3 { color: #6A9955; }
  .default-dark .mtk1 { color: #D4D4D4; }
  .default-dark .mtk4 { color: #569CD6; }
  .default-dark .mtk10 { color: #4EC9B0; }
  .default-dark .mtk11 { color: #DCDCAA; }
  .default-dark .mtk8 { color: #CE9178; }
  .default-dark .mtk15 { color: #C586C0; }
  .default-dark .mtk12 { color: #9CDCFE; }
  .default-dark .mtk7 { color: #B5CEA8; }
  .default-dark .mtk17 { color: #808080; }
  .default-dark .mtk6 { color: #D7BA7D; }
  .default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><section id="comments" class="comments container"><h3>Comments</h3><div></div></section><section id="webmentions" class="comments webmentions__list container"><h3>Webmentions</h3><br/></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/joomla-frontend-editing/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-87f5ae838a3e11ab908d.js"],"app":["/app-24df0ae8e19938884045.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5f1261b30b7ee352090a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7be8df31721789d53c28.js"],"component---src-pages-books-js":["/component---src-pages-books-js-ffee86f2ac01d1e02a72.js"],"component---src-pages-index-js":["/component---src-pages-index-js-05dcf5a41b92b2479436.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-a01e40860ee25e8046f1.js"],"component---src-templates-category-js":["/component---src-templates-category-js-49bc4748c0cd1500052b.js"],"component---src-templates-post-js":["/component---src-templates-post-js-1a88224ac8abae772b65.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-26ffbf608cbeadb83d5e.js"]};/*]]>*/</script><script src="/polyfill-87f5ae838a3e11ab908d.js" nomodule=""></script><script src="/component---src-templates-post-js-1a88224ac8abae772b65.js" async=""></script><script src="/b84efa9b784e27572a845759437622c93533bed1-af3eca6a1f9625807cd6.js" async=""></script><script src="/commons-711ca7686977bac14a85.js" async=""></script><script src="/app-24df0ae8e19938884045.js" async=""></script><script src="/framework-a8bc927eb7481ca28d49.js" async=""></script><script src="/webpack-runtime-2be39d1fe8ce13d9e39b.js" async=""></script></body></html>