{"componentChunkName":"component---src-templates-post-js","path":"/routing-und-geocoding-leaflet/","result":{"data":{"markdownRemark":{"html":"<p>Last, but not least möchte ich Ihnen ein Routing Plugin vorstellen, nämlich die <a href=\"https://github.com/perliedman/leaflet-routing-machine\">Leaflet Routing Machine</a><sup id=\"fnref-github.com/perliedman/leaflet-routing-machine\"><a href=\"#fn-github.com/perliedman/leaflet-routing-machine\" class=\"footnote-ref\">github.com/perliedman/leaflet-routing-machine</a></sup> von Per Liedmann.</p>\n<p>todo: <a href=\"https://github.com/perliedman/leaflet-routing-machine/issues/637\">https://github.com/perliedman/leaflet-routing-machine/issues/637</a></p>\n<blockquote>\n<p>Auch das ESRI bietet ein Routing Plugin. Jede Leaflet Erweiterung hat ihre Vorteile und ihre Nachteile. Falls Sie die Routing Version des Environmental Systems Research Institute ESRI einsetzen möchten, finden Sie alle Informationen hierfür unter der Adresse <a href=\"https://github.com/jgravois/lrm-esri\">https://github.com/jgravois/lrm-esri</a><sup id=\"fnref-github.com/jgravois/lrm-esri\"><a href=\"#fn-github.com/jgravois/lrm-esri\" class=\"footnote-ref\">github.com/jgravois/lrm-esri</a></sup>.</p>\n</blockquote>\n<h2>In diesem Kapitel werden wir …</h2>\n<p>Als erstes sehen wir uns kurz an, was sich hinter dem Begriff Routing versteckt. Danach werden wir das Plugin Leaflet Routing Machine in unsere Leaflet Karte integrieren. Dieses Plugin stellt zwei Textfelder zur Eingabe von Adressen zur Verfügung und berechnet auf Anforderung eine Route zwischen diesen beiden Adressen. Im weiteren Verlauf nutzen wir Optionen, um die Routenberechnung flexibler und benutzerfreundlicher zu machen.</p>\n<h2>Allgemeines zum Thema Routing</h2>\n<p>Fangen wir von vorne an. Es ist nämlich meiner Meinung nach auch spannend, einmal etwas über den Tellerrand zu blicken. Reicht es Ihnen, wenn sie zwei Adressen eingeben könnten und einen Weg zwischen diesen beiden Adressen als Ergebnis ausgegeben bekommen? Oder, möchten Sie auch etwas genauer wissen, was sich hinter dem Begriff Routing verbirgt? Wenn ersteres auf Sie zutrifft, dann lesen Sie am besten im nächsten Kapitel weiter. Ansonsten ist meine kurze Zusammenfassung hier im Kapitel vielleicht interessant für Sie.</p>\n<p>Auch wenn die vielen Informationen auf einer Karte komplex erscheinen: Das Berechnen einer Route kann von einer Software oder einem Dienst effizient durchgeführt werden. Dazu müssen die Daten der Karte, auf der die Berechnung ausgeführt werden soll, bestimmte Informationen enthalten. Die Daten von OpenStreetMap beinhalten Informationen, um Routen für verschiedene Profile berechnen zu können. Eine Route kann zum Beispiel für die Nutzung eines Autos oder eines Fahrrads unterschiedlich berechnet werden. Auch Optionen wie <em>'zu Fuß'</em> oder <em>'mit dem Pferd'</em> sind mit OpenStreetMap Daten möglich.</p>\n<p>Damit die Software zur Routenberechnung fehlerfrei funktioniert, müssen diese Daten qualitativ gut sein. Das bedeutet, dass Linien – also zum Beispiel Straßen – die verbunden sein sollen, auch wirklich verbunden sind. Umgekehrt dürfen Straßen, die sich auf verschieden Ebenen kreuzen - zum Beispiel bei Brücken oder Tunneln, nicht verbunden sein. Das bedeutet auch, dass Poller oder Absperrpfosten, an denen kein Auto vorbeikommt, auch als solche eingezeichnet sind. Ganz wichtig ist es, dass Abbiegeverbote an Kreuzungen auf der Karte klar gekennzeichnet sind. Wie OpenStreetMap das macht, können Sie unter anderem auf der Website <a href=\"https://wiki.openstreetmap.org/w/index.php?title=OSM_tags_for_routing\">https://wiki.openstreetmap.org</a><sup id=\"fnref-wiki.openstreetmap.org/w/index.php?title=osm_tags_for_routing\"><a href=\"#fn-wiki.openstreetmap.org/w/index.php?title=osm_tags_for_routing\" class=\"footnote-ref\">wiki.openstreetmap.org/w/index.php?title=osm_tags_for_routing</a></sup> nachlesen.</p>\n<p>Um bei der Routen-Berechnung die schnellste Route bestimmen zu können, sind Geschwindigkeitsangaben notwendig. OpenStreetMap speichert für jede Straße den Standardhöchstwert für deutsche Straßen. Dieser Standardwerte kann jedoch für bestimmte Straßen anders sein. In diesem Fall ist es notwendig, dass beim Erstellung des Straßen-Objektes die zulässige Höchstgeschwindigkeit hinzufügt wird. Dies geschieht mit einer speziellen Eigenschaft oder mit einem speziellen Tag. Nebenbei haben auch andere Faktoren, wie Kurven, Steigungen oder Straßenbelag einen Einfluss auf die Geschwindigkeit – und dieser ist je nach Profil noch einmal unterschiedlich. Eine Steigung verringert die Geschwindigkeit eines Fahrrades stärker, als die eines Autos. Dafür wird der Fußgänger in Kurven nicht so viel an Geschwindigkeit verlieren wie ein Fahrrad.</p>\n<p>Aber auch dann, wenn die Kartendaten sehr gut und fehlerfrei sind, ist es nicht trivial die ideale Software zur Routen-Berechnung zu erstellen. Hinzu kommen nämlich noch die Besonderheiten des Personenkreises, für den die Route erstellt werden soll. Welche Wege sollen für Radfahrer berücksichtigt werden? Es gibt Radfahrer, die nicht gerne durch die Stadt fahren sondern lieber im Wald unterwegs ist. Andere ziehen eine asphaltierte Straße mitten durch die Stadt einem matschigen Feldweg vor. Wie wählen wir die beste Strecke für einen Radfahrer, der überwiegend bei Dunkelheit trainiert? Oft kommt es sicher auch vor, dass eine Radtour geplant wird, bei der so viele Sehenswürdigkeiten wie möglich unmittelbar am Weg liegen sollten.</p>\n<p>Sie erkennen: Die Berechnung einer optimalen Route ist etwas sehr Individuelles!</p>\n<p>Sehen wir uns also an inwieweit die Dienste, die das Plugin Leaflet Routing Machine nutzt, diese Anforderungen erfüllt.</p>\n<h2>Leaflet Routing Maching</h2>\n<p>Nachfolgende finden Sie das erste Beispiel für diesen Themenbereich.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"html\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/6/index_932a.html--&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk3\">html&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span><span class=\"mtk1\">Eine OSM Karte mit Leaflet</span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk3\">style</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;height: 700px&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">id</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;mapid&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">mymap</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">map</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;mapid&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">setView</span><span class=\"mtk1\">([</span><span class=\"mtk6\">50.27264</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.26469</span><span class=\"mtk1\">], </span><span class=\"mtk6\">13</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">tileLayer</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        waypoints: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span></code></pre>\n<p>Was haben wir genau gemacht? Zunächst einmal haben wir die für die Verwendung der <a href=\"http://www.liedman.net/leaflet-routing-machine\">Leaflet Routing Machine</a><sup id=\"fnref-liedman.net/leaflet-routing-machine\"><a href=\"#fn-liedman.net/leaflet-routing-machine\" class=\"footnote-ref\">liedman.net/leaflet-routing-machine</a></sup> erforderlichen Dateien eingebunden. Verantwortlich hierfür sind die Zeilen</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk3\">/&gt;</span></span></span></code></pre>\n<p>Die aktuellen Dateien zum Plugin finden Sie unter der Adresse <a href=\"https://github.com/perliedman/leaflet-routing-machine/releases\">https://github.com/perliedman/leaflet-routing-machine/releases</a>. Als nächstes haben wir mit dem Textblock</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  waypoints: [</span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">), </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">)],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<p>ein <code class=\"language-text\">L.Routing.control</code> erstellt und dieses zur Karte hinzugefügt. Die Koordinaten, zwischen denen eine Route berechnet werden soll, haben wir mit der Option <code class=\"language-text\">waypoints</code> an das Control übergeben.</p>\n<p>Sie können einen Router, also eine Software, die die Route berechnen soll, mit dem Eintrag <code class=\"language-text\">router: L.Routing.mapbox('pk.ihrkey')</code> festgelegt. Für die Nutzung des Mapbox Routers benötigen Sie ein Zugriffstoken. Dieses können Sie unter der Adresse <a href=\"https://www.mapbox.com/api-documentation/#access-tokens\">https://www.mapbox.com</a><sup id=\"fnref-mapbox.com/api-documentation/#access-tokens\"><a href=\"#fn-mapbox.com/api-documentation/#access-tokens\" class=\"footnote-ref\">mapbox.com/api-documentation/#access-tokens</a></sup> anfordern. In dieser Dokumentation finden Sie auch weitere Informationen zum Router und zu den Lizenzbedingungen. Im nächsten Programmcodeblock habe ich das vorhergehende Beispiel so abgeändert, dass der Router von Mapbox angewendet wird.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"html\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/6/index_932b.html--&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk3\">html&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span><span class=\"mtk1\">Eine OSM Karte mit Leaflet</span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk3\">style</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;height: 700px&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">id</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;mapid&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">mymap</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">map</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;mapid&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">setView</span><span class=\"mtk1\">([</span><span class=\"mtk6\">50.27264</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.26469</span><span class=\"mtk1\">], </span><span class=\"mtk6\">13</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">tileLayer</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        waypoints: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        router: </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">mapbox</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk11\">&#39;pk.eyJ1IjoiYXNlbG5pZ3UiLCJhIjoiVi0zVHJBQSJ9.9fUKqRI4g5v59l9C-tM55w&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span></code></pre>\n<blockquote>\n<p>Wenn Sie die Option <code class=\"language-text\">router</code> nicht belegen, wird standardmäßig die Open Source Routing Machine – <a href=\"http://project-osrm.org\">http://project-osrm.org</a> – genutzt. Für diesen freien Router benötigen Sie kein Zugriffstoken. Leider ist dieser aber nicht so zuverlässig wie Mapbox. Bedenken Sie, es handelt sich um eine Demoversion, die Sie frei nutzen können und einem geschenkten Gaul schaut man schließlich nicht ins Maul!</p>\n</blockquote>\n<p>Die nächste Abbildung zeigt Ihnen unseren bisherigen Stand. Die Route wird berechnet und im rechten oberen Teil angezeigt. Anders als gewünscht werden Sie aber über eine Straße, auf der viele Autos fahren, geführt. Dabei möchten Sie gerne wandern. Außerdem sind die Texte in englischer Sprache. Das geht sicher besser!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1e3c9f232a149d384c7b36f8659d0faf/7a18f/927.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQozzVS2ZKiQBDk/79oH/ZhNzZiHWcUERAUx1FEoGnAY4Dm0IncbMZ9qKiuPrIzs8qoixDDeY0qmOE4XyJ7T/Gx/41zOsFQ+M/YoMs85jU+8yVaaaMWG4g0wfVc4nHvga8H+raCoaSHPjGRvZo4uDtEwRKf6RxttoASJnq5+o7MJqgNmU1QSxO31ENRlrhcLmi7jtFjaBsYwznAdT1FaC2Rhw4qMedjlyAe6v0UzX4OFdloDiZUuEBzshDvF7gWH5AyQxRFaJRCVdVkWMNo+Liwf6FKTQyUMpBNIyzcKbVLKO9kjush9/DgWRS4cCYvZL9BLgVOxxBxFOJ2PaOrLzC62EftTjGUHiU5YzSpNQK3BGzCN5754/49t1GELrz3P2ikhVb4UHKLnh4f479oshUZbm2oD8rRQATouakEs6TsfDUCdsIe64G1jlavacl3zVxusTr+wFUuYFwdcwSpEgKnmoWPKjbJjvKFg/bwCpXQgnJNlgQTLu/ZY9bN0oCdXOMUvxH0J4w2YZc5Do3kaJB6y1zHNkrvFYn7BnGw6K9muRobpUFu9Pt8mhHIJSuqo/df+RqqCGDc2eVa/5hpGf9/dXEh6Mqy8DKdI9rRS45SL53nCDmjv1p2/5St6K+eWaOSPunb42Vt/Ogd15+xgyCwsNvNcDv5CAVHRbBBGuzpsRJPi9IF8viFSn38A7864DYpDfCwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der eine Route angezeigt wird.\"\n        title=\"Eine Karte auf der eine Route angezeigt wird.\"\n        src=\"/static/1e3c9f232a149d384c7b36f8659d0faf/f058b/927.png\"\n        srcset=\"/static/1e3c9f232a149d384c7b36f8659d0faf/c26ae/927.png 158w,\n/static/1e3c9f232a149d384c7b36f8659d0faf/6bdcf/927.png 315w,\n/static/1e3c9f232a149d384c7b36f8659d0faf/f058b/927.png 630w,\n/static/1e3c9f232a149d384c7b36f8659d0faf/40601/927.png 945w,\n/static/1e3c9f232a149d384c7b36f8659d0faf/78612/927.png 1260w,\n/static/1e3c9f232a149d384c7b36f8659d0faf/7a18f/927.png 1284w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Options</h2>\n<p>Der nächste Programmcode zeigt Ihnen am Beispiel von Mapbox, wie Sie die Sprache und das Routing Profil verändern können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"html\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/6/index_931b.html--&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk3\">html&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span><span class=\"mtk1\">Eine OSM Karte mit Leaflet</span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk3\">style</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;height: 700px&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">id</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;mapid&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">mymap</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">map</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;mapid&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">setView</span><span class=\"mtk1\">([</span><span class=\"mtk6\">50.27264</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.26469</span><span class=\"mtk1\">], </span><span class=\"mtk6\">13</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">tileLayer</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        waypoints: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        router: </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">mapbox</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk11\">&#39;pk.eyJ1IjoiYXNlbG5pZ3UiLCJhIjoiVi0zVHJBQSJ9.9fUKqRI4g5v59l9C-tM55w&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            profile: </span><span class=\"mtk11\">&#39;mapbox/walking&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            language: </span><span class=\"mtk11\">&#39;de&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span></code></pre>\n<p>Der Mapbox Router bietet Ihnen unter anderem die Optionen <code class=\"language-text\">profil</code> und <code class=\"language-text\">language</code>. Die Namen sagen es schon aus. Als <a href=\"https://www.mapbox.com/api-documentation/#retrieve-directions\">Profil</a><sup id=\"fnref-mapbox.com/api-documentation/#retrieve-directions\"><a href=\"#fn-mapbox.com/api-documentation/#retrieve-directions\" class=\"footnote-ref\">mapbox.com/api-documentation/#retrieve-directions</a></sup> können Sie einstellen, ob Sie wandern, radeln oder lieber mit dem Auto fahren möchten. Die <a href=\"https://www.mapbox.com/api-documentation/#instructions-languages\">Option <code class=\"language-text\">language</code></a><sup id=\"fnref-mapbox.com/api-documentation/#instructions-languages\"><a href=\"#fn-mapbox.com/api-documentation/#instructions-languages\" class=\"footnote-ref\">mapbox.com/api-documentation/#instructions-languages</a></sup> bietet Ihnen eine Menge unterschiedlicher Sprachen. Möchten Sie noch etwas anderes ändern? Die Dokumentation zum Router von Mapbox finden Sie unter der Adresse <a href=\"https://www.mapbox.com/api-documentation/#introduction\">https://www.mapbox.com/</a><sup id=\"fnref-mapbox.com/api-documentation/#introduction\"><a href=\"#fn-mapbox.com/api-documentation/#introduction\" class=\"footnote-ref\">mapbox.com/api-documentation/#introduction</a></sup>.</p>\n<blockquote>\n<p>Wenn Sie lieber eine andere Software zur Berechnung der Route nutzen möchten, können Sie dies tun. Die Leaflet Routing Machine bietet Ihnen viele Möglichkeiten. Weitere Informationen, Demos und Tutorials zur Leaflet Routing Machine finden Sie auf der Website: <a href=\"http://www.liedman.net/leaflet-routing-machine\">http://www.liedman.net/leaflet-routing-machine</a>.</p>\n</blockquote>\n<p>Auch der Router des Projektes <a href=\"http://project-osrm.org\">http://project-osrm.org</a> bietet Ihnen Optionen. Soweit ich weiß, kann auf dem Demoserver aber nur das Profil <code class=\"language-text\">driving</code> genutzt werden. Aber die Sprache können Sie benutzerdefiniert anpassen. Wie dies geht zeigt Ihnen das nächste Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"html\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/6/index_931.html--&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk3\">html&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span><span class=\"mtk1\">Eine OSM Karte mit Leaflet</span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk3\">style</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;height: 700px&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">id</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;mapid&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">mymap</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">map</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;mapid&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">setView</span><span class=\"mtk1\">([</span><span class=\"mtk6\">50.27264</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.26469</span><span class=\"mtk1\">], </span><span class=\"mtk6\">13</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">tileLayer</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        waypoints: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        router: </span><span class=\"mtk8\">new</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">OSRMv1</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          language: </span><span class=\"mtk11\">&#39;de&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span></code></pre>\n<blockquote>\n<p>Sie können die URL, von der die Route abgefragt wird, auch direkt eingeben. Im Falle von <a href=\"http://project-osrm.org\">http://project-osrm.org</a> könnte dies wie folgt aussehen: <a href=\"https://router.project-osrm.org/route/v1/driving/7.262993,50.273543;7.276211,50.281168\">https://router.project-osrm.org/route/v1/driving/7.262993,50.273543;7.276211,50.281168</a>.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d35c799e6c7befa9ee8a6aa68417aa31/53ac9/926a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVQoz5VR7Q7DIAj0/V+0y9JubbV+Aje0W7asf5SEQAycd5yZbndM0w3zvMBah5TyUMaYcBy+1ZwLTMwMZgYRgQpBRIaz7tdawzw9I1HrEYKHFG59G3gP9UbdMV7RvLIkFhD4OoQxtqaQYA0KqGSKLWCnGRTaU6sfKdLJ1mRFmh0jqFQKGcj6k75V6a2OAjKfgFV2TFGZUpP5f5veMKkItnDezu4bnLNg+RozzLAQY4+MKr3a/2sGBsFOhgq0HKcp9EigNTdjJNKFZU+8APcEF7fj4dmrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Direkter erfolgreicher Aufruf OSRM-Server.\"\n        title=\"Direkter erfolgreicher Aufruf OSRM-Server.\"\n        src=\"/static/d35c799e6c7befa9ee8a6aa68417aa31/f058b/926a.png\"\n        srcset=\"/static/d35c799e6c7befa9ee8a6aa68417aa31/c26ae/926a.png 158w,\n/static/d35c799e6c7befa9ee8a6aa68417aa31/6bdcf/926a.png 315w,\n/static/d35c799e6c7befa9ee8a6aa68417aa31/f058b/926a.png 630w,\n/static/d35c799e6c7befa9ee8a6aa68417aa31/40601/926a.png 945w,\n/static/d35c799e6c7befa9ee8a6aa68417aa31/78612/926a.png 1260w,\n/static/d35c799e6c7befa9ee8a6aa68417aa31/53ac9/926a.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Falls Ihnen die Meldung <em>'Too Many Requests'</em> angezeigt wird, müssen Sie nichts falsch gemacht haben. In dem Fall ist der Server gerade überlastet. Versuchen Sie es einfach später noch einmal.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c08bf7bf64d3802b747959d0b245e684/53ac9/926b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVQoz+2PQQqAMAwE8/9XejEoequVJiZdbR8gVHJ0YNjbsks8r+CJsS07UjogokOWIsj57Kl6gcwcLgbTRzPUWod1954NQiCtlL4sejN0YfjlvzCGGyKhGl4B254EAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Direkter fehlerhafter Aufruf OSRM-Server.\"\n        title=\"Direkter fehlerhafter Aufruf OSRM-Server.\"\n        src=\"/static/c08bf7bf64d3802b747959d0b245e684/f058b/926b.png\"\n        srcset=\"/static/c08bf7bf64d3802b747959d0b245e684/c26ae/926b.png 158w,\n/static/c08bf7bf64d3802b747959d0b245e684/6bdcf/926b.png 315w,\n/static/c08bf7bf64d3802b747959d0b245e684/f058b/926b.png 630w,\n/static/c08bf7bf64d3802b747959d0b245e684/40601/926b.png 945w,\n/static/c08bf7bf64d3802b747959d0b245e684/78612/926b.png 1260w,\n/static/c08bf7bf64d3802b747959d0b245e684/53ac9/926b.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Im nächsten Bild sehen Sie, dass das Routing im Mapbox Beispiel nun eher zu einem Wanderer passt und die Texte sind auch in deutscher Sprache. Das ist schon einmal gut. Aber es geht ja meist noch besser.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af52639a40b0291cbf37b40d1ac964b1/7a18f/926.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQoz0VSWXeiMBTm//+oPk6tThUDglvdBhCS4EJFEsB+c5M4zsM9B7J8a7yb3KMrl2jLGI1k7lvOX+P+F2hFBMVjMD/AdBYgz0NInoOLAtX1DPw80Dbf8JRYQBehnXsxposztHxmAcxoHkLlDKpgtB5CzBnY4h2hfIMQAlJKVFWFx+MH99sVnpYOsBOkkE8sYCdjB1QYoMD+t7SvEx/64KPIfoPT+jHLsN/voJRC3/e4nDi87rS2zB3Z0yIgUN8q1HTBqizJOtlT+zF0yuhMbPdVsSPbR2RZCq01dNviUj4BjRpzuZMR2f50Kg2QsZxMoQ4TR2JJjfoANV/jcq1wOp3J8jdZBtT99lQoQscsl1QMhS+YVeNUTV+F6IJACbjjRF5+oa4uUHVFQBX6toGuz5ThaYtGrGDLebZZbwfQ2X/LqogdaE6ANDIdIU8+UKaU5Z+hzbcxxfI5vHS3wpaaa0hBR23Wm0+oZEibU1JElgtXyL/WO0PIGXg6JGCaZOSiIZdCjOAdDxtsVnNsQh+TwQfkIaKDIdL1L9yP7Jlt/MrZDtnuiaQzz4tHdhoq9Cp8eGW2wNdqiTgKMCDAdTxDtJ4hOywIcEzZsdd7NGWZZ2SemeKhXWuyqXVgSHvq4C92ieWxBmIHVgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der eine Route für Wanderer in deutscher Sprache angezeigt wird.\"\n        title=\"Eine Karte auf der eine Route für Wanderer in deutscher Sprache angezeigt wird.\"\n        src=\"/static/af52639a40b0291cbf37b40d1ac964b1/f058b/926.png\"\n        srcset=\"/static/af52639a40b0291cbf37b40d1ac964b1/c26ae/926.png 158w,\n/static/af52639a40b0291cbf37b40d1ac964b1/6bdcf/926.png 315w,\n/static/af52639a40b0291cbf37b40d1ac964b1/f058b/926.png 630w,\n/static/af52639a40b0291cbf37b40d1ac964b1/40601/926.png 945w,\n/static/af52639a40b0291cbf37b40d1ac964b1/78612/926.png 1260w,\n/static/af52639a40b0291cbf37b40d1ac964b1/7a18f/926.png 1284w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Wahrscheinlich möchten Sie, dass die Adressen, zwischen denen geroutet wird, variabel auf der Karte verändert werden können. Genau das wollte ich als nächstes umsetzen und deshalb habe ich dies im nächsten Beispiel auch gemacht.</p>\n<h2>Geocoding und Routing</h2>\n<p>Bisher wurde die Route ausschließlich anhand von Koordinaten berechnet. Menschen nutzen aber lieber Texte in Form von Adressen. Das Sie mithilfe von Geocoding Adressen in Koordinaten verwandelt können – beziehungsweise Koordinaten in Adressen verwandeln können – haben Sie im Kapitel <em>Geocoding ESRI</em> schon lesen können. Hier im Beispiel kombinieren wir nun Routing und Geocoding. Sehen Sie selbst:</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"html\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">&lt;!-- https://raw.githubusercontent.com/astridx/leaflet_beispieldateien_zum_Buch/master/version3_2021/6/index_930.html--&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk3\">html&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span><span class=\"mtk1\">Eine OSM Karte mit Leaflet</span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">title</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;../leaflet/leaflet.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;Control.Geocoder.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;Control.Geocoder.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;leaflet-routing-machine.css&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk3\">style</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;height: 700px&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">id</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;mapid&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">mymap</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">map</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;mapid&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">setView</span><span class=\"mtk1\">([</span><span class=\"mtk6\">50.27264</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.26469</span><span class=\"mtk1\">], </span><span class=\"mtk6\">13</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">tileLayer</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13 mtkb\">var</span><span class=\"mtk1\"> </span><span class=\"mtk7\">control</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">control</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        waypoints: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.273543</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.262993</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">latLng</span><span class=\"mtk1\">(</span><span class=\"mtk6\">50.281168</span><span class=\"mtk1\">, </span><span class=\"mtk6\">7.276211</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        router: </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Routing</span><span class=\"mtk1\">.</span><span class=\"mtk7\">mapbox</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk11\">&#39;pk.eyJ1IjoiYXNlbG5pZ3UiLCJhIjoiVi0zVHJBQSJ9.9fUKqRI4g5v59l9C-tM55w&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            language: </span><span class=\"mtk11\">&#39;de&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        ),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        geocoder: </span><span class=\"mtk7\">L</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Control</span><span class=\"mtk1\">.</span><span class=\"mtk7\">Geocoder</span><span class=\"mtk1\">.</span><span class=\"mtk7\">nominatim</span><span class=\"mtk1\">({}),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }).</span><span class=\"mtk7\">addTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">mymap</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk3\">&gt;</span></span></span></code></pre>\n<p>In diesem Beispiel haben wir das vorhergehende Beispiel mit dem Plugin <a href=\"https://github.com/perliedman/leaflet-control-geocoder\">Geocoder Control</a><sup id=\"fnref-github.com/perliedman/leaflet-control-geocoder\"><a href=\"#fn-github.com/perliedman/leaflet-control-geocoder\" class=\"footnote-ref\">github.com/perliedman/leaflet-control-geocoder</a></sup> erweitert. Konkret haben wir mithilfe der Zeilen</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"js\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">script</span><span class=\"mtk1\"> </span><span class=\"mtk3\">src</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;Control.Geocoder.js&quot;</span><span class=\"mtk3\">&gt;&lt;/</span><span class=\"mtk7\">script</span><span class=\"mtk3\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;</span><span class=\"mtk7\">link</span><span class=\"mtk1\"> </span><span class=\"mtk3\">rel</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;stylesheet&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">href</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;Control.Geocoder.css&quot;</span><span class=\"mtk3\">/&gt;</span></span></span></code></pre>\n<p>die Skript-Datei und die CSS-Datei des Plugin <a href=\"https://github.com/perliedman/leaflet-control-geocoder\">Geocoder Control</a><sup id=\"fnref-github.com/perliedman/leaflet-control-geocoder\"><a href=\"#fn-github.com/perliedman/leaflet-control-geocoder\" class=\"footnote-ref\">github.com/perliedman/leaflet-control-geocoder</a></sup> von Per Liedmann eingebunden. Die aktuellste Version dieses Plugins können Sie unter der Adresse <a href=\"https://github.com/perliedman/leaflet-control-geocoder/releases\">https://github.com/perliedman/leaflet-control-geocoder/releases</a> herunterladen. Danach haben wir die Option <code class=\"language-text\">geocoder</code> des Plugins Leaflet Routing Machine mit dem Wert <code class=\"language-text\">L.Control.Geocoder.nominatim({})</code> belegt. Und das war es schon!</p>\n<p>Als Ergebnis sehen Sie nun zwei Textfelder im oberen rechten Bereich auf Ihrer Karte. In diese können Sie Adressen eingeben und so Ihre Route benutzerfreundlich abändern.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b4337065e5a37895e7969f83f0159a56/7a18f/925.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCklEQVQozy1S2XaiQBTk/78qMy/GJCKyKqOJK72AqCwNYpKaohPOqXOh6a6uqnudpthhKJeo0zfsZwuotcD7xx+UYoKhSH6xQq9i1iWqfIFO+WhViiLXKLRCPkIp3MocjtEx7pkL9eJiG25wSBeoxIyH5jDSxV1HPyBJT2g1QaNd3EQM0/XoCNN1tjbVBc5Qprgup9h5C+S7ALWc8XBIkhjNxxTtxwzmQEVbF2Y3R3v0kG095GIJRWVVVeH7+xvj87gbOC0PF/4TauFi0D4RoZUeHrTaZ7R3dO37kMf45L9DGiKYPFN9ikxkkFLCmBafX19UWMLpTwmacIrhHNNSYNEKzxJ3JGx3r/yX2PVH7qPYh4jXf2HKFckUNps1yrLEMDxwyRUV/vNh3mlnJCLBXUW8nVXTdh5Zwl769nvg94hO8+JiAyUzHPZbVoEL1Z3LDM41cC1JnZFYjCoS1CeX6mhfBui2LzAZIzgvqZJkMuQ+7mXt8xXVp6xrCK5F+yc4XcYucxxazdHgeHSszcnHOX5BFr5CsgG1GFVGtlFjx2/Muzxyjaqvmk3TC3xSiClSOA92uSF7x+YMo0092gpxIWnkeXieznDYMEuO0p1Wf0YosPkO4wU2Bo5QHtiZdWqd0IZvN4/B2+z4Xp0CpKnH0N9wOybYyTmukg0ayX4zNvI3IjFHfnqm0wT/AWnT4XQXDfWiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der eine Route angezeigt wird. Sie können die Route ändern, indem Sie eine Adresse in einem der Textfelder rechts oben eingeben.\"\n        title=\"Eine Karte auf der eine Route angezeigt wird. Sie können die Route ändern, indem Sie eine Adresse in einem der Textfelder rechts oben eingeben.\"\n        src=\"/static/b4337065e5a37895e7969f83f0159a56/f058b/925.png\"\n        srcset=\"/static/b4337065e5a37895e7969f83f0159a56/c26ae/925.png 158w,\n/static/b4337065e5a37895e7969f83f0159a56/6bdcf/925.png 315w,\n/static/b4337065e5a37895e7969f83f0159a56/f058b/925.png 630w,\n/static/b4337065e5a37895e7969f83f0159a56/40601/925.png 945w,\n/static/b4337065e5a37895e7969f83f0159a56/78612/925.png 1260w,\n/static/b4337065e5a37895e7969f83f0159a56/7a18f/925.png 1284w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>In diesem Kapitel haben wir …</h2>\n<p>Gegenstand dieses Kapitels war Routing. Wir haben uns kurz angesehen, was Kartendaten bieten müssen, um die Berechnung einer Route zu ermöglichen. Dass die Kartendaten aber nicht alles sind und eine Route etwas sehr Individuelles sein kann, wurde dabei auch klar. Danach haben wir das Plugin Leaflet Routing Machine in unsere Leaflet Karte integriert und mithilfe von Optionen und Geocoding flexibler und benutzerfreundlicher gemacht.\n<img src=\"https://vg07.met.vgwort.de/na/9bc1f3cbf70442359341118d463e77ef\" width=\"1\" height=\"1\" alt=\"\"></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtkb { font-weight: bold; }\n  .solarized-light .mtki { font-style: italic; }\n  .solarized-light .mtk3 { color: #93A1A1; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk11 { color: #2AA198; }\n  .solarized-light .mtk13 { color: #073642; }\n  .solarized-light .mtk8 { color: #859900; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/leaflet/7routing-und-geocoding-leaflet.md","excerpt":"Last, but not least möchte ich Ihnen ein Routing Plugin vorstellen, nämlich die Leaflet Routing Machine von Per Liedmann. todo: https…","fields":{"slug":"/routing-und-geocoding-leaflet/"},"frontmatter":{"title":"Routing und Geocoding","date":"19.12.2018","tags":["geografische Daten","Leaflet"],"thumbnail":null}}},"pageContext":{"slug":"/routing-und-geocoding-leaflet/","previous":{"id":"93b9e449-f592-57ea-9c16-e57c5b64e337","frontmatter":{"title":"ESRI - Environmental Systems Research Institute","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/en/esri-leaflet/"}},"next":{"id":"44ed838b-e0a8-56d9-9ece-d3e4d7fefc95","frontmatter":{"title":"Routing und Geocoding","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/en/routing-und-geocoding-leaflet/"}}}},"staticQueryHashes":[]}