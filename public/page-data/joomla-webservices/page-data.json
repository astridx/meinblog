{"componentChunkName":"component---src-templates-post-js","path":"/joomla-webservices/","result":{"data":{"markdownRemark":{"html":"<p>In diesem Teil werfen wir einen Blick auf die Joomla 4-API und den Zugriff auf Joomla 4-Inhalte. Eine <a href=\"https://de.wikipedia.org/wiki/Programmierschnittstelle\">Programmierschnittstelle</a> - kurz API (von englisch application programming interface) - ist ein Programmteil, der von einem Softwaresystem anderen Programmen zur Anbindung an das System zur Verfügung gestellt wird. Heutzutage bieten viele Online-Dienste APIs; diese heißen dann <a href=\"https://de.wikipedia.org/wiki/Webservice\">Webservice</a>. Das Vorhandensein einer dokumentierten Programmierschnittstelle (API) für eine Joomla-Komponente ermöglicht es anderen, zusätzliche Software für diese zu erstellen oder Daten in eigenen Programmen zu nutzen – zusammenzuarbeiten.</p>\n<h2>Für Ungeduldige</h2>\n<p>Sieh dir den geänderten Programmcode in der <a href=\"https://github.com/astridx/boilerplate/compare/t29...t30\">Diff-Ansicht</a> an und übernimm diese Änderungen in deine Entwicklungsversion.</p>\n<h2>Schritt für Schritt</h2>\n<p>In diesem Abschnitt bearbeiten wir die Komponenten und fügen ein Plugin hinzu.</p>\n<h3>Neue Dateien</h3>\n<h4>Komponente</h4>\n<h5><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-dab91e8b720388ab0c28e2fba29c4c40\">src/api/components/com_foos/src/Controller/FooController.php</a></h5>\n<p>Erstelle den Controller <code class=\"language-text\">FooController</code> der von <code class=\"language-text\">ApiController</code> erbt. In der Klasse <code class=\"language-text\">ApiController</code> ist alles Notwendige implementiert. Wenn du keine abweichenden Anforderungen hast, dann ist das Rad erfunden. Überschreibe lediglich die folgenden Felder für deine Komponente:</p>\n<p><code class=\"language-text\">protected $contentType = &#39;foos&#39;;</code> und <code class=\"language-text\">protected $default_view = &#39;foos&#39;;</code>.</p>\n<ul>\n<li><code class=\"language-text\">$contentType</code> - wird standardmäßig für <code class=\"language-text\">$modelName</code> verwendet.</li>\n<li><code class=\"language-text\">$default_view</code> - ist Standard für <code class=\"language-text\">$viewName</code>.</li>\n</ul>\n<pre class=\"grvsc-container solarized-light\" data-language=\"php\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">namespace</span><span class=\"mtk1\"> </span><span class=\"mtk7\">FooNamespace\\Component\\Foos\\Api\\Controller</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">defined</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;_JEXEC&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">or</span><span class=\"mtk1\"> </span><span class=\"mtk8\">die</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\CMS\\MVC\\Controller\\</span><span class=\"mtk8\">ApiController</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\Component\\Fields\\Administrator\\Helper\\</span><span class=\"mtk8\">FieldsHelper</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">FooController</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">extends</span><span class=\"mtk1\"> ApiController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">contentType</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;foos&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">default_view</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;foos&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">save</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">recordKey</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">null</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk13 mtkb\">array</span><span class=\"mtk1\">) </span><span class=\"mtk7\">json_decode</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">input</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">json</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">getRaw</span><span class=\"mtk1\">(), </span><span class=\"mtk5\">true</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">foreach</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">FieldsHelper::</span><span class=\"mtk7\">getFields</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;com_foos.foo&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">as</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk8\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk9\">isset</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">]))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk8\">!</span><span class=\"mtk9\">isset</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk11\">&#39;com_fields&#39;</span><span class=\"mtk1\">]) </span><span class=\"mtk8\">&amp;&amp;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk11\">&#39;com_fields&#39;</span><span class=\"mtk1\">] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> [];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk11\">&#39;com_fields&#39;</span><span class=\"mtk1\">][</span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk9\">unset</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">[</span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">]);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">input</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">set</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;data&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">data</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">parent</span><span class=\"mtk8\">::</span><span class=\"mtk7\">save</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">recordKey</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h5><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-191b4165f0ea6df622e83c844c919187\">src/api/components/com_foos/src/View/Foos/JsonapiView.php</a></h5>\n<p>Erstelle die Schnittstelle <code class=\"language-text\">JsonapiView</code> die von <code class=\"language-text\">BaseApiView</code> erbt. Greife wieder auf fertigen Joomla Code zu. Überschreibe die folgenden Felder für deine Komponente:</p>\n<p><code class=\"language-text\">protected $fieldsToRenderItem = [&#39;id&#39;, &#39;alias&#39;, &#39;name&#39;, &#39;catid&#39;];</code> und <code class=\"language-text\">protected $fieldsToRenderList = [&#39;id&#39;, &#39;alias&#39;, &#39;name&#39;, &#39;catid&#39;];</code>.</p>\n<ul>\n<li><code class=\"language-text\">$fieldsToRenderItem</code> - Array mit Informationen zum Anzeigen eines einzelnen Objekts.</li>\n<li><code class=\"language-text\">$fieldsToRenderList</code> - Array mit Inhalten zum Auflisten von Objekten.</li>\n</ul>\n<pre class=\"grvsc-container solarized-light\" data-language=\"php\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">namespace</span><span class=\"mtk1\"> </span><span class=\"mtk7\">FooNamespace\\Component\\Foos\\Api\\View\\Foos</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">defined</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;_JEXEC&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">or</span><span class=\"mtk1\"> </span><span class=\"mtk8\">die</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\CMS\\MVC\\View\\</span><span class=\"mtk8\">JsonApiView</span><span class=\"mtk1\"> </span><span class=\"mtk8\">as</span><span class=\"mtk1\"> BaseApiView;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\Component\\Fields\\Administrator\\Helper\\</span><span class=\"mtk8\">FieldsHelper</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">JsonapiView</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">extends</span><span class=\"mtk1\"> BaseApiView</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">fieldsToRenderItem</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk11\">&#39;id&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;alias&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;name&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;catid&#39;</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">fieldsToRenderList</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk11\">&#39;id&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;alias&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;name&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;catid&#39;</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">public</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">displayList</span><span class=\"mtk1\">(</span><span class=\"mtk13 mtkb\">array</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">items</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">null</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">foreach</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">FieldsHelper::</span><span class=\"mtk7\">getFields</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;com_foos.foo&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">as</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">fieldsToRenderList</span><span class=\"mtk1\">[] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">id</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">parent</span><span class=\"mtk8\">::</span><span class=\"mtk7\">displayList</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">public</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">displayItem</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">null</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">foreach</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">FieldsHelper::</span><span class=\"mtk7\">getFields</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;com_foos.foo&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">as</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">fieldsToRenderItem</span><span class=\"mtk1\">[] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">parent</span><span class=\"mtk8\">::</span><span class=\"mtk7\">displayItem</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">prepareItem</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">foreach</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">FieldsHelper::</span><span class=\"mtk7\">getFields</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;com_foos.foo&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk1\">, </span><span class=\"mtk5\">true</span><span class=\"mtk1\">) </span><span class=\"mtk8\">as</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;{$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk8\">}</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">isset</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">apivalue</span><span class=\"mtk1\">) </span><span class=\"mtk8\">?</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">apivalue</span><span class=\"mtk1\"> </span><span class=\"mtk8\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">field</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">rawvalue</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">parent</span><span class=\"mtk8\">::</span><span class=\"mtk7\">prepareItem</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h4>Plugin</h4>\n<h5><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-40f93df99ac26b4f2227f6916930d089\">src/plugins/webservices/foos/foos.php</a></h5>\n<p>In der Plugin-Datei erstellen wir die Klasse <code class=\"language-text\">PlgWebservicesFoos</code> und registrieren in der <code class=\"language-text\">onBeforeApiRoute</code>-Methode alle Routen, die wir für den Webservice benötigen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"php\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">defined</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;_JEXEC&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">or</span><span class=\"mtk1\"> </span><span class=\"mtk8\">die</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\CMS\\Plugin\\</span><span class=\"mtk8\">CMSPlugin</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">use</span><span class=\"mtk1\"> Joomla\\CMS\\Router\\</span><span class=\"mtk8\">ApiRouter</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">PlgWebservicesFoos</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">extends</span><span class=\"mtk1\"> CMSPlugin</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">autoloadLanguage</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">true</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk13 mtkb\">public</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">onBeforeApiRoute</span><span class=\"mtk1\">(</span><span class=\"mtk13 mtkb\">&amp;</span><span class=\"mtk8\">$</span><span class=\"mtk7\">router</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">router</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">createCRUDRoutes</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk11\">&#39;v1/foos&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk11\">&#39;foo&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t[</span><span class=\"mtk11\">&#39;component&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;com_foos&#39;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">router</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">createCRUDRoutes</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk11\">&#39;v1/foos/categories&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk11\">&#39;categories&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t[</span><span class=\"mtk11\">&#39;component&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;com_categories&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;extension&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;com_foos&#39;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h5><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-9edff0e14d874c7924bbeaada9d5b3d9\">src/plugins/webservices/foos/foos.xml</a></h5>\n<p>Um das Plugin zu installieren, ist eine Installationsdatei notwendig. Die kennst du von der Komponente.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"xml\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;?</span><span class=\"mtk7\">xml</span><span class=\"mtk3\"> version</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;1.0&quot;</span><span class=\"mtk3\"> encoding</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;utf-8&quot;</span><span class=\"mtk1\">?&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">extension</span><span class=\"mtk1\"> </span><span class=\"mtk3\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;plugin&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">group</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;webservices&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">method</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;upgrade&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">&gt;plg_webservices_foos&lt;/</span><span class=\"mtk7\">name</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">creationDate</span><span class=\"mtk1\">&gt;[DATE]&lt;/</span><span class=\"mtk7\">creationDate</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">author</span><span class=\"mtk1\">&gt;[AUTHOR]&lt;/</span><span class=\"mtk7\">author</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">authorEmail</span><span class=\"mtk1\">&gt;[AUTHOR_EMAIL]&lt;/</span><span class=\"mtk7\">authorEmail</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">authorUrl</span><span class=\"mtk1\">&gt;[AUTHOR_URL]&lt;/</span><span class=\"mtk7\">authorUrl</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">copyright</span><span class=\"mtk1\">&gt;[COPYRIGHT]&lt;/</span><span class=\"mtk7\">copyright</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">license</span><span class=\"mtk1\">&gt;GNU General Public License version 2 or later;&lt;/</span><span class=\"mtk7\">license</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">version</span><span class=\"mtk1\">&gt;__BUMP_VERSION__&lt;/</span><span class=\"mtk7\">version</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">description</span><span class=\"mtk1\">&gt;PLG_WEBSERVICES_FOOS_XML_DESCRIPTION&lt;/</span><span class=\"mtk7\">description</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;</span><span class=\"mtk7\">files</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;</span><span class=\"mtk7\">filename</span><span class=\"mtk1\"> </span><span class=\"mtk3\">plugin</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;foos&quot;</span><span class=\"mtk1\">&gt;foos.php&lt;/</span><span class=\"mtk7\">filename</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;</span><span class=\"mtk7\">folder</span><span class=\"mtk1\">&gt;language&lt;/</span><span class=\"mtk7\">folder</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t&lt;/</span><span class=\"mtk7\">files</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">extension</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-ea87c7478e8b139eba5cfa201d65126f\">src/plugins/webservices/foos/language/en-GB/plg<em>webservices</em>foos.ini</a></h4>\n<p>Die Spachdateien füge ich der Vollständigkeit halber bei.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"ini\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">PLG_WEBSERVICES_FOOS=&quot;Web Services - Foos&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">PLG_WEBSERVICES_FOOS_XML_DESCRIPTION=&quot;Used to add foos routes to the API for your website.&quot;</span></span></code></pre>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-4d953946983e4ca61a815fe58c527837\">src/plugins/webservices/foos/language/en-GB/plg<em>webservices</em>foos.sys.ini</a></h4>\n<p>Auch diese Spachdatei füge ich der Vollständigkeit halber bei.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"ini\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">PLG_WEBSERVICES_FOOS=&quot;Web Services - Foos&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">PLG_WEBSERVICES_FOOS_XML_DESCRIPTION=&quot;Used to add foos routes to the API for your website.&quot;</span></span></code></pre>\n<h3>Geänderte Dateien</h3>\n<h3>Komponente</h3>\n<h5><a href=\"https://github.com/astridx/boilerplate/compare/t29...t30#diff-1ff20be1dacde6c4c8e68e90161e0578\">src/administrator/components/com_foos/foos.xml</a></h5>\n<p>In der Installationsdatei ist wichtig, den Ordner <code class=\"language-text\">api</code> aufzunehmen. Sonst werden die Dateien im Unterordner <code class=\"language-text\">api</code> bei einer Installation nicht in das richtige Verzeichnis kopiert.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"xml\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">api</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;</span><span class=\"mtk7\">files</span><span class=\"mtk1\"> </span><span class=\"mtk3\">folder</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;api/components/com_foos&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t&lt;</span><span class=\"mtk7\">folder</span><span class=\"mtk1\">&gt;src&lt;/</span><span class=\"mtk7\">folder</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;/</span><span class=\"mtk7\">files</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">api</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<h2>Teste deine Joomla-Komponente</h2>\n<ol>\n<li>Führe eine neue Installation durch. Deinstalliere hierzu deine bisherige Installation und kopiere alle Dateien erneut.</li>\n</ol>\n<p>Kopiere die Dateien im <code class=\"language-text\">administrator</code> Ordner in den <code class=\"language-text\">administrator</code> Ordner deiner Joomla 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">components</code> Ordner in den <code class=\"language-text\">components</code> Ordner deiner Joomla 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">media</code> Ordner in den <code class=\"language-text\">media</code> Ordner deiner Joomla 4 Installation.\nKopiere die Dateien im <code class=\"language-text\">api</code> Ordner in den <code class=\"language-text\">api</code> Ordner deiner Joomla 4 Installation.\nKopiere die Dateien im <code class=\"language-text\">plugin</code> Ordner in den <code class=\"language-text\">plugin</code> Ordner deiner Joomla 4 Installation.</p>\n<p>Installiere deine Komponente <strong>und das Plugin</strong> wie in Teil eins beschrieben, nachdem du alle Dateien kopiert hast.</p>\n<ol start=\"2\">\n<li>Aktiviere das Plugin</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a97047c305e0a24dee2f51b4e15d2d4/53ac9/j4x35x1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQoz2WQTWtTQRSG79Kt1G4UunEjihgFpQhuVER3orVCFy0oiD/AhTtxke9W8Q/oSrdia1r0Jygo2pJFTGOTYD6bm/sxc+/cmZv7emaSUKoDL2dmzplnznmtE/PLOHpuEUdO3cZM6h5OX3+A45fu49j5u5i9oLWAWdrr80zqDuYuL5n8xasrOHPtIc7eeISTV1aQuvkYc/NLsJYzn7HwrIRbT9dRfPsF7aaNvdoAtWrfxGqli2Z9iF6Ho9fm6HcCEsduvYOdyh6+7fzCj3LVqExny/YCcCGhV73XwstPr1DcWkPuYwH5UhFZijmKBbqbqri1it/9JpIE9FZByBGCKIaMAYsHoYEpOm3XKlgtrSH9IYv0eoaURWYji/xmjuA5FEzMI013241d+BwYeAK2JyeKYHl+gNGIfggFuvuugSPBoUUp6H81QEbjO58rDP0ILpNwKDq+NLK4rqYVxzElQ/PjPtlgewzMZ+i7HC/el/H83U88ef0dbza+otZoYegyeCwgiMCQ6h39xhWwlIrJi3FLkvaRGoFRIWv8gd1zjDfarBFpWqdimoi8m0r7GIoIHqeRzYSTwkgqGj+BFzpwPY6uG5mOx/kDoJ6GMYYoioxdOiqlaEIDTA4BYwJK5lFSoG2H6NgBeo4wXSWTLhUBBXUUCoGAzJVSHgCTJPmvQ8YdOORndyjQGgTjsf/pUAMFATV0DJQG+Bf43rwUgtzYPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla Plugin aktivieren\"\n        title=\"Joomla Plugin aktivieren\"\n        src=\"/static/1a97047c305e0a24dee2f51b4e15d2d4/f058b/j4x35x1.png\"\n        srcset=\"/static/1a97047c305e0a24dee2f51b4e15d2d4/c26ae/j4x35x1.png 158w,\n/static/1a97047c305e0a24dee2f51b4e15d2d4/6bdcf/j4x35x1.png 315w,\n/static/1a97047c305e0a24dee2f51b4e15d2d4/f058b/j4x35x1.png 630w,\n/static/1a97047c305e0a24dee2f51b4e15d2d4/40601/j4x35x1.png 945w,\n/static/1a97047c305e0a24dee2f51b4e15d2d4/78612/j4x35x1.png 1260w,\n/static/1a97047c305e0a24dee2f51b4e15d2d4/53ac9/j4x35x1.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol start=\"3\">\n<li>Aktive das Plugin <em>Basic Auth</em></li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/791987a412ad0df87cf03e965e29d5b2/53ac9/j4x35x2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACEklEQVQoz1VSy4oTQRTtrQvBlboRUXCh+ABFEUVcDIguZdSFw6gI4h+IKzeCuPQPRFy4FdSFX+BGx2eSTs8jOkkmM0mm0696d+V4b2fCzBQcquvWueeee6uDgxfmsPfkLPYcv4l9p2/h2NUHOHxpDvvP3saBc3d2gWNHLs/j0MW7OD9zHydmHuLUtUc4euUezlx/XMWD+RefMfvsE248/YCXb7+gufgPP+sthEttRMtdNJc7uxCtdCdoraGx1MGP2gp+N1oVGpQbjDIJaRxKD6RCotVrYbXfxkjEiLcw2oEqVjA2Mcw30U8HtA+xkWxAaINASAVemg7t9T6+LX7H12gBYbeJejtEvROiRnttNcQfAscaFAu7UcWZIKJ4A704QZDlEt57SKXRGyQoNJALCyE1SrKdFAav3kd4/q6GJ69/4c3HBbTXBkhzgbyQyIRBViiCRpyxQxLiVZYlCqGhrEcqLVISGuUGhXIkaivyINVIckKaQSi+19CmrLgF5TAvcK7EeDyuRC05Kg1dZjEyKrQeKwxJxFF8ypmMR8NaR2KWZu+rnc8sHDBhSja2hKcCsvOXKir0E1256ieKHsxWPB6PIkFDhbkrPjtHj1o6at+y4HiHoIOnT6kFtaorQXY4osrscsrN84JmLMHdsaC1dluQCbsckqK0EoraYFcZzcZQIov5LS7/EdpwkW2H3pfIpcN/WnPLYR5F69sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla Plugin Basic Auth aktivieren\"\n        title=\"Joomla Plugin Basic Auth aktivieren\"\n        src=\"/static/791987a412ad0df87cf03e965e29d5b2/f058b/j4x35x2.png\"\n        srcset=\"/static/791987a412ad0df87cf03e965e29d5b2/c26ae/j4x35x2.png 158w,\n/static/791987a412ad0df87cf03e965e29d5b2/6bdcf/j4x35x2.png 315w,\n/static/791987a412ad0df87cf03e965e29d5b2/f058b/j4x35x2.png 630w,\n/static/791987a412ad0df87cf03e965e29d5b2/40601/j4x35x2.png 945w,\n/static/791987a412ad0df87cf03e965e29d5b2/78612/j4x35x2.png 1260w,\n/static/791987a412ad0df87cf03e965e29d5b2/53ac9/j4x35x2.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol start=\"4\">\n<li>Die Schnittstelle bietet dir nun folgende Abfragemöglichkeiten:</li>\n</ol>\n<p>Eine Liste von Foos: <code class=\"language-text\">curl -X GET /api/index.php/v1/foos</code><br>\nEin einzelnes Foo-Element: <code class=\"language-text\">curl -X GET /api/index.php/v1/foos/{foo_id}</code><br>\nLösche ein Foo Element: <code class=\"language-text\">curl -X DELETE /api/index.php/v1/foos/{foo_id}</code></p>\n<blockquote>\n<p>Bei den Beispielen gehe ich davon aus, dass deine Installation unter <code class=\"language-text\">http://localhost/joomla-cms4</code> befindet und dein Benutzer sowie dein Passwort <code class=\"language-text\">admin</code> lauten. Ändere dies gegebenenfalls.</p>\n</blockquote>\n<blockquote>\n<p>Für <a href=\"https://curl.haxx.se/\">Curl</a> ist es erforderlich, dass du das Passwort in <a href=\"https://de.wikipedia.org/wiki/Base64\">Base64</a> umwandelst. Eine Website, die dir dies abnimmt, ist <a href=\"https://www.base64encode.org/\">base64encode.org</a>.</p>\n</blockquote>\n<p>Nutzt du <a href=\"https://curl.haxx.se/\">Curl</a>? Die folgende Abfrage listet dir alle Elemente auf:</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">curl --location --request GET &#39;http://localhost/joomla-cms4/api/index.php/v1/foos&#39; \\</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">--header &#39;Accept: application/vnd.api+json&#39; \\</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">--header &#39;Authorization: Basic YWRtaW46YWRtaW4=&#39;</span></span></code></pre>\n<p>Das Ausgabeformat ist JSON und sieht beispielsweise wie folgt aus:</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"json\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;links&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;self&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;http://localhost/joomla-cms4/api/index.php/v1/foos&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;data&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;foos&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;2&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;attributes&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">2</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;Astrid&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;catid&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">8</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;foos&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;3&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;attributes&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">3</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;Elmar&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;catid&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;foos&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;1&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&quot;attributes&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">1</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;Nina&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">&quot;catid&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;meta&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;total-pages&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Nutzt du <a href=\"https://www.postman.com/\">Postman</a>? Dann ist meine <a href=\"https://github.com/astridx/boilerplate/blob/tutorial/tutorial/component/30/Content%20und%20Foos.postman_collection.json\">Kollektion</a> unter Umständen hilfreich für dich. In ihr sind zusätzlich Abfragen für <code class=\"language-text\">com_content</code> enthalten.</p>\n<blockquote>\n<p>Ich nutze gerne <a href=\"https://addons.mozilla.org/en-US/firefox/addon/restclient/\">dieses Addon</a> in Firefox.</p>\n</blockquote>\n<h2>Geänderte Dateien</h2>\n<h3>Übersicht</h3>\n<h3>Alle Änderungen</h3>\n<pre class=\"grvsc-container solarized-light\" data-language=\"php\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">// github.com/astridx/boilerplate/compare/t29...t30.diff</span></span></span></code></pre>\n<h2>Links</h2>\n<p><a href=\"https://docs.joomla.org/J4.x:Joomla_Core_APIs/de\">Joomla API-Spezifikation</a></p>\n<p><a href=\"https://docs.joomla.org/J4.x:Joomla_Core_APIs/de\">Joomla Core-API</a></p>\n<p><a href=\"https://github.com/joomla-extensions/weblinks/pull/407\">Integration in Weblinks</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtki { font-style: italic; }\n  .solarized-light .mtkb { font-weight: bold; }\n  .solarized-light .mtk8 { color: #859900; }\n  .solarized-light .mtk4 { color: #CB4B16; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk11 { color: #2AA198; }\n  .solarized-light .mtk13 { color: #073642; }\n  .solarized-light .mtk5 { color: #B58900; }\n  .solarized-light .mtk9 { color: #D30102; }\n  .solarized-light .mtk3 { color: #93A1A1; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/joomla/35joomla-webservices.md","excerpt":"In diesem Teil werfen wir einen Blick auf die Joomla 4-API und den Zugriff auf Joomla 4-Inhalte. Eine Programmierschnittstelle - kurz API…","fields":{"slug":"/joomla-webservices/"},"frontmatter":{"title":"Joomla 4.x-Tutorial - Entwicklung von Erweiterungen - Webservices - Unterstützen der Joomla-API","date":"04.01.2021","tags":["CMS","Joomla"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACZ0lEQVQ4y2P4T2XAAGP8+/cPjAmx0cWQxTEMhNF//vwB479//2I1FJ88A7JzkW2CgV+/foE1gvDv37/hhsAAOh/Dhd9//PhfUVX7Pz0z5/+nT5+whlPfhEn/w6Ni/1+7fgNuKIYLQbaDwIqVq/+zcPL+FxCV/B8SHvW/q6fv/3Wgxnfv3v+fMGnK/8KSsv/S8sr/WTh4/0fFJoD1gLyPYeCfPxCnX7x0+b+uocl/JTWt/5Kyiv/FpOT+B4VG/Lexd/7PLyLxX0xaHiwHMnTy1Om4DUR25br1G/5z8Aj+37Jt+/8zZ8/+19IzAhu+fsOm/9dv3PwvJCb1v6q2HsO7GGEIsgkEjh47/p+dW+D/tBmz/nv7BYFdFBOf9F/f2Oz/8pWr/osDXTl7zjwUR2C4EBb1MImM7Nz/gsBwBBl45erV/x8/fvpvaevwX0JG8X96Vu7/j9AIQ0+TWBP2x48fgQbm/Te1sAEbumnzVnDYevsH/dfUNQC61Pz/gwcPUbyMNwwPHTn6n4md+//O3Xv+F5dW/Hd29wJ728Pb7//5CxfBkQOLEFA6xellWCJt7ej6zyMoCk4mO3bu+i+npPZfWV37//yFi/6vBUYYKAwjouPg6RQ5cSOlQ0iEgLwnICL5X11LD2woMwfPf9/AkP91jc3/eYF8UOyDDAepSUnPwpcOIQbu2bcfnCxAGto7u/8fO37i//fv38Eajp84+X/Dxs3/tfWNwQm7vLIat4HIAQsyFORSXPn8wsVL/5cuWwG2CGdpg00jrECAWQZyCSzisJVSeIsvUJiil38wPsxgbOUjA81KbGoBAOxFbQm0w5BOAAAAAElFTkSuQmCC","width":80,"height":80,"src":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png","srcSet":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png 1x"}}}}}},"pageContext":{"slug":"/joomla-webservices/","previous":{"id":"c1230af2-c788-5fda-8b74-ea0579c674da","frontmatter":{"title":"Joomla 4.x Tutorial - Extension Development - Tags","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/en/joomla-tags/"}},"next":{"id":"b1b3aebb-5202-5be7-8c7f-45e00393d296","frontmatter":{"title":"Joomla 4.x Tutorial - Extension Development - Web Services - Support Joomla API","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/en/joomla-webservices/"}}}},"staticQueryHashes":[]}