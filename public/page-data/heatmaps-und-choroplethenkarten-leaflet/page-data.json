{"componentChunkName":"component---src-templates-post-js","path":"/heatmaps-und-choroplethenkarten-leaflet/","result":{"data":{"markdownRemark":{"html":"<p>In den vorherigen Kapiteln haben wir uns angesehen,\nwie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –\nzu Ihrer Karte hinzugefügt können.\nJetzt geht es darum, dieses Wissen in die Tat umzusetzen und eigene\nVorstellungen umzusetzen.</p>\n<h2>In diesem Kapitel werden wir …</h2>\n<p>In diesem Kapitel werden wir nicht nur einfach Elemente auf die Karte zeichnen.\nWir werden mit der Karte Informationen weitergeben und Fragen beantworten.\nInsbesondere statistische Daten können auf Karten viel besser veranschaulicht werden,\nals in einer trockenen Tabelle – und nebenbei macht es sogar Spaß\neine solche Karte zu erkunden.</p>\n<p>Zwei Typen von Karten – nämlich Heatmaps und Choroplethenkarten – sehen wir uns\nnun in diesem Kapitel näher an. Beginnen wir mit der Heatmap.</p>\n<h2>Heatmaps</h2>\n<p><a href=\"https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051\">Heatmaps</a><sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup> kennen wir im Deutschen auch\nunter dem Namen Wärmebild.</p>\n<h3>Was ist eine Heatmap?</h3>\n<p>Eine Heatmap ist im Grunde genommen ein Diagramm,\nmit dem Daten visualisiert werden.\nDiese Visualisierung dient dazu, in einer großen Datenmenge intuitiv\nund schnell einen Überblick zu bekommen.\nIn der grafischen Darstellung kristallisieren sich besonders\nmarkante Werte oft schnell heraus.</p>\n<p>Heatmaps färben Bereich unterschiedlich, wenn die <em>Intensität</em> oder die <em>Dichte</em>\ndes untersuchten Objektes unterschiedlich ist.</p>\n<blockquote>\n<p>Möchten\nSie gerne wissen, wie die Darstellung einer Heatmap technisch\numgesetzt wird? Vereinfacht ausgedrückt wird zunächst ein\nGitternetz über die Karte gelegt. Im nächsten Schritt wird die Anzahl\nder Punkte in jedem Bereich des Gitternetzes gezählt. Je nach Punktanzahl\nwird zum Schluss die\nAnzeige angepasst. Ist in einem Bereich kein Punkt vorhanden, wird\ndieser Bereich nicht mit Farbe gefüllt. Bei den anderen Bereichen\nwird je nach Anzahl der Punkte die passende Farbe im Bereich eingeblendet.\nDieses Verfahren nennt man Multivariate Kerndichte Schätzung\n(englisch: Multivariate kernel density estimation). Detaillierter\nkönnen Sie dies beispielsweise bei\n<a href=\"https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162\">Wikipedia</a><sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>\nnachlesen.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABx0lEQVQoz01SS4oUQRDta3gW7+EhFMEDuBHmFG5cK4IoztpZCAqK0oyOINMMLfR0ZVb+M6v6w8DzRdR0zyyyojLyxXvxm+WcISfGeGsTbbl3j6i16r/3HiklhBDu2UzrFSf3mYBaayilYBhGAizGgaQEDsPkl3fnnAa1VpWslECRhFqikoqocM0EWGvjY0UbtvBhScAlYuvQNnkCk0RwQiSite6Q4jWCN6ijZ2yvopqhACfVJUq2CHaBGi9gzz6iXC5QNhs0qve9ZOiJcczkAqm8RkzncIu38O4dOW5I6KTkjgodXLhCWv/E6ttTdB9OYL+/R17PkeuBsCfRFUn/wsevMF8eYPXjMcKfUwQ3J2EhYcTMGKO9SvEf048wv95gdf4Ia/+EGZyxl6NWYExHMqe9SyIwf4bl6UOY+By2e6Vt05JFubVhanBjz8wK/voFrDnB0H7Tv1V1a632s1VuQOlQbYb5/JKVfaLoRoeihPKRDKZpkphK4xYMlqkXXaFDw6cpD5OPVXE2FOh5j3cZTlOe9kwCZZKtZs34eKeVSiZC+qQaxqQYVEAwx7XZ7XYKlCOOw755745+Ae/3+9vBeLV3xx7jhPg/4JHtivJpNJ4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)\"\n        title=\"(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)\"\n        src=\"/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png\"\n        srcset=\"/static/5f1cea48e930904b3c02d2cb61e1c3e6/c26ae/946.png 158w,\n/static/5f1cea48e930904b3c02d2cb61e1c3e6/6bdcf/946.png 315w,\n/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: (By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons).</em></p>\n<p>Meist werden bei geringer Intensität oder geringer Dichte kalte Farben verwendet.\nBei einem hohen Aufkommen wird der Bereich mit warmen Farben eingefärbt.\nDies erklärt auch den Namen Heatmap – der englische Begriff für Hitze ist <em>heat</em>.\nBlau gilt als <a href=\"https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035\">kalte Farbe</a><sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup>,\nRot, Orange und Gelb gelten als <a href=\"https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311\">warme Farben</a><sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>.</p>\n<h3>Heatmaps in Leaflet – Dichte</h3>\n<p>Unser erstes Beispiel zeigt eine Heatmap, die die unterschiedliche Dichte\nvon Punkten sichtbar macht. Die Funktionen zum Anzeigen einer Heatmap werden nicht\nim Standardumfang von Leaflet mitgeliefert.\nEs handelt sich hierbei um eine besondere Funktion,\ndie im Normalfall nicht zur Darstellung einer digitalen Karte benötigt wird.\nLeaflet selbst konzentriert sich auf die Anwendungsfälle,\ndie üblicherweise beim Anzeigen einer Karte benötigt werden –\nist aber offen für Plugins.\nEines dieser Plugins ist <a href=\"https://github.com/Leaflet/Leaflet.heat\">Leaflet.heat</a><sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup>.</p>\n<blockquote>\n<p>Weitere Plugins, mit denen Sie\nWärmeabbildungen oder ähnliche Visualisierungen aus Vektordaten\nerstellen können, finden Sie auf der Website von Leaflet im Bereich\nPlugins: <a href=\"http://leafletjs.com/plugins.html#heatmaps\">http://leafletjs.com/plugins.html#heatmaps</a><sup id=\"fnref-6\"><a href=\"#fn-6\" class=\"footnote-ref\">6</a></sup>.</p>\n</blockquote>\n<p>Nachfolgende finden Sie das erste Beispiel für diesen Themenbereich.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;).setView([50.00555, 7.591838], 10);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var points = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.1555, 7.591838, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.0931, 7.664177, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041, 7.652033, 0.2]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var heat = L.heatLayer(points,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*minOpacity: 0.95,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*blur: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*maxZoom: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*max: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*radius: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_965.html--&gt;</span></span></code></pre>\n<p>Was zeigt Ihnen dieses Beispiel?\nAls Erstes haben wir die Skript-Datei zum Plugin mit\n<code class=\"language-text\">&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</code> eingebunden.\nIch hatte die Datei von der oben verlinkten Website kopiert und unter dem Namen\n<code class=\"language-text\">leaflet-heat.js</code> im gleichen Verzeichnis wie die Datei <code class=\"language-text\">index.html</code> abgelegt.\nDanach habe ich eine Variable mit dem Namen <code class=\"language-text\">points</code> vom Typ <code class=\"language-text\">Array</code> erstellt.\nIn dieser Variablen habe ich 700 Koordinaten gespeichert.\nZu guter Letzt habe ich ein Objekt der Klasse <code class=\"language-text\">L.heatLayer</code> instanziiert\nund diesem die Koordinaten in der Variablen <code class=\"language-text\">points</code> und einige Optionen übergeben.</p>\n<blockquote>\n<p>Der Dritte Wert bei der Übergabe der\nKoordinaten steht für die Intensität.<br>\n<code class=\"language-text\">var points = [</code><br>\n<code class=\"language-text\">[50.1555 , 7.591838 ,</code><strong><code class=\"language-text\">0.2</code></strong><code class=\"language-text\">],</code><br>\n<code class=\"language-text\">…</code><br>\nIch habe diesen Wert hier absichtlich immer mit der gleichen Zahl belegt.\nIch nutze dieses Plugin nicht für die Visualisierung der Intensität.\nHierfür zeige ich Ihnen im nächsten Kapitel eine andere Leaflet Erweiterung.</p>\n</blockquote>\n<p>Das Ergebnis sehen Sie im nachfolgenden Bild.\nDa wir noch nichts gestaltet haben, sehen Sie die Standardansicht.\nDiese ist noch sehr rudimentär. Das geht besser, Sie werden sehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbUlEQVQozx1TOY7UUBT0MYggJkVizsAdOAEJpIREXACOgJCQSBARE4wGDbN0u9vt/Xv/m/+3e5kMibAod2B5e66qV1UO/FFBTgLDnKPZp7CHGk5XMGMNawXaMsbQZehUikrG6IYIUmVQuoQ3An7uoKYayreQvkBgJgLZGJXdoh63aFyCzmQESTFKASkIFK0gypDvNyh9hNZFaOo1uvyBcwl6m6H1GWq9Q7AoGgiqCWTJMEwpOh3DDymOpsLcx2jFHYrsBpUKkasNCamU895VcKqiYpJOO3RjhGA6NJAmgZ4WsBLDmGKyCU42x+NYYjRb9HqD2OdoDwLWcV1fQlLNwBk9l+h7XhNMcMPA7ht0/fbsS78MyS08V9jPBayOaEWMm+I3rj++xeryC/xRwtgdFIk6nUASsOX3PZ+VZoNA7clgcgZANZ6huB1a+tnoNZpTjatvn5FfPIV9EiB99RLtqYEe6Zvnipbr2wi1WSNv1yhliEAuHkoG4Jtz0vUi3YbnkPRfj/DTB/wLAoBH/eIZ1sU1qnHHGZISMFcPqLoVFD0XVBrIfYXBUbZMULktMnmPwoR8lmE8dNisLhG9f4Pm4jl+vnuNP7++QpwyFBMD4lxSUt3DLVQWw7YpPRzZQZui70L6EKJU67M6MwsmT9C9gnp0uI9u8OPqOzK2IG5X2LFGmSAxuyl2K5SsVhPfLSszFIINwxaViVAMG/ROoB8q6MVbU0AyeTHTK8dKqYQdpB11ivnUYnIFZp3BmKW3LHa/VIWxNy4+l3PgR3op+5jx3JzrJBjUcr/Mana1bbgByfbHDo4/wbwkLSP+XRX+Ay5h/5dVULSdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Heatmap\"\n        title=\"Heatmap\"\n        src=\"/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png\"\n        srcset=\"/static/e718f8cd2898673e7ae0b8b423fbb914/c26ae/950.png 158w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/6bdcf/950.png 315w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png 630w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/40601/950.png 945w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/78612/950.png 1260w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Heatmap zur Anzeige der Dichte von Punkten.</em></p>\n<h4>Stile und Optionen</h4>\n<p>Das <a href=\"https://github.com/Leaflet/Leaflet.heat\">Plugin Leaflet.heat</a><sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup>\nerlaubt es Ihnen Parameter zu übergeben. Dabei haben Sie folgende Möglichkeiten:</p>\n<ul>\n<li><code class=\"language-text\">minOpacity:</code><br>\nDie Option <code class=\"language-text\">minOpacity</code> gibt die minimale Dichte an, ab der die Anzeige beginnt.</li>\n<li><code class=\"language-text\">maxZoom:</code><br>\nDie Opiton <code class=\"language-text\">maxZoom</code> sollte auf die Zoomstufe gesetzt werden,\nbei der die Punkte die maximale Intensität erreichen.\nAls Standard wird der Wert, der für <code class=\"language-text\">maxZoom</code> in der Karte gesetzt ist,\nverwendet.\nAuf die Darstellung der Heatmap Ebene hat diese Option keine Auswirkungen.\nSie sollten den Wert so setzten, dass Ihre Karte die beste Aussagekraft hat.\nWenn der Wert zu hoch ist, kann es sein, dass die Punkte so weit auseinander liegen,\ndass der dichteste Bereich nicht mehr deutlich erkennbar ist.\nSetzen Sie den Wert zu niedrig an, kann man die Daten vielleicht nicht mehr\nzusammenhängend im Überblick sehen.</li>\n<li><code class=\"language-text\">max:</code><br>\nDer Standardwert der maximalen Punktintensität ist 1.0.</li>\n<li><code class=\"language-text\">radius:</code><br>\nDiese Option erklärt sich meiner Meinung nach von selbst.\nMit dem Wert <code class=\"language-text\">radius</code> geben Sie die Größe an, in der die Punkte angezeigt\nwerden sollen. 25 ist der Standardwert.</li>\n<li><code class=\"language-text\">blur:</code><br>\nMit der Option <code class=\"language-text\">blur</code> können Sie die Schärfe beeinflussen.\nDer Wert bestimmt, wie viele Punkte zusammen gefasst werden.\nEin niedriger <code class=\"language-text\">blur</code> Wert erzeugt einzelne Punkte, wohingegen ein hoher Wert\nPunkte zusammenfasst. Standardmäßig ist der Wert auf 15 festgesetzt.</li>\n<li><code class=\"language-text\">gradient:</code><br>\nDie Option <code class=\"language-text\">gradient</code> steht für die Konfiguration des Farbverlaufs.\nStandardwert ist <code class=\"language-text\">{0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</code>.\nSie können beliebig viele Werte zwischen 0 und 1 zwischen den Klammern angeben.\nDie Farbe, die am Rand angezeigt werden soll,\nsollten Sie mit dem niedrigen Wert angeben.\nDer Rand ist der Bereich in dem die Punkte nicht dicht beieinander sind.\nDie Farbe, die im Zentrum zu sehen sein soll,\ngeben Sie idealerweise nahe beim Wert 1 an.\nDas Zentrum ist der Bereich in dem die Punkte am dichtesten beieinander liegen.</li>\n</ul>\n<h5>Nachfolgend sehen Sie einen Vergleich einer Ansichten mit unterschiedlichen Werten für die Optionen blur, gradient und maxZoom</h5>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/638534e9028f635ea39795009b81b41f/46115/980a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACdElEQVQozx2SO3ITWRSGRUDCVgiISNkACyCYDIpiAUQUVLEGJpgFQAFGRpYl62VJ3eqW2lK7H+r3Q92tFzYzA0NNFRnZx5GDUze49/z3P99/auuvPuaqS74ziDcaet5CLzs46zFeqRBGBmFsYOUTzO0Yt1CIVhfEpUO4m5FfzaXPJKhM0o1DzS7PmRct7LKNm51xkbSZ5aeocZ22/5Zh3GAZa2jLDmfRO+Z5Fz07ZRq1uPAGeMWE/CBYmITFXAS/DFGzJkrykctVUwR7LPIeveg9g+QT/mZGli9wVip+qlEml7jJkInfYmh/ZhmNcNIRcTbj6y6gZm3O0ZOTG1fOtotddJllPUZR/cbJfHWOm04oC5erMmEduRSehS2io/QIrTzFSJuE3pgqMah51Qgtq+OWA8yijVUNcYSdX44JN7p81CbKNL5vA64rEYsVTKvFXBwqQUOqyVK4Lqsxf+/jg8Mek+IYf6sSlQbLXMcqhnjrCVY5EmGFXaXz3z7gx7UEGJ6ghA2GVR9LetxEIzz0pQqLbEwt22oiNsBadZgKPycfY8d9OVXmQZdQHu33JtXWwE/6guEM1aoTvnpKtTihuI6wQ+F+CKiaUcurKfP1GSNJc5oeWHYEvk6yMUgKVcLoYWYdJnI3lRGv/njI//fv8vPObf55/pjgx5LLm81oYK/61NLygoWAP08aqOnnmxAOe5buFizKvoTzCSU+Rk/b+N88/n3yiF+3auwf3CN/8YzJps8wOBLnTbTwWAT3DlWxJFmbsi4DjGKAm2ss4i6D6Ii+9wFVtiCQkYNwRvzuT4o3r4lePsH66yVdu07HlYo/CNsmvwFnBpVpwrwVcwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"`blur` *= 1*\"\n        title=\"`blur` *= 1*\"\n        src=\"/static/638534e9028f635ea39795009b81b41f/f058b/980a.png\"\n        srcset=\"/static/638534e9028f635ea39795009b81b41f/c26ae/980a.png 158w,\n/static/638534e9028f635ea39795009b81b41f/6bdcf/980a.png 315w,\n/static/638534e9028f635ea39795009b81b41f/f058b/980a.png 630w,\n/static/638534e9028f635ea39795009b81b41f/40601/980a.png 945w,\n/static/638534e9028f635ea39795009b81b41f/78612/980a.png 1260w,\n/static/638534e9028f635ea39795009b81b41f/46115/980a.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>_Abbildung: <code class=\"language-text\">blur</code> _= 1* - Es werden soviele Punkte zusammengefasst, dass jeder Hitzepunkt der Heatmap sehr scharf dargestellt wird. Ein Zentrum ist nicht mehr auszumachen.*</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACUklEQVQozx2SSZfSYBBF+fGu3bhwoZ6jtkM3QwdCmEMIEJIQEhIyT0x2twv1P1w/elWbqlvvvPcax5cAuxiQXwzik84y77GsFNyjil/NCSODMDZw8gX2WcUr50TFhrhyCS9r8idT3Nkcapv05NLYVRPMsseukvGyPptEZp130eImcvCVadxhH+voe4V+dIeZD1hmXVZRj40/xi8X5DdgaROWpgD+mqJlEvPkJ9tCEsAhVj5kGH1nnDwQnNZkuYVbaASpTpVs8ZIpi6DHdNdmH81w0xlxtublcqDhnCYsk8dXVe55wK4csM6GzKLmqxKzmOClC6rS46lKOEYepe+wE9BZeo9edTFSidBXqRODhl/P0LMmXjXGLmWceoorvAsqlfC0FI9kokznz/nAcy1gyRzLkTEjmXn0yPwgsRe+7muV39f4pnDIomwRnDWiymCfL3HKKf5xgVPNBHjOpV7y93rg33OAFT6ixy1Uv8u2nAn1OuHtLhWPMpVGdtYFbIxTKKyEf26usotHYmqYhwGhWLpebWrhZZBPsAqZb0qfNx9FC4ot9cXDiUZYt4DqNY28XmEe+8xEmqv05qUizF+SnAySUhNhDLGzAXrSRk8H3A0N3n5a876psY10sadji+TXeYddMaKRVhvxdcIk6aCl7dcQbj1LLxZWNRLhPKDGbVZlX8Bt3t15rGyNL8qUzz2NTdFlEt4ClNDDlgBeXepyT3K0RV3GGOUYL9ex4gHj6J6R/wMtkYhEibfBlg8dh21qIC0mNLUxo30TxWuhxD+YhxL/AbXbnDksHO1cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"`blur` *= 40*\"\n        title=\"`blur` *= 40*\"\n        src=\"/static/c1f0ce18816345349dbbec18a85c6ba2/f058b/980b.png\"\n        srcset=\"/static/c1f0ce18816345349dbbec18a85c6ba2/c26ae/980b.png 158w,\n/static/c1f0ce18816345349dbbec18a85c6ba2/6bdcf/980b.png 315w,\n/static/c1f0ce18816345349dbbec18a85c6ba2/f058b/980b.png 630w,\n/static/c1f0ce18816345349dbbec18a85c6ba2/40601/980b.png 945w,\n/static/c1f0ce18816345349dbbec18a85c6ba2/78612/980b.png 1260w,\n/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>_Abbildung: <code class=\"language-text\">blur</code> _= 40* - Randbereiche und Zentrum sind erkennbar.*</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACE0lEQVQozy1S2W7bMBDU/39M8uC4RdHUQF2kdWtblyVRsnVRpO7LRT5gOnT6QCxErmbnWCuvKuy9ELqusHYVDlGE1zDEjnX3v365BPgVJ2i0wjlK4N9SvIkY+0ggr0pUSiLKMqx9C+sQhNgcbbiei+UWIBABnk42No6Dje3g09nGd9uFKyJ0RQaZXTFwuCKQkiXWocFYK8ydxtRoWG+cYlgtVYomdNCzeonA1nGxPTtI+LbKApMq0cmcLGrMrcJovnnWsUVTlhgahfvUwNpdQrixQFtcMWUC9yzCNY0fLA9kV/sB+vSGvkgxVAUGgg+6xEyWs2HWaoy6wsQz1CWsVwIeRYiSIDqLIRP65Xtw/Av0RaAOBBR7RspZDYCq0Jc5wSVG+m8AJzKeyHDksfZhhJ+Bj53n4zMlPv85wRYC75w4FwXuUsM//MDh5YmhtQSVWBjOQPkdgTsCD/RyUIYxPTRJGvNffp9xYppZdsNEabMq6NcHq4Jsr/aJdxJtmWI1bCh54ttC5vNDMu8qMvxKkBNBexpcs/ndgDScJjPcGcCd35PmAC0JWKLJEwYkyY5Bsa/nuvRMfCK7nj3WN4JtyfBokqapxviRPxgwk+hKj2YGUbhmbUoGUKOV6iFvkvJD9kN+gYX9H5K5c89M1Itj/CUjs1Mzpy+mmsW95qhSRb80Gnq6dNw9gg302MieCWRYtgT/B6DnziNcrG7xAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"`maxZoom` * = 6*\"\n        title=\"`maxZoom` * = 6*\"\n        src=\"/static/e0956a0502454b432f60e938e4b5e6ef/f058b/980c.png\"\n        srcset=\"/static/e0956a0502454b432f60e938e4b5e6ef/c26ae/980c.png 158w,\n/static/e0956a0502454b432f60e938e4b5e6ef/6bdcf/980c.png 315w,\n/static/e0956a0502454b432f60e938e4b5e6ef/f058b/980c.png 630w,\n/static/e0956a0502454b432f60e938e4b5e6ef/40601/980c.png 945w,\n/static/e0956a0502454b432f60e938e4b5e6ef/78612/980c.png 1260w,\n/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>_Abbildung: <code class=\"language-text\">maxZoom</code> _ = 6* - Bei dieser niedrigen Zoomstufe kann die Verteilung nicht visualisiert werden. Alles liegt so nah beieinander, dass nur ein Punkt zu sehen ist.*</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACgElEQVQozx2SW1PaahSG86970dm9bW/s7nQ6e3tCtIgaMYCBABENh3AM5ESAhKCiIqK103amP+DpN71f6521nueVZkuH8uiYq3Ee98bgbtnCmVdYPVmY83MMX8Yc5jCmCpVphoGYGYct8uUkZS+HNS8SP5h8fx7y48lFMqcFdO8Q1T3g9q7Jz7XN9aJJc6iQqX5Bs1N0fRE4OKY0OqA1zdOM8mi9c1reOf04T8HdJ7rVGcUa0otIHcxUZCuBN9OYXOt8fxlgDzR0fRP/0eCyn+ZL8h9OvC2sWCW676D2ZZqDCi1f42Kk4Ivdy+AQab10saIstekZRTctrj3BEUvf1g7zRQM9OCBrbZM1/qcUpGiMz2hPCnTCPBeeTKZzwtfUR0pmEbWTQbIjk5flkNdVj3qo8Lgy6U6z2FGZpp+nYu9TFwzr3RNulhZ39y5mmGMYVbm57ZG1dzm++oQ7q+DP60ihkLB8NPn96tEaZWj3jgTLNmHkUrZkeuEpTkMnq3xmsZ7w8BAKeTUq4hNtmKboJFj/6rOcdDFK20iTlUEszNVah1w5Mrq2xU3co+tW8cIK/SjH4jrgdiy4iiB1uIfiJshODsi7Sc6DJIXaJvXGEXVXRaqK83f23vE5+Y6c9xVDGGz2Tynm9pkuapjC4ihq8nQ9YjivUg72/76YOHxLMvOenLXL3uUGR+Y2z99ipLYwvFP6SDrzL36ooZxu/AXeCwqiPjVm6zqTuERnkCNtb1EM0vQsUZv/PrCx+QZ5kKA4TqEFsmhLAen12acdKYTzC5aCne9d0m1nRB1kumIgHte5KO+hNraF8SNW932Cqow9MpA7O6h+CsXZpeCk0O00fwDClY0ZjNVdLwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"`maxZoom` * = 15*\"\n        title=\"`maxZoom` * = 15*\"\n        src=\"/static/5bb4ffddbaeb8c38506d71198ddacdf4/f058b/980d.png\"\n        srcset=\"/static/5bb4ffddbaeb8c38506d71198ddacdf4/c26ae/980d.png 158w,\n/static/5bb4ffddbaeb8c38506d71198ddacdf4/6bdcf/980d.png 315w,\n/static/5bb4ffddbaeb8c38506d71198ddacdf4/f058b/980d.png 630w,\n/static/5bb4ffddbaeb8c38506d71198ddacdf4/40601/980d.png 945w,\n/static/5bb4ffddbaeb8c38506d71198ddacdf4/78612/980d.png 1260w,\n/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>_Abbildung: <code class=\"language-text\">maxZoom</code> _ = 15* - Bei dieser Zoomstufe kann eine Verteilung dargestellt werden.*</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACb0lEQVQozxWS23LiVhBF+dD8QX4gr3nNc5KaSQ22g2MSbGQMAtuAAAESFwG6yxpJSFwGYnvmI9b0PJw6darrdO+9dpe8/RKvMFnnI+ZZBz1WifZj7HyA5tcZRw0Wuy5aqEntgfPrSuo66ZcZs6TFPO1xPid8e83Jjw6lZT5kkfQJ8il+9sSTd0OYaUTbCeO4wcPmml5cxQwf6a1vGbi3rJJHaTpis9XZpEOs5Bkv76MHdUqPUY1JouIfVuhhl8NhKpMb0lDHCBp0V//hZjpONqDr1RgFjyzcDnY6Yrt1iLIJcaHxfl5x2pmUooNF3S7zHNbw9kPM9EmUqSwjnUXYIUpWrMRW3b6k6V2yFPsDT6Mzv2O7N8n2BvnBwN0+E+VdSsXZZyScjOheGClU1hWGocpIzstOwwo69IIqF8trPiz/oh1WeTka9G0FM7rl65vPQNAoXhlT/pfe349YWR8n12SaSVJMhYkojdqitMvYuydPDYywx42o7AV3FAcbzWmiuVVOJ5e3t4z8bNP2ryntjiFvrztJL2YiXOruv/S8KsOXHmrwTGuj0N5URd2f/LH4hJ3NcYsVM6dD26riFzPC4gf3LkO/Rik+WYQC08t11qnOS2bIPWSWTXnwmpTnZZRNhQ/WJ366+0U4Klwt/2EumzGWcFqusA0uUNZl5rGkHOQTDvmGXW7z5ZRQHAPZwQn6Z42rxQ0fl1VuNyqK3eTnzq/U7GsafktEzEj3Dt31A6pX4cm/oeX9LQz/z4hjYfRZ7Ll1TNkxSxKbJT8sqxjyrqxr/Db4natNGWc3RXUUCaJJP1XpWLKrkn7Tv+TeueA7ZLaWxrtKxzIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"`gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;, 0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}`\"\n        title=\"`gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;, 0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}`\"\n        src=\"/static/9633d56c7d455a1a8a4b5a3665743ac0/f058b/980e.png\"\n        srcset=\"/static/9633d56c7d455a1a8a4b5a3665743ac0/c26ae/980e.png 158w,\n/static/9633d56c7d455a1a8a4b5a3665743ac0/6bdcf/980e.png 315w,\n/static/9633d56c7d455a1a8a4b5a3665743ac0/f058b/980e.png 630w,\n/static/9633d56c7d455a1a8a4b5a3665743ac0/40601/980e.png 945w,\n/static/9633d56c7d455a1a8a4b5a3665743ac0/78612/980e.png 1260w,\n/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Heatmap mit benutzerdefinierten Farben: <code class=\"language-text\">gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;,</code> <code class=\"language-text\">0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}</code>.</em></p>\n<blockquote>\n<p>Gefallen Ihnen die standardmäßig gesetzten kalten und warmen\nFarben nicht? Möchten Sie lieber Ihre eigene Farbzusammenstellung\nnutzen? Die Website <a href=\"http://colorbrewer2.org\">http://colorbrewer2.org</a><sup id=\"fnref-7\"><a href=\"#fn-7\" class=\"footnote-ref\">7</a></sup>\nhilft beim Auswählen von Farben.</p>\n</blockquote>\n<h4>Methoden</h4>\n<p>Zusätzlich zu den Stylesheet Optionen bietet Ihnen das Plugin <code class=\"language-text\">Leaflet.heat</code> vier Methoden:</p>\n<ul>\n<li><code class=\"language-text\">setOptions(options):</code><br>\nDiese Methode setzt die Optionen der Heatmap neu und zeichnet die Heatmap neu.</li>\n<li><code class=\"language-text\">addLatLng(latlng):</code><br>\nDiese Methode fügt einen Punkt zur Heatmap hinzu und aktualisiert\ndie Ansicht gleichzeitig.</li>\n<li><code class=\"language-text\">setLatLngs(latlngs):</code><br>\nDiese Methode liest die Daten neu ein und aktualisiert danach die Ansicht.</li>\n<li><code class=\"language-text\">redraw():</code><br>\nDiese Methode zeichnet die Heatmap neu.\nSie wird beim Ausführen der drei vorher genannten Methoden automatisch ausgeführt,\nso das Sie dies nicht selbst veranlassen müssen.</li>\n</ul>\n<h5>Ein Beispiel zur Anwendung der Methoden - Die Methode addLatLng()</h5>\n<p>Mithilfe der Methode <code class=\"language-text\">addLatLng()</code> können Sie nachträglich\neinen Punkt zum Heatmap Layer hinzufügen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;).setView([50.27264, 7.26469], 10);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var points = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.1555, 7.591838, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.0931, 7.664177, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var heat = L.heatLayer(points,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> minOpacity: 0.95,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> blur: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> maxZoom: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> max: 1.0,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> radius: 25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.addLatLng([50.27264, 7.26469, 0.2]);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_964.html--&gt;</span></span></code></pre>\n<p>In der nächsten Abbildung können Sie den neu hinzugefügten Punkt erkennen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACZklEQVQozyWSuW4TYRSF/TjUFLwAD8Aj8AJIFDSUSEGkpERCFKwJTuJ43z32jD22J/bYs+/jJYFEQlDwBh/Xobr6i3vO+c93C5tbGyNpEu91/K2KFlfRsgbmZoCVKbiejuvrLOIRxm7AKlXwkil+ZuLuJ8Q/ZrJn4OQG4daksMy6zNIqy6zGKqozDWpM4gpD/4ya/ZmeX2Ltq6irOnX/C7OkhRZWGHtVplYHKx0RHwRTAzedieBNj2FURglOuUrKIthiHrdoed/oBEXs7YQommHmGq4zIHemrMI+ql2lt7xg7fUx5e1HE273DoXFtosWXN6nMndNlmmTSdSi752hRRVmcYdVrLGxJtzpQzauSWotWAY9+uF31KyCHpZxLTELdApWLm7RGausg5HWWOQ9TOnOzga4W02MatjJmF9XCj9DgyQaMb+S7zpVFPcSxSmzll7X+YC7a/+QsMUoPcfeDfEynbWkWaQ9rM2IK5nBfoyqfMVUa/z9HWNYZ4z8S0bRf3BmqOIe9kKFeTSgEO1UEeuwSBqMpT8zHrD02zKHkqKJFyts8imxUHaiDupeoTr6RLH0VoCMyXcWC6/N/AAon1CI8zGzTZ2+0ByHhy4b2KFGsNUJ0qEIt+7PSvXPUXdSz8dj9CcPOHr1mHLtHdGNIcnqsldimbQphNmUedKlG5QYhhdyFt37Owv3c+ZZW4yKKCKmhVXsPx7mmxecPn3E++cPUY+eodwo9JxTAVhGdc9F8NokT9cEG3ESonp6oKoy95t0vO+0rROGQRlHzsdJDHRXkQ4VGscvqX94TcOv0zCLMk8EUpl/lWCWaVXt2HMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Heatmap mit einem mithilfe der Methode `addLatLng` hinzugefügten Punkt.\"\n        title=\"Heatmap mit einem mithilfe der Methode `addLatLng` hinzugefügten Punkt.\"\n        src=\"/static/f7e920d8d456e96c39d7f8a0b442bcc9/f058b/979.png\"\n        srcset=\"/static/f7e920d8d456e96c39d7f8a0b442bcc9/c26ae/979.png 158w,\n/static/f7e920d8d456e96c39d7f8a0b442bcc9/6bdcf/979.png 315w,\n/static/f7e920d8d456e96c39d7f8a0b442bcc9/f058b/979.png 630w,\n/static/f7e920d8d456e96c39d7f8a0b442bcc9/40601/979.png 945w,\n/static/f7e920d8d456e96c39d7f8a0b442bcc9/78612/979.png 1260w,\n/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Heatmap mit einem mithilfe der Methode <code class=\"language-text\">addLatLng</code> hinzugefügten Punkt.</em></p>\n<blockquote>\n<p>Möchten Sie es Website Besuchern\nermöglichen selbst Punkte zur Heatmap auf ihrer Karte hinzuzufügen? Eine\nDemo auf der Website zum Plugin zeigt genau solch ein Beispiel:\n<a href=\"http://leaflet.github.io/Leaflet.heat/demo/draw.html\">http://leaflet.github.io/Leaflet.heat/demo/draw.html</a><sup id=\"fnref-8\"><a href=\"#fn-8\" class=\"footnote-ref\">8</a></sup></p>\n</blockquote>\n<h5>Die Methoden addLatLng(), addLatLngs() und setOptions() der Klasse L.heatLayer zusammen in einem Beispiel</h5>\n<p>In diesem Kapitel stelle ich Ihnen ein Beispiel vor,\ndas per Schaltfläche die verschiedenen Methoden anwendet.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;add()&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*Punkt hinzufügen</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;br&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;newPoint()&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*Daten neu setzen</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;br&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;reset()&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*Reset</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;br&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;setOptions()&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*Farben ändern</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;).setView([49.07264, 7.26469], 7);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var points = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.1555, 7.591838, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.0931, 7.664177, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> [50.088041, 7.652033, 0.2]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var heat = L.heatLayer(points,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> minOpacity: 0.95,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> blur: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> maxZoom: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> max: 1.0,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> radius: 25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function add()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.addLatLng([50.1, 7.1, 0.2]);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function newPoint()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.setLatLngs([[50.5, 7, 0.2]]);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function reset()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.setLatLngs(points);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function setOptions()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.setOptions({gradient: {0.4: &#39;black&#39;, 0.65: &#39;gray&#39;, 1: &#39;white&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_963.html--&gt;</span></span></code></pre>\n<p>Was passiert genau in diesem Beispiel?\nZunächst fügen wir vier Schaltflächen in das HTML-Dokument ein.\nJede Schaltfläche führt eine der Methoden <code class=\"language-text\">add()</code>, <code class=\"language-text\">newPoint()</code>, <code class=\"language-text\">reset()</code>\noder <code class=\"language-text\">setOptions()</code> der Klasse L.heatLayer aus, wenn sie angeklickt wird.</p>\n<ul>\n<li>Der Aufruf von <code class=\"language-text\">add()</code> führt den Code <code class=\"language-text\">heat.addLatLng([50.1, 7.1, 0.2]);</code> aus\nund fügt dabei den Punkt <code class=\"language-text\">[50.1, 7.1, 0.2]</code> zu den Daten der Heatmap Ebene hinzu.</li>\n<li>Die Methode <code class=\"language-text\">newPoint()</code> führt die Programmcodezeile\n<code class=\"language-text\">heat.setLatLngs([[50.5, 7, 0.2]]);</code> aus und setzt\ndabei die Daten der Heatmap Ebene neu.\nDie Heatmap Ebene enthält nun nur den einen Punkt <code class=\"language-text\">[[50.5, 7, 0.2]]</code> im Array.</li>\n<li>Die Methode <code class=\"language-text\">reset()</code> führt den Code\n<code class=\"language-text\">heat.setLatLngs(points);</code> aus und ersetzt damit die Daten der\nHeatmap Ebene wieder mit den Daten der Variablen <code class=\"language-text\">points</code>.<br>\n<strong>Achtung:</strong> Wenn Sie einen Punkt zum Layer hinzugefügt haben,\nals die Variable <code class=\"language-text\">points</code> Datenbestand des Layers war,\ndann ist dieser Punkt nun auch in der Variablen <code class=\"language-text\">points</code> enthalten!</li>\n<li>Die Methode <code class=\"language-text\">setOptions()</code> ist meiner Meinung nach selbsterklärend.\nSie ändert einfach das Aussehen, also die CSS-Eigenschaften der Ebene.</li>\n</ul>\n<p>Einen Screenshot der Karte zu diesem Beispiel sehen Sie in der nachfolgenden\nAbbildung.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACtUlEQVQ4y5VTuXLUQBTUn/gHcE4R8wFk5AQEBMTkZHwCAYVDAqooIldxFth4vauVVlppR9doNDr3sHd9EXgPNy2RkqCqpznV3a/fk1EUBW5ubvCv5w7//xhNU2G9vsV2u8F6c4vNboMtY7fbgq9uvwuuu3HTnu2wu9ty/Hu22a67++2+4aW/oCsHqrDg6x6CeoSkciFLC2FoQsYmRDJE0LiISgepGiFWHiLNee2ibCaIuFbax/nFHIZsLAKY3GDUNucWRG5inPfglyOk+RiBtODmp4hJnJAwIrkn+gilDV2MkRUCMvOxuiRgQMCw6hOMaiqyly5VDjHhvia7lmOCep2ywDMRh0MIacKJTiEYEdVLOUKhXFxdLmBExYCpWMjmTJtjB1gMqcZC1KZOMEXQSoVQwkFg9SEEgUkqmjYjmyR9JF4PF6spAasB/bKpzoJs+DGj9bRofKT0TSobTTrGXAs0TD30j+CLIwjVh6cGSDRBaxKWAjdXSxjxjOqmHrJy3IGowkVG0LQmIIvQ5A7OSw+rOkCZUUk+pL8+5FQgZ1F0PUGmWcjMxfKaKeezUZeqyGyOLlKqUNrrmFU2xLzyMW1VZyb82sPx+AgfXr/ASf8jpnPNotgsypD3R7i4PmOV6Z1P1pigCRmlHiMvPFS1A02FMSsaafq8CPDl4BW8+3tw9g30njxEuFLI8/Y7RmFidTWDkVDVpK0uPUyoJKNf9SyBm/Tw/vAtgtJESEL1u0bv5XP+CkYX+b09nMgehdgQbc/qPmbLkilLgSyfQNLYuAUsJoizVnUfJ/43XiYY/SzmMY5/foT57DGCB/v49PQRvn9+B3/mwKsH8Klwsapg1EWMMzbmInWhFBuXjZyyejGVBbwk6E9Oooo9mS8U5LLCV+sH3hwewGc3TPhD2GwbxzvF4qzGH5pxnbnBfIZCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte mit Schaltfläche die die Methoden `add()`, `newPoint()`, `reset()` oder `setOptions()` per Klick ausführen.\"\n        title=\"Eine Karte mit Schaltfläche die die Methoden `add()`, `newPoint()`, `reset()` oder `setOptions()` per Klick ausführen.\"\n        src=\"/static/1afd5be43cf778b632f417a6e4d1c33e/f058b/953.png\"\n        srcset=\"/static/1afd5be43cf778b632f417a6e4d1c33e/c26ae/953.png 158w,\n/static/1afd5be43cf778b632f417a6e4d1c33e/6bdcf/953.png 315w,\n/static/1afd5be43cf778b632f417a6e4d1c33e/f058b/953.png 630w,\n/static/1afd5be43cf778b632f417a6e4d1c33e/40601/953.png 945w,\n/static/1afd5be43cf778b632f417a6e4d1c33e/78612/953.png 1260w,\n/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte mit Schaltfläche die die Methoden <code class=\"language-text\">add()</code>, <code class=\"language-text\">newPoint()</code>, <code class=\"language-text\">reset()</code> oder <code class=\"language-text\">setOptions()</code> der Klasse L.heatLayer per Klick ausführen.</em></p>\n<h4>Marker</h4>\n<p>Im nächsten Beispiel zeige ich Ihnen, wie Sie zu jedem Punkt in einer Heatmap\neinen Marker hinzufügen können. Das ist ganz praktisch, wenn Sie die Eigenschaften\nder einzelnen Punkte aufzeigen möchten.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;).setView([50.1555 , 7.591838], 10);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var points = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.1555 , 7.591838 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* [50.0931 , 7.664177 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*for(var i=0;i&lt;points.length;i++)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*L.marker(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[parseFloat(points[i][0]),parseFloat(points[i][1])],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{opacity:0}).bindPopup(points[i][2],{keepInView:true}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var heat = L.heatLayer(points,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> minOpacity: 0.95,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> blur: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> maxZoom: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> max: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> radius: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_962.html--&gt;</span></span></code></pre>\n<p>Was ist in diesem Beispiel anders? Wir haben der Variablen <code class=\"language-text\">point</code>\neinen dritten Wert mitgegeben. Dieser dritte Wert beschreibt\ndie Adresse zu einem Image. Dies hätte aber auch ein gewöhnlicher Text sein können.\nDiesen dritten Wert haben wir dann in der Methode\n<code class=\"language-text\">bindPopup(points[i][2],{keepInView)</code>\ndazu genutzt, einen individuellen Marker zu kreieren.</p>\n<p>So wie in der nächsten Abbildung könnte die fertige Karte auch bei Ihnen aussehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACe0lEQVQozx2SS2sTYRiF82/cu3Avomv/gQiCG8GFIoKLghVdCS4UVFyIl17SxjTJ5NIkM5lJpsk0mclMMvdbLi0RLG78BY9fu3rh4z3nPd85p5BvHIy4TrTS8RYqWlRBSyXMvIudysxdnbmnM456GMsulnhz4xO81MJd60TnI4EzmGUGwcKkMEmPGSYVJmkVK6xx4lcZREcoXpGq8422V2LqqahTiZr7nWFURwvKyPYBmlXDTnpEl4SJwTwZCsKzNkooFvxdTuOyIGwwiho03J+0/H2cxYAwGmEmCo7fIwksprFO/sfDiyc4rsIk6OCFAzarGYXx4hjN/3WlylzWmSR1BmGDjltEC48YxsdYQY80sdhkPpY5YW/nBx2pwuY853Qh0/cPcR2ZzNcp2FkHNSwKb1oYSZVx1sYUPjlpl/lCE4equKHKxXLGJrcwxwrv327xbvsZ/XaJUdjFjDtMc5nfa+9SYYNecoCzVHBTnWmkMU7a2HmPcdoRxDKrTONi5fDvwhPqPnH75h0ePrjP1ounuIn4dtJnGshX5IVwqQqyFuNYEtIbmFGXidcUU2E4qzMXS+u1QbbUcYIm+uqEunxIcfcDxkwlXdiM3SYju4WdDShEWZ9hXqMj0uwHl15KAqiJKuj4IggzbmCEdVThqSpqo359jX73Gtsvb1GRPhKdGUJZTeBKTOImhSA9YSSMP/ZLKMHhVQiXPQtWI0ZpU4Szj+yJigQVnL8u5usn7N67wefH11G3HyGfybRnuyLAMur8QBCuTbJkip+LS1ELPWlhRSpDr07T3aNl76D4ZWaiPrPYQJ/L9DwZ6c1zal9eIXk1JHNfzB3keZn/uUGSt/9Yq7EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt.\"\n        title=\"Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt.\"\n        src=\"/static/3234f3221d129f2b1ed0500fb973fda2/f058b/980.png\"\n        srcset=\"/static/3234f3221d129f2b1ed0500fb973fda2/c26ae/980.png 158w,\n/static/3234f3221d129f2b1ed0500fb973fda2/6bdcf/980.png 315w,\n/static/3234f3221d129f2b1ed0500fb973fda2/f058b/980.png 630w,\n/static/3234f3221d129f2b1ed0500fb973fda2/40601/980.png 945w,\n/static/3234f3221d129f2b1ed0500fb973fda2/78612/980.png 1260w,\n/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt.</em></p>\n<h3>Heatmaps mit Leaflet – Intensität</h3>\n<p>Im vorhergehenden Kapitel haben wir eine Heatmap mithilfe des\nPlugins <a href=\"https://github.com/Leaflet/Leaflet.heat\">Leaflet.heat</a><sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup> erstellt.\nDiese Heatmap hat die Dichte von Punkten auf einer Karte visualisierte.\nWir haben bisher die Möglichkeit die Intensität zu visualisieren nicht genutzt.\nIch stelle Ihnen hier ein anderes Plugin für diesen Zweck vor.\nAls nächstes möchte ich nun mit Ihnen eine Heatmap, die die Intensität\nder Eigenschaft eines Punktes darstellt, mithilfe des Plugins\n<a href=\"https://github.com/pa7/heatmap.js\">heatmap.js</a><sup id=\"fnref-9\"><a href=\"#fn-9\" class=\"footnote-ref\">9</a></sup> erarbeiten.\nHerunterladen können Sie das Plugin unter der Adresse\n<a href=\"https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html\">https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html</a><sup id=\"fnref-10\"><a href=\"#fn-10\" class=\"footnote-ref\">10</a></sup>.\nHier finden Sie auch die Dokumentation zum Plugin.</p>\n<p>Nachfolgende sehen Sie das erste Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;heatmap.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet-heatmap.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var myData={</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> max: 100,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*data: [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{lat: 51.0934, lon:8.666819, value: 99},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{lat: 51.0972, lon:8.667964, value: 99},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{lat: 50.088041, lon:7.652033, value: 23},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{lat: 50.088041, lon:7.652033, value: 23}]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var baseLayer = L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var cfg = {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;radius&quot;: .1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;maxOpacity&quot;: .5,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;scaleRadius&quot;: true,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;useLocalExtrema&quot;: true,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*latField: &#39;lat&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*lngField: &#39;lon&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*valueField: &#39;value&#39;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var heatmapLayer = new HeatmapOverlay(cfg);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heatmapLayer.setData(myData);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var map = new L.Map(&#39;mapid&#39;, {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*center: new L.LatLng(50.0586, 7.6568),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*zoom: 8,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*layers: [baseLayer, heatmapLayer]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_961.html--&gt;</span></span></code></pre>\n<p>Was zeigt Ihnen dieses Beispiel genau? Sie sehen, dass Sie neben dem Skript\n<code class=\"language-text\">leaflet.heat.js</code> auch das Skript <code class=\"language-text\">heat.js</code> einbinden können oder müssen.\nAls nächstes müssen Sie die Daten, die Sie visualisieren möchten,\nangeben – diese müssen eine Angabe zu dem maximal möglichen Wert enthalten:\n<code class=\"language-text\">var myData={</code><strong><code class=\"language-text\">max:100</code></strong><code class=\"language-text\">, data: [ {lat: 51.0934, lon:8.666819, value: 99} ….</code>.\nDanach können Sie die Heatmap Ebene erstellen.\nDer Übersicht halber habe ich die Optionen der Heatmap Ebene in einer separaten Variablen,\nnämlich der Variablen <code class=\"language-text\">cfg</code>, definiert.\nDie Anweisung zum Erstellen der Heatmap Ebene mit den Optionen in der Variablen\n<code class=\"language-text\">cfg</code> lautet <code class=\"language-text\">var heatmapLayer = new HeatmapOverlay(cfg);</code>.\nDieser Ebene können Sie nun die Daten mit dem Befehl\n<code class=\"language-text\">heatmapLayer.setData(myData);</code> hinzufügen.\nZum Schluss fügen Sie diesen Layer nun zum Kartenobjekt hinzu.\nDie Anweisung hierfür lautet:\n<code class=\"language-text\">L.Map(&#39;mapid&#39;, { center: new L.LatLng(50.0586, 7.6568),</code> <code class=\"language-text\">zoom: 8, layers: [baseLayer,</code><strong><code class=\"language-text\">heatmapLayer</code></strong><code class=\"language-text\">]});</code>.</p>\n<p>Wie das aussehen sollte, können Sie sich in der nächsten Abbildung ansehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACQUlEQVQozx2TyY7VPBSE8/6vwIL3ACSEEPx9h9yMzuh4jp2kUdO9+bdF3ays2D6nvlPlZNEqRNtjW2ccvsern5HMiFfTQbd3LEOBNY1QoYXeBTr3H6aQI8UBzrfwx3iev/9Z8HEoZG6s4aY7kuuQlgJhKhCHEm+eDesLRPkbdm0hlxyNuqAxP9G7F4RVQKkc0hRQ5oHoWmxzyYYk8N2DDQYcuoHrShjuWV46VIGxeYEJDaQtMOkcNpIqdHAkVpr0JNVrjd7cKVAg22WDNOY4SLhZqsoc2tWY1Y2FJdULSFXBuAbWN9C6xMrvsA88I4Cr4GKHxZQQNkeWSJaoFkzLQ6quJawT8PTHrRVi6tCXX9CJb2dDySI3FyfpxCZS3eFJmfaZYhWydZeYOI6yFZQrEUIPbymQejauoLce4scnNF8/Y9Yt2ut3Cvw6vWvsFd5U2GiBp7C1DbJtkxjp16AfbEo/uemp7I2gIsd13KcF2tR4cyPp6OPTBkcIEgdZ4li70+dn6tnHIZGYmPPiLDLjDUtz4cpGoYLUN3pGgbVnSBVsf4ekt3PgayDZ7gauAwl7LGye/X9MeEsC2+uE9Fx9zaLnKC3MQrKR1ExfqCtTfGCpXpj2g37W2GKPxAljmBCjwMK67J1G/p2vjF8gMv6dVH6+810JUnIsElkm27kbAn2eRX7aETSnCc/J6Dkp3TrC8jt7Z+FHoBrpUuTT4DiBHh30J9GbwEvP8QyJlumBvrtgoQWO1Co1MEzb8idIacDM9R+epxG17LZWwQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Heatmap - erstellt mithilfe des Plugins [heatmap.js](https://github.com/pa7/heatmap.js) - die die Intensität darstellt.\"\n        title=\"Eine Heatmap - erstellt mithilfe des Plugins [heatmap.js](https://github.com/pa7/heatmap.js) - die die Intensität darstellt.\"\n        src=\"/static/178f16ef3d0681a6fc89fef7828990df/f058b/952.png\"\n        srcset=\"/static/178f16ef3d0681a6fc89fef7828990df/c26ae/952.png 158w,\n/static/178f16ef3d0681a6fc89fef7828990df/6bdcf/952.png 315w,\n/static/178f16ef3d0681a6fc89fef7828990df/f058b/952.png 630w,\n/static/178f16ef3d0681a6fc89fef7828990df/40601/952.png 945w,\n/static/178f16ef3d0681a6fc89fef7828990df/78612/952.png 1260w,\n/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Heatmap - erstellt mithilfe des Plugins <a href=\"https://github.com/pa7/heatmap.js\">heatmap.js</a> - die die Intensität darstellt.</em></p>\n<h4>Dokumentation und Methoden</h4>\n<p>Das nachfolgende Beispiel demonstriert Ihnen, wie unterschiedlich Punkte\nmit unterschiedlicher Intensität aussehen können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;heatmap.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet-heatmap.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var myData={</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*max: 100,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> data: [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {lat: 51.0934, lon:8.666819, value: 99},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {lat: 51.0972, lon:8.667964, value: 99},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {lat: 50.088041, lon:7.652033, value: 23},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {lat: 50.088041, lon:7.652033, value: 23}]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> };</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var baseLayer = L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var cfg = {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;radius&quot;: .1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;maxOpacity&quot;: .5,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;scaleRadius&quot;: true,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;useLocalExtrema&quot;: true,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> latField: &#39;lat&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> lngField: &#39;lon&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> valueField: &#39;value&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> gradient: {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &#39;.4&#39;: &#39;blue&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &#39;.8&#39;: &#39;lime&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &#39;.95&#39;: &#39;red&#39;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> blur: 0.75</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> };</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var heatmapLayer = new HeatmapOverlay(cfg);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var map = new L.Map(&#39;mapid&#39;, {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> center: new L.LatLng(50.0586, 7.6568),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> zoom: 8,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> layers: [baseLayer, heatmapLayer]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> });</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> heatmapLayer.setData(myData);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var test1 = {lat:51,lon:6,value:99};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var test2 = {lat:50.5,lon:6,value:60};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var test3 = {lat:50,lon:6,value:40};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var test4 = {lat:49.5,lon:6,value:20};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heatmapLayer.addData(test1);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* heatmapLayer.addData(test2);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heatmapLayer.addData(test3);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heatmapLayer.addData(test4);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_960.html--&gt;</span></span></code></pre>\n<p>Im vorhergehen Codebeispiel haben wir 4 Punkte mit unterschiedlicher\nIntensität zur Karte hinzugefügt.\nDie Werte für die Intensität betragen 99, 60, 40 und 20 bei einem maximalen Wert\nvon 100.\nIn der nachfolgenden Abbildung sehen Sie die unterschiedliche Darstellung\nauf der Karte.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQozyWTy46cMBRE+f/PSPZRsopGkTIzimbSTfNqDOZt8AObJtGkZ5NtpbqzQDYG7q1TdYm8VvC6wbYO2G2L3fQwk+S+g2pyTN0Za+DeVZj3GmKI0agcITQwtoLdu/vz6+8J77tCZLoSpk8QjMSmCswywenlFdf0GfbhC/qnr9BrjWFMIeYDiv4V1RRj9RWUSjEuOdSSwZsK21CwYJvDygxvN3Uzi8szdFdATyfsQ4K+fMVCdYPO0c8pdBBwq4ThmZpzFm4xryWaJWGDHNFlFAhdSlSJi6nRtSkOuYA6PcDHD1jyJ0wLm9iSl8A8F1hVCXdpqUzAmDOMl3ynQK1TRIHKAru5peJDdl2JrXk/UTnRgishjt9RZo9EF0TMYIYcmsg9i4wqgaXKcBnY7IxovYzoiaP0GbMlqm4hqwZ+OMGKH0RPkXz+gOTTR4xsVB0f0RQvd++EjmGpfnMSNkh+KxBt24iOXds5Y9EchhhTz2TFATp/5v4nFHFn+vtmOqqjjyw2GoqgBW4ssNPTxYl76tH7PiIwRWNropZYuhP6IoaujpgZzNj8oGcFsRrsil42CUZXYHA5vLv53nJtqbDBxOLR373HW6ix/eoRtprjU2IUCXzyBPvyDUvM8aG/tYqZYobpfGDa2T2kjU0CCb3r4X2NqYkRXWnkn+E2VzU849/XMzESrCvHYSqJzI+ZrDQnOPrcVynMXMPRgsXdyBpYqjRrB8376MpReWeSG1UGL3hYMPGcf0rJhCUcX7rhLfZ/cSmPmKaCRTlanMmFaWsr+ee0GLj+A2fJDrxMuIXjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Punkte mit unterschiedlicher Intensität auf einer Heatmap.\"\n        title=\"Punkte mit unterschiedlicher Intensität auf einer Heatmap.\"\n        src=\"/static/350981d654ec2e1aef2cfe0ea08d8180/f058b/949.png\"\n        srcset=\"/static/350981d654ec2e1aef2cfe0ea08d8180/c26ae/949.png 158w,\n/static/350981d654ec2e1aef2cfe0ea08d8180/6bdcf/949.png 315w,\n/static/350981d654ec2e1aef2cfe0ea08d8180/f058b/949.png 630w,\n/static/350981d654ec2e1aef2cfe0ea08d8180/40601/949.png 945w,\n/static/350981d654ec2e1aef2cfe0ea08d8180/78612/949.png 1260w,\n/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Punkte mit unterschiedlicher Intensität auf einer Heatmap.</em></p>\n<h3>Interaktive Heatmaps</h3>\n<p>Besonders spannend sind Karten, wenn wenn man sie bearbeiten und somit verändern kann.\nAuch eine Heatmap kann interaktiv programmiert werden.\nSie können es beispielsweise Benutzern ermöglichen,\nDaten zur Heatmap Ebene hinzuzufügen.\nWie das geht sehen Sie im nachfolgenden Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([50.1555 , 7.591838], 15);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var points = [];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var heat = L.heatLayer(points,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> blur: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> maxZoom: 15,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> max: 1.0,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> radius: 25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function addpoint(e){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat.addLatLng(e.latlng);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.on(&#39;click&#39;, addpoint);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_959.html--&gt;</span></span></code></pre>\n<p>Was haben wir genau gemacht?\nAls erstes haben wir mit der Zeile <code class=\"language-text\">&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</code>\ndas Plugin <code class=\"language-text\">leaflet.heat</code> eingebunden. In diesem konkreten Beispiel ist es wichtig,\ndass ein Doppelklick keine Änderung der Zoom-Stufen auf der Karte auslöst.\nDeshalb stellen wir sicher, dass jemand nicht versehentlich zu schnell klickt\nund ungewollt die Zoom-Stufe ändert, obwohl er eigentlich zwei Punkte hinzufügen\nmöchte.\nDies verhindern wir, indem wir die Option <code class=\"language-text\">doubleClickZoom</code> auf <code class=\"language-text\">false</code> setzen.\nZu Beginn sollen in unserem Beispiel noch keine Daten auf der Karte angezeigt werden.\nDeshalb haben wir zunächst einen leeren Datensatz mit <code class=\"language-text\">var points = [];</code> erstellt.\nDiesen leeren Datensatz geben wir einem <code class=\"language-text\">L.heatLayer</code> Objekt bei der\nInstanziierung als Parameter mit: <code class=\"language-text\">var heat = L.heatLayer(points, {…}</code>.\nNun fehlt noch die Methode, mit der ein Punkt hinzugefügt wird.\nDiese Methode ist mit der Anweisung\n<code class=\"language-text\">function addpoint(e){ heat.addLatLng(e.latlng); }</code> schnell erstellt.\nUnd <code class=\"language-text\">mymap.on(&#39;click&#39;, addpoint);</code> bewirkt, dass diese auch ausgeführt wird,\nwenn jemand auf die Karte klickt.</p>\n<p>Das Ergebnis sehen Sie im Browser, wenn Sie die HTML Datei dieses Beispiels öffnen.\nZunächst wird die Karte ganz normal angezeigt. Sie sehen keinen Wärmepunkt.\nWenn Sie mit der Maus eine Stelle auf der Karte klicken,\nwird an dieser Koordinate ein Wärmepunkt hinzugefügt.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACp0lEQVQozy2SWVfiWBRG+fn9A9pVXYoDyypFEKVEoCxEKcFGGUKAhDFkIAkhjA5Vz7tP2/1wH5KVfOc7e9+I57k8dM+50+Lke0lutDNy+hn5/8+NnqA8yPPYvuahdk6uJ991TmhNHvDDCZulxWblspAz9lUi6rBOsh0jW/vM+dMOCWWPs9Znkq0op8onrloxnMGYoNmnWIpx0vyTXPuUX5sFv7YhWwlar0a8LE3eVjaRyuBGft4nrcfJNQ/ISlhJzdBR/+a5VaCtVfH6Br27MrdXu2S7ByiTIhOvThDobBYGwWzMeNzGtnpEcmqcVF3aNfe40r9QUw7w+08szRGb6ZiF0cU3apTje5yk/yCjHwueLA3jh4Q50sxl5loYhollScN77YKUIpPbh2TVXapKlHA24GU943U7JfSGzII+i16D7+UDEuo+2c5X/GDA23r+sfLct3Bsk8CziDwOrkh3oly3j0gIt0J9B8dp8b5d8LLyed0EEhzyGtjcVY5IqlGR8pX1wpahwX+hy6k8e6zmDpGf2jXJ5u4Hx0sRkq1/Qhnd83uzZhGarENHLE55DyyqjyccKzvcdE95lw2WEqrZtY/V/y0QhtLwe/eMdHufvHKIqqXIi/HnUZGpp+F6XZnuspxPmU10Os9ZStollrz3A4PKqCBlopT6GX72r7nXL4kU9CTZ5l/8EBmBW+XZukCfVKn1sgTzsfBxsE2T4bCD2apIU5eJ35OgGPHGLhdKTITGSIjUlNySyFM/xVPvnEznmKFdpDlNi6BTGoNbbLeN69iYpi3Qx4SawjZwcOcDxtMG9XGBb6qwl0KXwj/dOiSi+QXeQhXDv2XmVSgbCYpaRnjYAtyXdV1Me0hzcs+qr/I690TUjPfVjN/bJa7YVqwHSoNvcluO+AfRwu7dAhlsqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde.\"\n        title=\"Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde.\"\n        src=\"/static/8e1b278f9d950e3422dad945eb9cb9bc/f058b/951.png\"\n        srcset=\"/static/8e1b278f9d950e3422dad945eb9cb9bc/c26ae/951.png 158w,\n/static/8e1b278f9d950e3422dad945eb9cb9bc/6bdcf/951.png 315w,\n/static/8e1b278f9d950e3422dad945eb9cb9bc/f058b/951.png 630w,\n/static/8e1b278f9d950e3422dad945eb9cb9bc/40601/951.png 945w,\n/static/8e1b278f9d950e3422dad945eb9cb9bc/78612/951.png 1260w,\n/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde.</em></p>\n<h3>Animierte Heatmaps</h3>\n<p>Das ist fast wie Kino – im nächsten Beispiel verändert sich die Karte automatisch.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([50.1555 , 7.591838], 10);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var points = [];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var points1 = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.1555 , 7.591838 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var points2 = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.0371 , 7.618306 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var points3 = [</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088 , 7.65159 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*[50.088041 , 7.652033 ]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var heat = L.heatLayer(points).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x=1;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var name=&#39;&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var interval = setInterval(function(){run()},2000);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function run(){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.removeLayer(heat);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*name=&quot;points&quot;+x.toString();</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*heat = L.heatLayer(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*window[name],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{blur:15,maxZoom:10,radius:25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*gradient:{0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}})</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*if (x == 3)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x=1;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*else</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x++;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_958.html&gt;</span></span></code></pre>\n<p>Wie entsteht die Animation im Beispiel genau? Als erstes integrieren wir wieder\ndie notwendigen Skripte. Danach erstellen wir die vier Daten-Arrays und nennen diese\n<code class=\"language-text\">points</code>, <code class=\"language-text\">points1</code>, <code class=\"language-text\">points2</code> und <code class=\"language-text\">points3</code>. Jedes Array enthält unterschiedliche\nDaten. Mit dem ersten leeren Array erstellen wir die Schicht mit den Daten für\ndie Heatmap - also das Objekt des Typs <code class=\"language-text\">heatLayer</code>.\nDie Hilfsvariable <code class=\"language-text\">x</code> in Verbindung mit der Methode <code class=\"language-text\">setIntervall()</code>\nermöglicht es uns dann, die Heatmap Ebenen fortlaufend mit anderen Daten\nzu belegen und somit andere Daten anzuzeigen.</p>\n<blockquote>\n<p>In diesem Beispiel habe ich zwei\nJavaScript Elemente verwendet, die vielleicht erklärungsbedürftig\nsind. Als erstes habe ich den Variablennamen mit <code class=\"language-text\">window[name]</code> zusammengesetzt.\nWas bedeutet dies genau? Da es sich um JavaScript Objekte handelt,\nwird jede Variable in einem globalen JavaScript Object gespeichert.\nWenn Sie also die Variable <code class=\"language-text\">points1</code> im globalen Bereich initialisieren –\nalso nicht in einem Funktionskontext –,\ndann schreiben Sie diese Variablen implizit in ein\nglobales Objekt. In einem Browser ist dies das <a href=\"https://developer.mozilla.org/de/docs/Web/API/Window\">Objekt\n<code class=\"language-text\">window</code></a><sup id=\"fnref-11\"><a href=\"#fn-11\" class=\"footnote-ref\">11</a></sup>.\nDer Wert dieser Variablen kann mit der Punkt Notation oder der Klammer Notation\nabgerufen werden. Also entweder mit var <code class=\"language-text\">name = window.points1;</code> oder mit\n<code class=\"language-text\">var name = window[&#39;points1&#39;];</code>.\nAußerdem haben wir die <a href=\"https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval\">Methode <code class=\"language-text\">setInterval()</code></a><sup id=\"fnref-12\"><a href=\"#fn-12\" class=\"footnote-ref\">12</a></sup>\neingesetzt. Mit dieser Methode können Sie eine Funktion\nwiederholt aufrufen. Hierbei können Sie ein Intervall zwischen den\neinzelnen Aufrufen definieren.</p>\n</blockquote>\n<p>So wie im nachfolgenden Bild sieht die Karte nur alle 6 Sekunden aus.\nIn der Zwischenzeit wechselt die Ansicht zweimal.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbUlEQVQozx1TOY7UUBT0MYggJkVizsAdOAEJpIREXACOgJCQSBARE4wGDbN0u9vt/Xv/m/+3e5kMibAod2B5e66qV1UO/FFBTgLDnKPZp7CHGk5XMGMNawXaMsbQZehUikrG6IYIUmVQuoQ3An7uoKYayreQvkBgJgLZGJXdoh63aFyCzmQESTFKASkIFK0gypDvNyh9hNZFaOo1uvyBcwl6m6H1GWq9Q7AoGgiqCWTJMEwpOh3DDymOpsLcx2jFHYrsBpUKkasNCamU895VcKqiYpJOO3RjhGA6NJAmgZ4WsBLDmGKyCU42x+NYYjRb9HqD2OdoDwLWcV1fQlLNwBk9l+h7XhNMcMPA7ht0/fbsS78MyS08V9jPBayOaEWMm+I3rj++xeryC/xRwtgdFIk6nUASsOX3PZ+VZoNA7clgcgZANZ6huB1a+tnoNZpTjatvn5FfPIV9EiB99RLtqYEe6Zvnipbr2wi1WSNv1yhliEAuHkoG4Jtz0vUi3YbnkPRfj/DTB/wLAoBH/eIZ1sU1qnHHGZISMFcPqLoVFD0XVBrIfYXBUbZMULktMnmPwoR8lmE8dNisLhG9f4Pm4jl+vnuNP7++QpwyFBMD4lxSUt3DLVQWw7YpPRzZQZui70L6EKJU67M6MwsmT9C9gnp0uI9u8OPqOzK2IG5X2LFGmSAxuyl2K5SsVhPfLSszFIINwxaViVAMG/ROoB8q6MVbU0AyeTHTK8dKqYQdpB11ivnUYnIFZp3BmKW3LHa/VIWxNy4+l3PgR3op+5jx3JzrJBjUcr/Mana1bbgByfbHDo4/wbwkLSP+XRX+Ay5h/5dVULSdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen `point1`.\"\n        title=\"Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen `point1`.\"\n        src=\"/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png\"\n        srcset=\"/static/e718f8cd2898673e7ae0b8b423fbb914/c26ae/950.png 158w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/6bdcf/950.png 315w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png 630w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/40601/950.png 945w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/78612/950.png 1260w,\n/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen <code class=\"language-text\">point1</code>.</em></p>\n<h2>Choroplethenkarte</h2>\n<p><a href=\"#\"></a>{#inChoroplethenkarte}</p>\n<p>Im vorherigen Kapitel haben wir eine Heatmap zum visualisieren von Daten verwendet.\nWir haben zunächst mithilfe des Plugin <code class=\"language-text\">leaflet.heat</code> Bereiche,\nin denen Punkte dichter vorkommen, farblich hervorgehoben.\nDann haben wir zusätzlich das Plugin <code class=\"language-text\">heat.js</code> geladen und Bereiche,\nin denen die Punkte eine hohe Intensität haben, farblich besonders markiert.</p>\n<p>Eine <a href=\"https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569\">Choroplethenkarte</a><sup id=\"fnref-13\"><a href=\"#fn-13\" class=\"footnote-ref\">13</a></sup>\nmacht erst einmal nichts anderes.\nSie visualisiert die Dichte oder die Intensität bestimmter Objekte.\nSie tut dies aber auf eine andere Art und Weise als die Heatmap.</p>\n<h3>Was genau unterscheidet eine Choroplethenkarte von einer Heatmap?</h3>\n<p>Ich hatte Ihnen erklärt, das eine Heatmap ein Raster über die Karte legt.\nJe nachdem wie die zu visualisierenden Punkte in diesem Raster verteilt sind,\nwerden Farben sichtbar.\nEine Choroplethenkarte verwendet kein separates Raster.\nSie verwendet ein Polygon. Ein Polygon kann zum Beispiel ein Land\noder das Einzugsgebiet eines Unternehmens sein.\nIm Kapitel <a href=\"#DieKarteMitDatenBestuecken\">Die Karte mit Daten bestücken</a>\nhatte ich die Besonderheit eines Polygons beschrieben.\nDieses Vieleck hat eine Grenzlinie die einen Innenbereich und einen\nAußenbereich voneinander abgrenzt.\nEine populäre Choroplethenkarte, die Sie sicherlich schon einmal gesehen haben,\nist die Darstellung der Bevölkerungsdichte eines Gebietes auf der Erde.\nIch habe hier ein Beispiel erstellt, welches genau dies tut.\nIch zeige Ihnen, wie Sie eine Karte, die die Verteilung der Bevölkerung in\nRheinland-Pfalz grafisch darstellt, selbst erstellen können.</p>\n<h3>Choroplethenkarten in Leaflet</h3>\n<p>Das Schöne ist, dass wir mit Leaflet keine zusätzlichen Plugins für das\nErstellen einer Choroplethenkarte benötigen.\nLeaflet ist wie dafür gemacht, GeoJSON Daten als Choroplethenkarte anzuzeigen.\nBeginnen tun wir ganz vorne mit dem Klären der Frage: Wo bekommen Sie die Daten her?</p>\n<h4>Open Data</h4>\n<p><a href=\"#\"></a>{#ChoroplethenkarteOpenData}</p>\n<p>Wenn Sie nicht selbst über Daten verfügen, können sie auf jede Menge\noffener Data zugreifen.</p>\n<blockquote>\n<p><a href=\"https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018\">Open Data</a><sup id=\"fnref-14\"><a href=\"#fn-14\" class=\"footnote-ref\">14</a></sup>,\nalso offene Daten, sind Daten, die von jedem ohne jegliche\nEinschränkungen verwendet und weitergegeben werden dürfen. Warum\ngibt es Open Data? Viele Menschen vertreten die Meinung, dass frei\nnutzbare Daten zu mehr Transparenz und Zusammenarbeit führen. Die\nBereitstellung offener Daten durch öffentliche Einrichtungen wird\nals eine Voraussetzung für\n<a href=\"https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228\">Open Government</a><sup id=\"fnref-15\"><a href=\"#fn-15\" class=\"footnote-ref\">15</a></sup>,\nalso der Öffnung von Regierung und Verwaltung\ngegenüber der Bevölkerung und der Wirtschaft, angesehen. Die\nBefürworter von Open Data teilen somit viele Argumente mit den\nBefürwortern von <a href=\"https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330\">Open-Source</a><sup id=\"fnref-16\"><a href=\"#fn-16\" class=\"footnote-ref\">16</a></sup>.\nOpen Data und Leaflet als Open Source Software passen gut zusammen.</p>\n</blockquote>\n<p><a href=\"http://opendatalab.de/projects/geojson-utilities/\">GeoJSON Utilities</a><sup id=\"fnref-17\"><a href=\"#fn-17\" class=\"footnote-ref\">17</a></sup>\nist ein Projekt, welches den Export von Gemeindeflächen, Landkreisflächen und\nBundeslandflächen in Deutschland im GeoJSON Format ermöglicht.\nJede exportierte Fläche enthält zusätzliche Eigenschaften wie die Einwohnerzahl\nund die Größe der Fläche in Quadratmetern.\nIch habe diese Daten für Rheinland-Pfalz in eine Datei exportiert.\nIm nächsten Beispiel zeige ich Ihnen, wie Sie mithilfe dieser Datei\neine Chorophletenkarte erstellen können.\n<a href=\"http://opendatalab.de/projects/geojson-utilities/\">GeoJSON Utilities</a>\nist übrigens auch eine mit Leaflet erstellte Anwendung.</p>\n<p>Die Datei, die ich heruntergeladen haben, ist relativ groß.\nDeshalb habe ich die Daten in einer separaten Datei abgelegt.\nIch schlage Ihnen vor, dies auch zu tun.\nSo bleibt Ihre HTML-Datei übersichtlich und Sie können sich voll und ganz auf das\nErstellen der Karte konzentrieren.\nWenn Sie die Daten in einer JavaSript Datei ablegen,\nkönnen Sie diese gleichzeitig als Variabel deklarieren.\nWie das geht, zeigt ihnen das nachfolgende Beispiel.\nZunächst sehen Sie die Datei, die die GeoJSON Daten enthält.\nDieser Datei habe ich den Namen <code class=\"language-text\">gemeinden.js</code> gegeben.\nDie GeoJSON Daten werden in der Datei <code class=\"language-text\">gemeinden.js</code> in die Variable <code class=\"language-text\">ct</code> geladen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">*var ct =</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;type&quot;:&quot;**FeatureCollection**&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;crs&quot;:{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;type&quot;:&quot;name&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;properties&quot;:{&quot;name&quot;:&quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;}},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;source&quot;:&quot;© GeoBasis-DE / BKG 2013 (Daten verändert)&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;features&quot;:[</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{&quot;type&quot;:&quot;Feature&quot;,**</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;properties&quot;:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;ADE&quot;:6,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;GF&quot;:4,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;BSG&quot;:1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;RS&quot;:&quot;073345001001&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;AGS&quot;:&quot;07334001&quot;,&quot;SDV_RS&quot;:&quot;073345001001&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;GEN&quot;:&quot;Bellheim&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;BEZ&quot;:&quot;Gemeinde&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;IBZ&quot;:64,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;BEM&quot;:&quot;gemeinschaftsangehörig&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;NBD&quot;:&quot;ja&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;SN_L&quot;:&quot;07&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;SN_R&quot;:&quot;3&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;destatis&quot;:{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;RS&quot;:&quot;073345001001&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* &quot;area&quot;:20.44,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;area_date&quot;:&quot;31.12.2014&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* &quot;population&quot;:8519,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;population_m&quot;:4198,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;population_w&quot;:4321,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;population_density&quot;:417,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;zip&quot;:&quot;76756&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;center_lon&quot;:&quot;8,284042&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  ..,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;geometry&quot;:{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* &quot;type&quot;:&quot;Polygon&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* &quot;coordinates&quot;:**[[[8.276302148832034,49.21145214735215],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">   [8.295112386392997,49.21205183793759],</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ]]}},</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{&quot;type&quot;:&quot;Feature&quot;,*</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;properties&quot;:{&quot;ADE&quot;:6,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;GF&quot;:4,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;BSG&quot;:1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;RS&quot;:&quot;073405003205&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;AGS&quot;:&quot;07340205&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &quot;SDV_RS&quot;:&quot;073405003205&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> ...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--gemeinden.js&gt;</span></span></code></pre>\n<p>In den Properties der einzelnen GeoJSON\nFeatures sind unter anderem der Regionalschlüssel (<code class=\"language-text\">RS</code>), der\ngeographische Name (<code class=\"language-text\">GEN</code>), die amtliche Bezeichnung der\nVerwaltungseinheit (<code class=\"language-text\">BEZ</code>) und die Destatis-Daten – insbesondere die Werte für\ndie Größe der Fläche in Quadratmetern (<code class=\"language-text\">area</code>) und die Einwohnerzahl (<code class=\"language-text\">population</code>) –\nenthalten. Das vorherige Programmcodebeispiel zeigt nur einen Ausschnitt\nder Datei <code class=\"language-text\">gemeinden.js</code>. Beachten Sie, dass es sich nicht um reines GeoJSON handelt.\nGanz genau handelt es sich um JavaScript.\nDieser JavaScript Code deklariert eine Variable, nämlich die Variable <code class=\"language-text\">ct</code>.\nEinbinden können Sie die JavaScript Datei genau wie jedes andere Skript in Ihre\nHTML-Datei mit der Zeile</p>\n<p><code class=\"language-text\">&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</code></p>\n<p>Wenn die Datei <code class=\"language-text\">gemeinden.js</code> richtig eingebunden ist,\nkönnen Sie auf die GeoJSON Daten in dieser Datei ab nun über die Variable <code class=\"language-text\">ct</code>\nzugreifen.</p>\n<h4>Farben</h4>\n<p>Der nächste Schritt zum Fertigstellen der Choroplethenkarte ist die Farbauswahl.\nBeim Erstellen der Heatmaps im vorhergehenden Kapitel haben wir Farben übergeben\nund das jeweilige Plugin hat diese entsprechend zugewiesen.\nBeim Erstellen der Choroplethenkarte müssen wir uns selbst um diese Aufgabe kümmern.\nDeshalb definieren wir eine Funktion,\ndie je nach Wert eine bestimmte Farbe errechnet und zurück gibt.\nIdealerweise kennen Sie den höchsten Wert und den niedrigsten Wert in der Datenmenge.\nDann können Sie, je nach Verteilung der Werte,\nbestimmten Wertbereichen eine Farbe zuordnen.</p>\n<p>Der nachfolgende Programmcodeausschnitt nimmt den Parameter <code class=\"language-text\">x</code> entgegen und\nberechnet anhand des Wertes dieses Parameters eine Farbe.\nDie Funktion <code class=\"language-text\">color(x)</code> gibt bei einem höhere <code class=\"language-text\">x</code> Werte eine dunklere Farben aus.\nBei einem niedrigeren <code class=\"language-text\">x</code> Wert gibt die Funktion eine hellere Farben zurück.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">function color(x) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">return x &gt; 1000 ? &#39;#990000&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 750 ? &#39;#d7301f&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 500 ? &#39;#ef6548&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span></code></pre>\n<h4>Stile</h4>\n<p>Nun benötigen wir noch eine Funktion, die das Zuweisen des passenden CSS\nStylesheets zu den Daten übernimmt.\nNur so können wir jedes GeoJSON Feature individuell ansehen und\nihm den passenden Stil zuweisen. Im nachfolgenden Programmcodeausschnitt\nsehen Sie eine Funktion, die als Parameter ein GeoJSON Feature erwartet.\nJe nach Eigenschaft im Feature gibt die Funktion die passenden Optionen zurück.\nSie erkennen sicherlich sofort, dass die wesentliche Option die mit dem Namen\n<code class=\"language-text\">fillColor</code> ist.\nHier ist genau die Stelle, an der wir die eben erstellte Funktion <code class=\"language-text\">color()</code>\naufrufen und dieser als Parameter den Wert <code class=\"language-text\">feature.properties.destatis.population</code>,\nalso die Bevölkerungsanzahl, mitgeben.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">function myStyle(feature) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">return {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">fillColor: color(feature.properties.destatis.population),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">weight: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">opacity: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">color: &#39;white&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">fillOpacity: 0.85</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span></code></pre>\n<h4>Das vollständige Beispiel</h4>\n<p>Nachfolgenden habe ich die gerade besprochenen Codeschnipsel in einem\nvollständigen Beispiel zusammengesetzt.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([49.9555 , 7.591838], 8);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function color(x) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return x &gt; 1000 ? &#39;#990000&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 750 ? &#39;#d7301f&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 500 ? &#39;#ef6548&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function myStyle(feature) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*fillColor: color(feature.properties.destatis.population),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*weight: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*opacity: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*color: &#39;white&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*fillOpacity: 0.85</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var geoJsonLayer = L.geoJson(ct, {style: myStyle}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_957.html--&gt;</span></span></code></pre>\n<p>In Ihrem Browser sollte die Karte nun so wie in der nächsten Abbildung aussehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACk0lEQVQozx1TSWsUQRidfyhePHgQD3rJRb0oKl4UDUYJcUtEEQyIBwNKjGBIJGCUGCeZpXt67+mupaurezqTqEHPz9c5FNTyVX1vq05jJGodYGJTNMLD1ESYqBhHZQybjpAFfdg6gbIRUusiLh3IOkBhfRgTQFUh5yEa1vy2Y3RU5GDs7qIp+KgaQYd9FH4ftXBRxT14zg50EyP49A7O/ibS2oUsRzDWg8h7yOUQQg2Q6yGKqIdOlY1Q8oEjFWKqPahwADl2EOV77Ooj3FyF9/oZxJNZpOsrEKUHnTsoygB5wbtEqasAoehx7KMzyX1UY9KSRES6uexDGhci2oXZ+wy5eA8bp09heOsq11sQbFJmQ5STEEL7EOM9qLKlHyKRDhFWY8LnhiIFboiWTuFjuv4GZvEOzPIC/NvXkL2aR5F3EaVdJM6Pk1pf9ZDJwYmW9iCFkiN0DM2ICDeiDq0WJTsZ5eBoZw3i6V241y/hYGUJ4dIcdudn4W+uIQp2kecDhHofKhtgSgCamirlonPY5NDUIhVDdhtSPxbRkOzbOnZmLiK8fwP65Rzk8zkML88g/PAWdhoj1T0oQ/r5iCnxT3SULcK/BxkOaX09iVEYj7TomN9F/nMLycZ7OveTdBcwuHkF3y+cR/fJPBJKlBZMArWrbYyKLG1N/WOacky3jknV1iGqSYDGjmCJshVZqQAJY+S9eITtM6exfe4sH3wIU0XQZGQYNVuPUer4xG0lW8qE+SfpshPh093SsJD5ssLhcGF4ng6/IlpdxujxA3hfPqIgIyM9ZG0ayErrNtwJ5wE6/wj1FwVtnS75E1TpomBIG64nPBPs2oa2ahKkcR8h8ymodervc9/hT/Eg6cHEBsjKEP8BbV3762VgrSwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz.\"\n        title=\"Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz.\"\n        src=\"/static/f0ce0368e2fc640645ca0970c55394fe/f058b/947.png\"\n        srcset=\"/static/f0ce0368e2fc640645ca0970c55394fe/c26ae/947.png 158w,\n/static/f0ce0368e2fc640645ca0970c55394fe/6bdcf/947.png 315w,\n/static/f0ce0368e2fc640645ca0970c55394fe/f058b/947.png 630w,\n/static/f0ce0368e2fc640645ca0970c55394fe/40601/947.png 945w,\n/static/f0ce0368e2fc640645ca0970c55394fe/78612/947.png 1260w,\n/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz.</em></p>\n<p>In diesem Beispiel haben wir einen festen Wert ganz unabhängig von anderen Werten\nverwendet. Wir haben die Bevölkerungszahl unabhängig von der Flächengröße\nder Gemeinde als Wert für die Farbe verwendet.\nIn dieser Karte können wir zwar ablesen, wo die Gemeinden mit hoher Bevölkerungszahl\nsich befinden und wo die Gemeinden mit niedriger Bevölkerungsanzahl sind.\nWie dicht die Besiedelung ist, sagt diese Karte aber nicht aus.\nHierzu müssten wir die Bevölkerungszahl noch relativ zur Fläche der Gemeinde setzten.\nDies tun wir nun im nächsten Beispiel.</p>\n<h3>Normalisierte Choroplethenkarten</h3>\n<p>Es kommt sicherlich sehr oft vor, dass Sie mit einer Choroplethenkarten\nnicht nur einen absoluten Wert darstellen möchten.\nOft möchten Sie die Daten zu anderen Daten ins Verhältnis stellen.\nZum Beispiel könnten Sie den Anteil von Menschen,\ndie älter als 60 Jahre sind, darstellen wollen.\nDa Geodaten einen Bezug zu einer Fläche haben, wird es in der Regel so sein,\ndass Sie die Daten in Relation zu dieser Fläche visualisieren möchten – diese also\nnormalisieren möchten.</p>\n<p>In unser GeoJSON Datei ist die Fläche der Gemeinde in der Eigenschaft\n<code class=\"language-text\">area</code> gespeichert. Wir können es uns also einfach machen und auf die Zahl\ndie für die Fläche einer Gemeinde gespeichert ist, zugreifen.\nUm die Choroplethenkarte, die wir im vorhergehenden Kapitel erstellt haben zu\nnormalisieren, ist somit nur ein Schritt –\nnämlich das Teilen der Bevölkerungsanzahl durch die Fläche des betreffenden Bereichs –\nerforderlich. Sehen wir uns das ganze Beispiel zusammenhängend an.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;total()&quot;&gt;Population&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;button onclick=&quot;density()&quot;&gt;Population/Fläche&lt;/button&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([49.9555 , 7.591838], 8);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> function color(x) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> return x &gt; 1000 ? &#39;#990000&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 750 ? &#39;#d7301f&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 500 ? &#39;#ef6548&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> function densityColor(x) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> return x &gt; 500 ? &#39;#990000&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 400 ? &#39;#d7301f&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 300 ? &#39;#ef6548&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 200 ? &#39;#fc8d59&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 100 ? &#39;#fdbb84&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 50  ? &#39;#fdd49e&#39; :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> function myStyle(feature) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> return {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> fillColor: color(feature.properties.destatis.population),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> weight: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> opacity: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> color: &#39;white&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> fillOpacity: 0.85</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> };</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function myDensityStyle(feature) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*fillColor:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*densityColor(feature.properties.destatis.population/feature.properties.destatis.area),</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*weight: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*opacity: 1,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*color: &#39;white&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*fillOpacity: 0.85</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*};</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> function total(){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var geoJsonLayer = L.geoJson(ct, {style: myStyle}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> removeLayer(densitylayer);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> function density(){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var densitylayer=L.geoJson(ct, {style: myDensityStyle}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> removeLayer(geoJsonLayer);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_956.html--&gt;</span></span></code></pre>\n<p>Das vorhergehende Codebeispiel baut auf dem davor erstellten Codebeispiel auf.\nNeben der <code class=\"language-text\">style</code> Funktion fügen wir eine weitere Funktion,\nnämlich die Funktion <code class=\"language-text\">densityStyle()</code>, ein.\nDie Funktion <code class=\"language-text\">densityStyle()</code> gibt, wie der Name schon sagt,\ndie Farbe für die <em>relative Angabe</em> zurück.\nDamit wir die Choroplethenkarten Ebenen der beiden vorhergehenden Beispiele\nvergleichen können,\nhabe ich eine Schaltfläche in das HTML Dokument integriert.\nJe nachdem welche Schaltfläche angeklickt wird, wird die passende Formel ausgeführt.\nEinmal die, die absoluten Werte anzeigt, ein anderes mal die,\ndie die relativen Werte ausgibt.</p>\n<p>Nun werden Sie feststellen, dass viele große Bereiche in ländlichen Gegenden,\nnicht mehr dunkel eingefärbt sind. Im ersten Beispiel,\nin dem wir mit den absoluten Zahlen gearbeitet haben,\nwaren diese Bereiche teilweise dunkel.\nDie Bevölkerungszahl ist aber in Relation zur Fläche dort gar nicht hoch.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACUklEQVQozx2SSW8TQRBG/d+5cUKIAxIcEIKQW0AcCMGBRMFR7Hgdz+Kxe5aenh7PeIuXLAQlehQ5lFrq6q5631dVq4qc0qbYPKFIQm42c643S27Wcq4q1hK76wVX2zmLbSkxZbWbsd5UbORuI7nNbs7tzZI/1ytqZuKR+E3K3KeM+2SjDrnfYaGHpMMmTueMxLjE4xYD1cDPLomsvDMDoqjNJO0SJR1s5lCEPWr5xJGPbZY6YJG5ZEEfPeoTxx3mekDYb1BlXW7d72T+KbEdSjEXYz1iyVsbkFqXUdpBqQ61KnIphWqWulTGJ1FdUukWqkuK0mXd/IJ5/Yztr0/Mowsi7WCjPnk1Isk8slQACl8oB/i6S600IYUZYkWiEcI4lwe5x5V1uLMtHrUQ7r9gebxHVXko00OPu2ihCqVYJEoyoZzOFHE0EMnTCZNMEoIfZz2MeFlIPMyHPJhz7qMTHqsuu+SM4OcB7nkdv/dbCvVwsxY66T8pM1MfnToiuVQo3SdIxFzdEwkDIXVYqBa704/8VT+4Txrs2l9Z7r8kb9fRxiGS5pGcuRowM57IdtGisrZdRFTWJxeqRPxJJ23UsIV1G6wGh6xkqnfeEXf+Edvj9wSf94grn7HpUsi/MgtEUUhejojEitp1FbKZeuJBSFkFsj7i5aiFSWVtZFBKVmF1ccDi2xvKd88Zvn2FEo+12DT9750oLPIxhQwmHrepXQnmJmzK+D0JR2hln8Roq2WCqo/yLpn26uzUCev6B3TzEFsE5LHztJ9ZHmBk5YwNSaTRPwn1yS54eydDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz.\"\n        title=\"Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz.\"\n        src=\"/static/925839c06e4b9cc52211f0b8a3f22037/f058b/948.png\"\n        srcset=\"/static/925839c06e4b9cc52211f0b8a3f22037/c26ae/948.png 158w,\n/static/925839c06e4b9cc52211f0b8a3f22037/6bdcf/948.png 315w,\n/static/925839c06e4b9cc52211f0b8a3f22037/f058b/948.png 630w,\n/static/925839c06e4b9cc52211f0b8a3f22037/40601/948.png 945w,\n/static/925839c06e4b9cc52211f0b8a3f22037/78612/948.png 1260w,\n/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz.</em></p>\n<h2>In diesem Kapitel haben wir …</h2>\n<p>In diesem Kapitel haben Sie alles das,\nwas Sie in den ersten Teilen kennengelernt haben, zum visualisieren eingesetzt.\nSie haben Plugins kennen gelernt, die Sie beim Erstellen von Heatmaps unterstützen.\nSie können nun eine Heatmap erstellen, mit der interagiert werden kann.\nAußerdem können Sie eine animierte Heatmap erstellen.\nSie kennen die Besonderheiten von Choroplethenkarten und wissen,\nwann absolute und wann relative Werte sinnvoll sind.\nSie können nun die Anzeige von absoluten und relativen Werten selbst umsetzten.</p>\n<p>Im nächsten Kapitel werden wir noch einmal den Schwerpunkt auf\ndie individuelle Gestaltung setzten.\nHier geht es um benutzerdefinierte Marker.</p>\n\n      <div class=\"footnotes\">\n        <hr/><strong>References:</strong>\n        <ol >\n    \n    <li class=\"footnote-list-item\" id=\"fn-1\" >\n          \n        \n      <a href=\"#fnref-1\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051\">https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051</a> (<a href=\"https://bit.ly/2QfyE7m\">https://bit.ly/2QfyE7m</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-2\" >\n          \n        \n      <a href=\"#fnref-2\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162\">https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162</a> (<a href=\"https://bit.ly/2TgsRjy\">https://bit.ly/2TgsRjy</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-3\" >\n          \n        \n      <a href=\"#fnref-3\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035\">https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035</a> (<a href=\"https://bit.ly/2ApvMiS\">https://bit.ly/2ApvMiS</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-4\" >\n          \n        \n      <a href=\"#fnref-4\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311\">https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311</a> (<a href=\"https://bit.ly/2Qb78I7\">https://bit.ly/2Qb78I7</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-5\" >\n          \n        \n      <a href=\"#fnref-5\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://github.com/Leaflet/Leaflet.heat\">https://github.com/Leaflet/Leaflet.heat</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-6\" >\n          \n        \n      <a href=\"#fnref-6\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://leafletjs.com/plugins.html#heatmaps\">http://leafletjs.com/plugins.html#heatmaps</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-7\" >\n          \n        \n      <a href=\"#fnref-7\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://colorbrewer2.org\">http://colorbrewer2.org</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-8\" >\n          \n        \n      <a href=\"#fnref-8\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://leaflet.github.io/Leaflet.heat/demo/draw.html\">http://leaflet.github.io/Leaflet.heat/demo/draw.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-9\" >\n          \n        \n      <a href=\"#fnref-9\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://github.com/pa7/heatmap.js\">https://github.com/pa7/heatmap.js</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-10\" >\n          \n        \n      <a href=\"#fnref-10\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html\">https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-11\" >\n          \n        \n      <a href=\"#fnref-11\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://developer.mozilla.org/de/docs/Web/API/Window\">https://developer.mozilla.org/de/docs/Web/API/Window</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-12\" >\n          \n        \n      <a href=\"#fnref-12\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval\">https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-13\" >\n          \n        \n      <a href=\"#fnref-13\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569\">https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569</a> (<a href=\"https://bit.ly/2EWbx0d\">https://bit.ly/2EWbx0d</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-14\" >\n          \n        \n      <a href=\"#fnref-14\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018\">https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018</a> (<a href=\"https://bit.ly/2ViIEQT\">https://bit.ly/2ViIEQT</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-15\" >\n          \n        \n      <a href=\"#fnref-15\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228\">https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228</a> (<a href=\"https://bit.ly/2EWqgsa\">https://bit.ly/2EWqgsa</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-16\" >\n          \n        \n      <a href=\"#fnref-16\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330\">https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330</a> (<a href=\"https://bit.ly/2BQ7r5E\">https://bit.ly/2BQ7r5E</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-17\" >\n          \n        \n      <a href=\"#fnref-17\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://opendatalab.de/projects/geojson-utilities/\">http://opendatalab.de/projects/geojson-utilities/</a></p>\n      </li>\n      \n    </ol></div>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/leaflet/4heatmaps-und-choroplethenkarten-leaflet.md","excerpt":"In den vorherigen Kapiteln haben wir uns angesehen,\nwie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –\nzu Ihrer…","fields":{"slug":"/heatmaps-und-choroplethenkarten-leaflet/"},"frontmatter":{"title":"Heatmaps und Choroplethenkarten","date":"16.12.2018","tags":["geografische Daten","Leaflet"],"thumbnail":null}}},"pageContext":{"slug":"/heatmaps-und-choroplethenkarten-leaflet/","previous":{"id":"1d30f00d-2e11-5d19-8a1a-f95ecf8f8065","frontmatter":{"title":"GeoJSON","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/geojson-leaflet/"}},"next":{"id":"1dfcf2a5-7614-57ac-9300-5563fc1b43f6","frontmatter":{"title":"Custom Markers","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/custom-markers-leaflet/"}}}},"staticQueryHashes":[]}