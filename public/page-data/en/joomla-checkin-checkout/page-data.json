{"componentChunkName":"component---src-templates-post-js","path":"/en/joomla-checkin-checkout/","result":{"data":{"markdownRemark":{"html":"<p>Durch die Checkout-Funktion werden unerwartete Ergebnisse vermieden, die auftreten, wenn zwei Benutzer denselben Datensatz gleichzeitig editieren. Das Auschecken sperrt ein Item, wenn ein Anwender es zur Bearbeitung öffnet. Beim Speichern und Schließen wird es dann wieder freigegeben. Eine sinnvolle Funktion, die wir in diesem Teil der Artikelserie unsere Beispielerweiterung integrieren.</p>\n<blockquote>\n<p>Manchmal kommt es vor, dass ein Element als ausgecheckt markiert ist, obwohl es niemand zeitgleich zur Bearbeitung geöffnet hat. Dies passiert in der Regel, wenn ein vorheriges Öffnen nicht korrekt beendet wurde. Beispielsweise wurde der Webbrowser geschlossen, obwohl der Beitrag zur Bearbeitung offen war oder man hat im Menü des Browsers die Zurück-Schaltfläche geklickt.</p>\n</blockquote>\n<h2>For impatient people</h2>\n<p>Sieh dir den geänderten Programmcode in der <a href=\"https://github.com/astridx/boilerplate/compare/t20...t21\">Diff-Ansicht</a> an und übernimm diese Änderungen in deine Entwicklungsversion.</p>\n<h2>Step by step</h2>\n<h3>New files</h3>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t20...t21#diff-5646e047332531426be00a18128422a6\">administrator/components/com_foos/ sql/updates/mysql/21.0.0.sql</a></h4>\n<p>Wie alle Eigenschaften eines Foo-Elementes, wird der Zustand in der Datenbank gespeichert. Wir legen zwei Spalten an. Nachfolgend siehst du das Skript, welches bei einer Aktualisierung aufgerufen wird.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/cf5374b964e155e82d4afbeb30362486e6a02227/src/administrator/components/com_foos/sql/install.mysql.utf8.sql\">administrator/components/com_foos/sql/install.mysql.utf8.sql</a></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"sql\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-2\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">&lt;</span><span class=\"mtk1\">!</span><span class=\"mtk3 mtki\">-- https://raw.githubusercontent.com/astridx/boilerplate/22ad20c84235564c78a59ebe5ca346017870cb43/src/administrator/components/com_foos/sql/updates/mysql/21.0.0.sql --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"-1\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"0\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN </span><span class=\"mtk11\">`checked_out`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">int</span><span class=\"mtk1\">(</span><span class=\"mtk6\">10</span><span class=\"mtk1\">) unsigned </span><span class=\"mtk8\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">NULL</span><span class=\"mtk1\"> DEFAULT </span><span class=\"mtk6\">0</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN </span><span class=\"mtk11\">`checked_out_time`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">datetime</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD </span><span class=\"mtk8\">KEY</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`idx_checkout`</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">`checked_out`</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<h3>Geänderte Dateien</h3>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t20...t21#diff-262e27353fbe755d3813ea2df19cd0ed\">administrator/components/com_foos/forms/foo.xml</a></h4>\n<p>Im Formular fügen wir die Felder für das Speichern des Zustands hinzu. Wir verstecken sie mit dem Attribut hidden, da sie hier nicht vom Benutzer geändert werden. Joomla setzt die Werte automatisch im Hintergrund.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/cf5374b964e155e82d4afbeb30362486e6a02227/src/administrator/components/com_foos/forms/foo.xml\">administrator/components/com_foos/forms/foo.xml</a></p>\n<pre class=\"grvsc-container grvsc-has-line-highlighting solarized-light\" data-language=\"xml\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\tsize=&quot;1&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;</span><span class=\"mtk7\">field</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">name</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;checked_out&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;hidden&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">filter</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;unset&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t/&gt;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t&lt;</span><span class=\"mtk7\">field</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">name</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;checked_out_time&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;hidden&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk3\">filter</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;unset&quot;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t/&gt;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t&lt;</span><span class=\"mtk7\">field</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t</span><span class=\"mtk3\">name</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;ordering&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t</span><span class=\"mtk3\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;ordering&quot;</span></span></span></code></pre>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t20...t21#diff-896f245bc8e493f91277fd33913ef974\">administrator/components/com_foos/sql/install.mysql.utf8.sql</a></h4>\n<p>Die Datenbankänderungen, die wir oben für die Aktualisierung in der separaten Datei eingetragen haben, ergänzen wir im Skript, welches bei einer neuen Installation aufgerufen wird.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/cf5374b964e155e82d4afbeb30362486e6a02227/src/administrator/components/com_foos/sql/install.mysql.utf8.sql\">administrator/components/com_foos/sql/install.mysql.utf8.sql</a></p>\n<pre class=\"grvsc-container grvsc-has-line-highlighting solarized-light\" data-language=\"sql\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN  </span><span class=\"mtk11\">`ordering`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">int</span><span class=\"mtk1\">(</span><span class=\"mtk6\">11</span><span class=\"mtk1\">) </span><span class=\"mtk8\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">NULL</span><span class=\"mtk1\"> DEFAULT </span><span class=\"mtk6\">0</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN  </span><span class=\"mtk11\">`params`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">text</span><span class=\"mtk1\"> </span><span class=\"mtk8\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">NULL</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN </span><span class=\"mtk11\">`checked_out`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">int</span><span class=\"mtk1\">(</span><span class=\"mtk6\">10</span><span class=\"mtk1\">) unsigned </span><span class=\"mtk8\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">NULL</span><span class=\"mtk1\"> DEFAULT </span><span class=\"mtk6\">0</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD COLUMN </span><span class=\"mtk11\">`checked_out_time`</span><span class=\"mtk1\"> </span><span class=\"mtk8\">datetime</span><span class=\"mtk1\"> </span><span class=\"mtk8\">AFTER</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`alias`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">ALTER</span><span class=\"mtk1\"> </span><span class=\"mtk8\">TABLE</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`#__foos_details`</span><span class=\"mtk1\"> ADD </span><span class=\"mtk8\">KEY</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`idx_checkout`</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">`checked_out`</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t20...t21#diff-2daf62ad6c51630353e31eaa3cc28626\">administrator/components/com_foos/src/Model/FoosModel.php</a></h4>\n<p>Im Model passen wir alles so an, dass die beiden neuen Spalten korrekt geladen werden.</p>\n<blockquote>\n<p>Beachte die Änderung <code class=\"language-text\">array(...)</code> in <code class=\"language-text\">explode(&#39;, &#39;,$this-&gt;getState(...)...)</code>. Wir nutzen nun die PHP-Funktion <a href=\"https://www.php.net/manual/de/function.explode.php\"><code class=\"language-text\">explode</code></a> zusammen mit <code class=\"language-text\">getState</code> um das Array für die Datenbankabfrage zu erstellen. Dies ist sicherer und fehlertoleranter.</p>\n</blockquote>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/cf5374b964e155e82d4afbeb30362486e6a02227/src/administrator/components/com_foos/src/Model/FoosModel.php\">administrator/components/com_foos/src/Model/FoosModel.php</a></p>\n<pre class=\"grvsc-container grvsc-has-line-highlighting solarized-light\" data-language=\"php\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t</span><span class=\"mtk3 mtki\">// Select the required fields from the table.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">query</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">select</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-del\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-del\" aria-hidden=\"true\" data-content=\"-\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk9\">array</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-del\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-del\" aria-hidden=\"true\" data-content=\"-\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t</span><span class=\"mtk11\">&#39;a.id&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.name&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.alias&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.access&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-del\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-del\" aria-hidden=\"true\" data-content=\"-\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t</span><span class=\"mtk11\">&#39;a.catid&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.published&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.publish_up&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.publish_down&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-del\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-del\" aria-hidden=\"true\" data-content=\"-\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t</span><span class=\"mtk11\">&#39;a.language&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.ordering&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;a.state&#39;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk7\">explode</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t</span><span class=\"mtk11\">&#39;, &#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">getState</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;list.select&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;a.id, a.name, a.catid&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.access&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.checked_out&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.checked_out_time&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.language&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.ordering&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.state&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.published&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t</span><span class=\"mtk11\">&#39;, a.publish_up, a.publish_down&#39;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk8\">@@</span><span class=\"mtk1\"> </span><span class=\"mtk8\">-</span><span class=\"mtk6\">124</span><span class=\"mtk1\">,</span><span class=\"mtk6\">6</span><span class=\"mtk1\"> </span><span class=\"mtk8\">+</span><span class=\"mtk6\">134</span><span class=\"mtk1\">,</span><span class=\"mtk6\">13</span><span class=\"mtk1\"> </span><span class=\"mtk8\">@@</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">function</span><span class=\"mtk1\"> </span><span class=\"mtk7\">getListQuery</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">query</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">select</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;(&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">subQuery</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;) AS &#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;association&#39;</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk3 mtki\">// Join over the users for the checked out user.</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">query</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">select</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;uc.name&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;editor&#39;</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">join</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk11\">&#39;LEFT&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t</span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;#__users&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;uc&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39; ON &#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;uc.id&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39; = &#39;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">.</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">db</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">quoteName</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;a.checked_out&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t);</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t</span><span class=\"mtk3 mtki\">// Filter on the language.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t</span><span class=\"mtk8\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">$</span><span class=\"mtk7\">language</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">getState</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;filter.language&#39;</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t{</span></span></span></code></pre>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t20...t21#diff-3186af99ea4e3321b497b86fcd1cd757\">administrator/components/com_foos/tmpl/foos/default.php</a></h4>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/cf5374b964e155e82d4afbeb30362486e6a02227/src/administrator/components/com_foos/tmpl/foos/default.php\">administrator/components/com_foos/tmpl/foos/default.php</a></p>\n<p>In die Listenansicht fügen wir keine separate Zeile ein. Beim Namen wird ein Symbol angezeigt, wenn das Element gesperrt ist. Für die Anzeige von diesem wähle ich die Funktion, die Joomla in eigenen Erweiterungen einsetzt: <code class=\"language-text\">echo HTMLHelper::_(&#39;jgrid.checkedout&#39;, $i, $item-&gt;editor, $item-&gt;checked_out_time, &#39;foos.&#39;, true)</code>. Die übernimmt gleichzeitig die Prüfung, ob der Beitrag freigegeben ist oder nicht.</p>\n<pre class=\"grvsc-container grvsc-has-line-highlighting solarized-light\" data-language=\"php\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span><span class=\"mtk1\"> </span><span class=\"mtk9\">echo</span><span class=\"mtk1\"> </span><span class=\"mtk8\">HTMLHelper:</span><span class=\"mtk1\">:</span><span class=\"mtk7\">_</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;grid.id&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">i</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">id</span><span class=\"mtk1\">); </span><span class=\"mtk8\">?&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;/</span><span class=\"mtk4\">td</span><span class=\"mtk8\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">th</span><span class=\"mtk1\"> </span><span class=\"mtk4\">scope</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;row&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">class</span><span class=\"mtk8\">=</span><span class=\"mtk11\">&quot;has-context&quot;</span><span class=\"mtk8\">&gt;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span><span class=\"mtk1\"> </span><span class=\"mtk8\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">checked_out</span><span class=\"mtk1\">) </span><span class=\"mtk8\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">?&gt;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span><span class=\"mtk1\"> </span><span class=\"mtk9\">echo</span><span class=\"mtk1\"> </span><span class=\"mtk8\">HTMLHelper::</span><span class=\"mtk7\">_</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;jgrid.checkedout&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">i</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">editor</span><span class=\"mtk1\">, </span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">checked_out_time</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&#39;foos.&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk5\">true</span><span class=\"mtk1\">); </span><span class=\"mtk8\">?&gt;</span></span></span>\n<span class=\"grvsc-line grvsc-line-diff grvsc-line-diff-add\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-diff-add\" aria-hidden=\"true\" data-content=\"+\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span><span class=\"mtk1\"> </span><span class=\"mtk8\">endif</span><span class=\"mtk1\">; </span><span class=\"mtk8\">?&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk8\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;?</span><span class=\"mtk4\">php</span><span class=\"mtk1\"> </span><span class=\"mtk9\">echo</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$</span><span class=\"mtk7\">this</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">escape</span><span class=\"mtk1\">(</span><span class=\"mtk8\">$</span><span class=\"mtk7\">item</span><span class=\"mtk8\">-&gt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">); </span><span class=\"mtk8\">?&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter\" aria-hidden=\"true\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> \t\t\t\t\t\t\t\t\t</span><span class=\"mtk8\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk8\">&gt;</span></span></span></code></pre>\n<blockquote>\n<p>Ich habe es hier unkompliziert gehalten. Ich prüfe nicht, ob jemand berechtigt ist, einen ausgecheckten Beitrag wieder freizugeben. Die Komponenten in Joomla gestalten dies restriktiver. In <code class=\"language-text\">com_contact</code> sieht die betreffende Zeile beispielsweise so aus: <code class=\"language-text\">&lt;?php echo HTMLHelper::*(&#39;jgrid.checkedout&#39;, $i, $item-&gt;editor, $item-&gt;checked_out_time, &#39;contacts.&#39;, $canCheckin); ?&gt;</code>. Wenn du ebenfalls nicht jedem das Freigeben erlaubst und dies implementieren möchtest, sieh dir die Implementierung in <code class=\"language-text\">com_contact</code> an - sprich: den Code, der<code class=\"language-text\">$canCheckin</code> berechnet.</p>\n</blockquote>\n<h2>Teste deine Joomla-Komponente</h2>\n<ol>\n<li>Installiere deine Komponente in Joomla Version 4, um sie zu testen:</li>\n</ol>\n<p>Kopiere die Dateien im <code class=\"language-text\">administrator</code> Ordner in den <code class=\"language-text\">administrator</code> Ordner deiner Joomla 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">components</code> Ordner in den <code class=\"language-text\">components</code> Ordner deiner Joomla 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">media</code> Ordner in den <code class=\"language-text\">media</code> Ordner deiner Joomla 4 Installation.</p>\n<ol start=\"2\">\n<li>The database has been changed, so it is necessary to update it. Open the 'System | Information | Database' area as described in part 16. Select your component and click <code class=\"language-text\">Update Structure</code>.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3eaca4b65693778d080e4c7adcb48ec6/191e2/j4x16x1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABg0lEQVQoz42RS0vDQBSF8xdc+z/cunNRwYUvighVXBQfuBTBoqDon3HpQvcuRAQVEXFVWgtWW5rXvJJJzPFm2qRNVXDIx0zm5px7ZmJNTu9iYqqKhZUatquH2FrfR3l1DzOVGkqVA8yu1X5QIuY2jjBfPUZ55wzLW6dY3DzBEmFd3rVwdd9Bs/4M7nUgezYgPQCJIY4jQiOO9HAeIYpCCCGgpABjDBYGw31/gOI2HCZxcfuG8+sGbp4a8H0fnAsIqcC4hFAxuCSTDKUhVTqH8EhrhaGmQoAPO4BPgjCM8Nry8Vh30Gy7psZIyKWGCjQ16CEgDRO0z5XRMKrJkBpRMyvhvJ/w00a73TXdR4cMIhL3DdMkdvcFStERyYAJRamE0YT6y6S1kCT0JBAsgMdjuITt6xyXRzkO4QnQHNPVRMUa0wbLXD0ZMpV9VDQxMJ3vO/la5+uhTvd/ijGUaYJfzLgea6LHKO5ZqRkyQ/aHGRt/LybLjpvuFxOyfyQbOb47MBnlG+0U4heqbl5LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla Published\"\n        title=\"Joomla Published\"\n        src=\"/static/3eaca4b65693778d080e4c7adcb48ec6/f058b/j4x16x1.png\"\n        srcset=\"/static/3eaca4b65693778d080e4c7adcb48ec6/c26ae/j4x16x1.png 158w,\n/static/3eaca4b65693778d080e4c7adcb48ec6/6bdcf/j4x16x1.png 315w,\n/static/3eaca4b65693778d080e4c7adcb48ec6/f058b/j4x16x1.png 630w,\n/static/3eaca4b65693778d080e4c7adcb48ec6/40601/j4x16x1.png 945w,\n/static/3eaca4b65693778d080e4c7adcb48ec6/78612/j4x16x1.png 1260w,\n/static/3eaca4b65693778d080e4c7adcb48ec6/191e2/j4x16x1.png 1836w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol start=\"3\">\n<li>Öffne ein Item in der Bearbeitungsansicht.</li>\n<li>Wechsele in einen anderen Browser und versuche, das Item erneut zu bearbeiten.</li>\n<li>Vergewissere dich, dass du ein Symbol siehst, dass dich darauf hinweist, dass dieses Item gesperrt ist und dass ein berechtigter Benutzer die Sperrung aufheben kann.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3d814604bda40701ce1743c88217a255/53ac9/j4x25x1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABrklEQVQoz41SPU8UURSdX0NvSUlrY2JiCGQ1ZBGWxcTlQyWGkBA6SwsLExoKCrQiMbGysbBe6xVIcENgdXkz72vevDczh/vesCu7S+FNTu5H7jv33DsTPXjYxNRMHdOPmqi/3EZtZQuPF1p4Ul/H7PPNIeaWXqHWeB0wv0xovMHq2g4aG7t49uItFls7eNrcQvTuqI29w5/4/P0UQgh0L3o4O7/A1V8GlWZQOkWaGjCu0e1x/CZcxxJKaXCpIVUKlkj86ccQlEe4NWstpM6CN66E4Ab8so9YGqrlaJ8wfPjyC++PO2h3rsLjmCsIlZGnWBjqdYh0ViAvCppGBZEhESm4snDWQfV60CaDJIXa2NAHlCjLfyiKyru8IEKLaP/wGB8PPuHrtx/gugQTLkzyxkiBySw9KEZIxuGH5EQcFF6zGAkX6DMRCh6JcqHRr2Wdm1AzQVgOCEmhpnXCDV1B6mwoJl6hJ6SDW5eH+P8UEqH/it5S424JXSD0anhQmId4iLIczcdvOJiiUzu834A0GYsr2HvyarNA6PJqJf/P3SWMSS2T1RAmK/WjuK9mcQPjk+JdA1zUrAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla Sperren/Freigeben\"\n        title=\"Joomla Sperren/Freigeben\"\n        src=\"/static/3d814604bda40701ce1743c88217a255/f058b/j4x25x1.png\"\n        srcset=\"/static/3d814604bda40701ce1743c88217a255/c26ae/j4x25x1.png 158w,\n/static/3d814604bda40701ce1743c88217a255/6bdcf/j4x25x1.png 315w,\n/static/3d814604bda40701ce1743c88217a255/f058b/j4x25x1.png 630w,\n/static/3d814604bda40701ce1743c88217a255/40601/j4x25x1.png 945w,\n/static/3d814604bda40701ce1743c88217a255/78612/j4x25x1.png 1260w,\n/static/3d814604bda40701ce1743c88217a255/53ac9/j4x25x1.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Changed files</h2>\n<h3>Overview</h3>\n<h3>All changes at a glance</h3>\n<p>github.com/astridx/boilerplate/compare/t20...t21.diff</p>\n<h2>Links</h2>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtkb { font-weight: bold; }\n  .solarized-light .mtki { font-style: italic; }\n  .solarized-light .mtk8 { color: #859900; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk3 { color: #93A1A1; }\n  .solarized-light .mtk11 { color: #2AA198; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk9 { color: #D30102; }\n  .solarized-light .mtk13 { color: #073642; }\n  .solarized-light .mtk4 { color: #CB4B16; }\n  .solarized-light .mtk5 { color: #B58900; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/joomla/25joomla-checkin-checkout.en.md","excerpt":"Durch die Checkout-Funktion werden unerwartete Ergebnisse vermieden, die auftreten, wenn zwei Benutzer denselben Datensatz gleichzeitig…","fields":{"slug":"/en/joomla-checkin-checkout/"},"frontmatter":{"title":"Joomla 4.x Tutorial - Extension Development - Checkin and Checkout","date":"25.12.2020","tags":["CMS","Joomla"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACZ0lEQVQ4y2P4T2XAAGP8+/cPjAmx0cWQxTEMhNF//vwB479//2I1FJ88A7JzkW2CgV+/foE1gvDv37/hhsAAOh/Dhd9//PhfUVX7Pz0z5/+nT5+whlPfhEn/w6Ni/1+7fgNuKIYLQbaDwIqVq/+zcPL+FxCV/B8SHvW/q6fv/3Wgxnfv3v+fMGnK/8KSsv/S8sr/WTh4/0fFJoD1gLyPYeCfPxCnX7x0+b+uocl/JTWt/5Kyiv/FpOT+B4VG/Lexd/7PLyLxX0xaHiwHMnTy1Om4DUR25br1G/5z8Aj+37Jt+/8zZ8/+19IzAhu+fsOm/9dv3PwvJCb1v6q2HsO7GGEIsgkEjh47/p+dW+D/tBmz/nv7BYFdFBOf9F/f2Oz/8pWr/osDXTl7zjwUR2C4EBb1MImM7Nz/gsBwBBl45erV/x8/fvpvaevwX0JG8X96Vu7/j9AIQ0+TWBP2x48fgQbm/Te1sAEbumnzVnDYevsH/dfUNQC61Pz/gwcPUbyMNwwPHTn6n4md+//O3Xv+F5dW/Hd29wJ728Pb7//5CxfBkQOLEFA6xellWCJt7ej6zyMoCk4mO3bu+i+npPZfWV37//yFi/6vBUYYKAwjouPg6RQ5cSOlQ0iEgLwnICL5X11LD2woMwfPf9/AkP91jc3/eYF8UOyDDAepSUnPwpcOIQbu2bcfnCxAGto7u/8fO37i//fv38Eajp84+X/Dxs3/tfWNwQm7vLIat4HIAQsyFORSXPn8wsVL/5cuWwG2CGdpg00jrECAWQZyCSzisJVSeIsvUJiil38wPsxgbOUjA81KbGoBAOxFbQm0w5BOAAAAAElFTkSuQmCC","width":80,"height":80,"src":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png","srcSet":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png 1x"}}}}}},"pageContext":{"slug":"/en/joomla-checkin-checkout/","previous":{"id":"86e4d398-1cad-530c-8049-4b36ba0fefbf","frontmatter":{"title":"Joomla 4.x-Tutorial - Entwicklung von Erweiterungen - Layout","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/joomla-layout/"}},"next":{"id":"3a04bd71-e157-545e-9b55-3f1eb4dd8d13","frontmatter":{"title":"Joomla 4.x-Tutorial - Entwicklung von Erweiterungen - Checkin und Checkout","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/joomla-checkin-checkout/"}}}},"staticQueryHashes":[]}