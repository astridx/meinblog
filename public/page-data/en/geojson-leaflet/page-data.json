{"componentChunkName":"component---src-templates-post-js","path":"/en/geojson-leaflet/","result":{"data":{"markdownRemark":{"html":"<p>In the last chapter you learned about points, markers, lines and polygons. You can now draw these on a leaflet map and know when which object is the right one. You can distinguish <a href=\"https://leafletjs.com/reference.html#layergroup\">layer groups</a><sup id=\"fnref-leafletjs.com/reference.html#layergroup\"><a href=\"#fn-leafletjs.com/reference.html#layergroup\" class=\"footnote-ref\">leafletjs.com/reference.html#layergroup</a></sup> and <a href=\"https://leafletjs.com/reference.html#featuregroup\">feature groups</a><sup id=\"fnref-leafletjs.com/reference.html#featuregroup\"><a href=\"#fn-leafletjs.com/reference.html#featuregroup\" class=\"footnote-ref\">leafletjs.com/reference.html#featuregroup</a></sup> from each other and you know what to look for when displaying a leaflet map on a small display. In addition, you can now react appropriately to a mouse click or other event.</p>\n<p>The next chapter is about the format <a href=\"https://de.wikipedia.org/w/index.php?title=GeoJSON\">GeoJson</a><sup id=\"fnref-de.wikipedia.org/w/index.php?title=geojson\"><a href=\"#fn-de.wikipedia.org/w/index.php?title=geojson\" class=\"footnote-ref\">de.wikipedia.org/w/index.php?title=geojson</a></sup> and how to handle data well even in large quantities.</p>\n<p>GeoJSON is an open format that makes it easy to describe geographic data. It follows a specification - namely the <a href=\"https://de.wikipedia.org/w/index.php?title=Simple_Feature_Access\">Simple Feature Access Specification</a><sup id=\"fnref-de.wikipedia.org/w/index.php?title=simple_feature_access\"><a href=\"#fn-de.wikipedia.org/w/index.php?title=simple_feature_access\" class=\"footnote-ref\">de.wikipedia.org/w/index.php?title=simple_feature_access</a></sup>. For the description of the geodata GeoJSON uses\nuses the <a href=\"https://en.wikipedia.org/w/index.php?title=JSON\">JavaScript Object Notation (JSON)</a><sup id=\"fnref-en.wikipedia.org/wiki/json\"><a href=\"#fn-en.wikipedia.org/wiki/json\" class=\"footnote-ref\">en.wikipedia.org/wiki/json</a></sup>.</p>\n<blockquote>\n<p>The term <em>Simple Feature Access Specification</em> hides a specification of the <a href=\"https://de.wikipedia.org/w/index.php?title=Open_Geospatial_Consortium\">Open Geospatial Consortium (OGC)</a><sup id=\"fnref-de.wikipedia.org/w/index.php?title=open_geospatial_consortium\"><a href=\"#fn-de.wikipedia.org/w/index.php?title=open_geospatial_consortium\" class=\"footnote-ref\">de.wikipedia.org/w/index.php?title=open_geospatial_consortium</a></sup>. This specification contains a generally valid description for geodata and their geometries. The fact that the specification is universally valid means that this data can be exchanged easily. The OGC is a non-profit organisation that aims to develop universally valid standards for geodata.</p>\n</blockquote>\n<h2>In this chapter we will …</h2>\n<p>First, we look at why GeoJSON was developed. Next, we compare the individual GeoJSON elements with the objects that the Leaflet provides. And last but not least, we try out the methods Leaflet offers us specifically for processing GeoJSON data.</p>\n<h2>The history of GeoJSON</h2>\n<p><a href=\"https://en.wikipedia.org/wiki/GeoJSON\">GeoJSON</a> builds on <a href=\"https://de.wikipedia.org/w/index.php?title=JavaScript_Object_Notation\">JSON</a><sup id=\"fnref-de.wikipedia.org/w/index.php?title=javascript_object_notation\"><a href=\"#fn-de.wikipedia.org/w/index.php?title=javascript_object_notation\" class=\"footnote-ref\">de.wikipedia.org/w/index.php?title=javascript_object_notation</a></sup>. Before JSON was specified as a data format, there was the extensible markup language <a href=\"https://en.wikipedia.org/w/index.php?title=XML\">XML</a><sup id=\"fnref-en.wikipedia.org/w/index.php?title=xml\"><a href=\"#fn-en.wikipedia.org/w/index.php?title=xml\" class=\"footnote-ref\">en.wikipedia.org/w/index.php?title=xml</a></sup>.</p>\n<p>Whenever something new is created, there is a reason for it!</p>\n<p>XML was <a href=\"https://www.w3.org/TR/1998/REC-xml-19980210\">published in 1998</a><sup id=\"fnref-www.w3.org/tr/1998/rec-xml-19980210\"><a href=\"#fn-www.w3.org/tr/1998/rec-xml-19980210\" class=\"footnote-ref\">www.w3.org/tr/1998/rec-xml-19980210</a></sup> in order to be able to exchange data between machines without humans having to rework it. This became more and more important in times of the internet. Now there must also be a reason why JSON and GeoJSON why JSON and GeoJSON came into being.</p>\n<h3>Why did the GeoJSON format come into being?</h3>\n<p>Why did the GeoJSON format come into being? Obviously there were things where XML was not optimal for the exchange of data. Why was this the case and what advantages does JSON, or GeoJSON, offer? First of all, all three formats offer the following:</p>\n<ul>\n<li>All three formats can be read and understood by a human.</li>\n<li>All three formats are hierarchically structured. This means that values can be represented within other values.</li>\n<li>All three formats are relatively easy to learn.</li>\n<li>All three formats can be analysed and used by many programming languages.</li>\n<li>All three formats can be exchanged with the help of the Hypertext Transfer Protocol (HTTP) - i.e. via the Internet.</li>\n</ul>\n<p>Let's take a closer look at the individual formats in this chapter to see what advantages the JSON format - when working with\n<a href=\"https://de.wikipedia.org/wiki/Geodaten\">Geodata</a><sup id=\"fnref-en.wikipedia.org/wiki/geodata\"><a href=\"#fn-en.wikipedia.org/wiki/geodata\" class=\"footnote-ref\">en.wikipedia.org/wiki/geodata</a></sup> the format GeoJSON - compared to XML.</p>\n<h4>XML</h4>\n<p>XML describes the structure of data.\nBy means of the <em>tags</em>, the data is given a meaning - a <a href=\"https://de.wikipedia.org/wiki/Semantik\">semantics</a><sup id=\"fnref-en.wikipedia.org/wiki/semantics\"><a href=\"#fn-en.wikipedia.org/wiki/semantics\" class=\"footnote-ref\">en.wikipedia.org/wiki/semantics</a></sup>.\nDue to the tag system of XML, small data sets often become bloated and thus confusing. In addition, addressing individual tags in an XML file is sometimes quite complicated.</p>\n<h4>JSON</h4>\n<p>JSON is basically nothing more than the specification of a certain syntax -- i.e. a <em>syntax convention</em>. No particular meaning is given to the data, rather it is a matter of syntactic arrangement. Since JSON structures data, objects can easily be defined from that data. JSON is under continuous development. In December 1999, the first JSON format specification was adopted. Currently it is specified by two competing standards, <a href=\"https://tools.ietf.org/html/rfc8259\">RFC 8259</a><sup id=\"fnref-tools.ietf.org/html/rfc8259\"><a href=\"#fn-tools.ietf.org/html/rfc8259\" class=\"footnote-ref\">tools.ietf.org/html/rfc8259</a></sup> and <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf\">ECMA-404</a><sup id=\"fnref-ecma-international.org/publications/files/ecma-st/ecma-404.pdf\"><a href=\"#fn-ecma-international.org/publications/files/ecma-st/ecma-404.pdf\" class=\"footnote-ref\">ecma-international.org/publications/files/ecma-st/ecma-404.pdf</a></sup>.</p>\n<p>The big advantage of JSON compared to XML is its ease of use. Since JSON itself represents valid Javascript, it can be executed directly and thus converted into a Javascript object. The individual properties of these objects can then be accessed via the attributes. In the chapter <em>Heatmaps in Leaflet - Density</em> we will include a file containing GeoJSON objects as a script. Just by including the file, we can access the GeoJSON objects of the included file within other scripts. In contrast, an XML file must first be parsed with an XML parser.</p>\n<p>Another advantage of JSON: There is no end tag in JSON. This is the main reason why JSON is more compact. The result is that JSON can be read and processed more quickly.</p>\n<blockquote>\n<p>The data of any GeoJson file located in a GitHub repository is automatically displayed on an interactive map when the file is clicked in the repository. <a href=\"https://github.com/blog/1528-there-s-a-map-for-that\">Github</a> has been creating these maps with Leaflet since 2013. You can see this in the repository <a href=\"https://github.com/astridx/world.geo.json/blob/master/countries.geo.json\">world.geo.json</a><sup id=\"fnref-github.com/astridx/world.geo.json/blob/master/countries.geo.json\"><a href=\"#fn-github.com/astridx/world.geo.json/blob/master/countries.geo.json\" class=\"footnote-ref\">github.com/astridx/world.geo.json/blob/master/countries.geo.json</a></sup> for example.</p>\n</blockquote>\n<p>Even a small example illustrates that XML requires more characters than JSON to describe the same object. An object encoded in XML with 95 characters requires just 73 characters in JSON. This difference is negligible for one object. As a rule, a large number of objects are described digitally. With a large number of objects, this difference can be very significant.</p>\n<p>Here you can see the XML excerpt consisting of 95 characters.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"xml\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">joomlers</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">number</span><span class=\"mtk1\">&gt;1721&lt;/</span><span class=\"mtk7\">number</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">vorname</span><span class=\"mtk1\">&gt;Astrid&lt;/</span><span class=\"mtk7\">vorname</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">nachname</span><span class=\"mtk1\">&gt;Günther&lt;/</span><span class=\"mtk7\">nachname</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">joomlers</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p>The same object can be described with 73 characters in JSON format.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">„</span><span class=\"mtk7\">joomlers</span><span class=\"mtk1\">“: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">„number“: „</span><span class=\"mtk6\">1721</span><span class=\"mtk1\">“,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">„vorname“: „</span><span class=\"mtk7\">Astrid</span><span class=\"mtk1\">“,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">„nachname“: „</span><span class=\"mtk7\">Günther</span><span class=\"mtk1\">“</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">},</span></span></span></code></pre>\n<h4>And why after JSON now also GeoJSON?</h4>\n<p>Geodata could be described and processed in JSON. What is the advantage of the special <strong>Geo</strong>JSON format? GeoJSON is JSON - but specialised for geodata. GeoJSON gives the geodata semantics again - i.e. a meaning. Now you are probably wondering what this back and forth is all about. Does it make sense? Yes, it makes sense: GeoJSON only picks out the positive properties of the JSON and XML formats.</p>\n<p>GeoJSON describes points, lines and polygons and does well with these shapes in a coordinate system. In the previous chapter we saw that working with geodata is basically no different. GeoJSON has become a very popular data format for many geospatial information systems. In this book I mention GeoJSON specifically because Leaflet is also very good at handling data in GeoJSON format. Here we will first take a closer look at GeoJSON objects. If you'd rather get practical right away, it's best to scroll one chapter further. In the chapter <em>GeoJSON in Leaflet</em> you will learn how to display and edit GeoJSON elements on your map.\nedit them.</p>\n<p>To put it in perspective: GoeJSON is still quite young.</p>\n<ul>\n<li>In June 2008, the first GeoJSON format specification was adopted.</li>\n<li>In August 2016, the <a href=\"http://geojson.org/\">RFC (Requests for Comments) 7946</a><sup id=\"fnref-geojson.org/\"><a href=\"#fn-geojson.org/\" class=\"footnote-ref\">geojson.org/</a></sup> was published.</li>\n</ul>\n<blockquote>\n<p>The formal specification of the GeoJSON format can be found on the internet at <a href=\"https://tools.ietf.org/html/rfc7946\">https://tools.ietf.org/html/rfc7946</a>.</p>\n</blockquote>\n<h3>Exploring GeoJSON</h3>\n<p>You now know that GeoJSON allows you to encode many geographic data structures in a machine-readable language. A GeoJSON object can represent a simple geometry, for example a point, a line or a polygon. In addition, you can give a geometry a meaning. You can assign properties to each element. For example, you can give a line the property 'type=street' or 'name=church street'. In this case you create a GeoJSON object of type <a href=\"https://tools.ietf.org/html/rfc7946#section-3.2\">Feature</a><sup id=\"fnref-tools.ietf.org/html/rfc7946#section-3.2\"><a href=\"#fn-tools.ietf.org/html/rfc7946#section-3.2\" class=\"footnote-ref\">tools.ietf.org/html/rfc7946#section-3.2</a></sup>. If you want to combine several feature objects into a group, you can combine them into a collection of features. For this, there is the GeoJSON type <a href=\"https://tools.ietf.org/html/rfc7946#section-3.3\">FeatureCollection</a><sup id=\"fnref-tools.ietf.org/html/rfc7946#section-3.3\"><a href=\"#fn-tools.ietf.org/html/rfc7946#section-3.3\" class=\"footnote-ref\">tools.ietf.org/html/rfc7946#section-3.3</a></sup>. Understanding these concepts brings many benefits. It also helps you to understand how to work with geodata in general. This is because the basic concepts applied in GeoJSON have been a part of <a href=\"https://de.wikipedia.org/wiki/Geoinformationssystem\">geoinformation systems</a><sup id=\"fnref-en.wikipedia.org/wiki/geoinformation-system\"><a href=\"#fn-en.wikipedia.org/wiki/geoinformation-system\" class=\"footnote-ref\">en.wikipedia.org/wiki/geoinformation-system</a></sup> for many years.</p>\n<p>Let's start from the beginning.</p>\n<h4>A geometry</h4>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/leaflet/3geojson-leaflet.en.md","excerpt":"In the last chapter you learned about points, markers, lines and polygons. You can now draw these on a leaflet map and know when which…","fields":{"slug":"/en/geojson-leaflet/"},"frontmatter":{"title":"GeoJSON","date":"15.12.2018","tags":["geografische Daten","Leaflet"],"thumbnail":null}}},"pageContext":{"slug":"/en/geojson-leaflet/","previous":{"id":"38c0da5c-8499-554f-805d-9c4c5a490db0","frontmatter":{"title":"Die Karte mit Daten bestücken","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/die-karte-mit-daten-leaflet/"}},"next":{"id":"1d30f00d-2e11-5d19-8a1a-f95ecf8f8065","frontmatter":{"title":"GeoJSON","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/geojson-leaflet/"}}}},"staticQueryHashes":[]}