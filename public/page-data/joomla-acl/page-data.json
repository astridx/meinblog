{"componentChunkName":"component---src-templates-post-js","path":"/joomla-acl/","result":{"data":{"markdownRemark":{"html":"<p>Dein Ziel ist es, dass nicht jeder das Recht hat, alles zu bearbeiten. Dazu bietet Joomla! eine Zugriffskontrollliste, die ACL. Mit dieser handhabst du Benutzerrechte in deiner Komponente.</p>\n<h2>Für Ungeduldige</h2>\n<p>Sieh dir den geänderten Programmcode in der <a href=\"https://github.com/astridx/boilerplate/compare/t9...t10\">Diff-Ansicht</a> an und übernimm diese Änderungen in deine Entwicklungsversion.</p>\n<h2>Schritt für Schritt</h2>\n<h3>Neue Dateien</h3>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-e5dfd09c647ca1e552c9016cf918acf3\">src/administrator/components/com_foos/access.xml</a></h4>\n<p>Als Erstes legen wir alle möglichen Berechtigungen in einer XML-Datei fest.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/access.xml\">src/administrator/components/com_foos/access.xml</a></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>access</span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>com_foos<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.admin<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_ADMIN<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.options<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_OPTIONS<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.manage<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_MANAGE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.create<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_CREATE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.delete<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_DELETE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.edit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_EDIT<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.edit.state<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_EDITSTATE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>core.edit.own<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JACTION_EDITOWN<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>access</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-887ce564d59a60e62da6554aa4e91cd7\">src/administrator/components/com_foos/sql/updates/mysql/10.0.0.sql</a></h4>\n<p>Die Berechtigungen bestehen permanent und werden in der Datenbank gespeichert. </p>\n<p>Bei einem Update sind ausschließlich die Änderungen relevant. Diese tragen wir in diese Datei diese ein. Bei einer neuen Installation wird die Datenbank über die Hauptdatei <code class=\"language-text\">administrator/components/com_foos/sql/install.mysql.utf8.sql</code> gleich korrekt eingerichtet.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/sql/updates/mysql/10.0.0.sql\">src/administrator/components/com_foos/sql/updates/mysql/10.0.0.sql</a></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token comment\">#__foos_details` ADD COLUMN  `access` int(10) unsigned NOT NULL DEFAULT 0 AFTER `alias`;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token comment\">#__foos_details` ADD KEY `idx_access` (`access`);</span></code></pre></div>\n<h3>Geänderte Dateien</h3>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-9be56d6cedb2c832265e47642f0afb25\">src/administrator/components/com_foos/config.xml</a></h4>\n<p>Die Berechtigungen für die gesamte Komponente stellen wir in der Konfiguration ein. Hierfür legen wir ein Feld an.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/config.xml\">src/administrator/components/com_foos/config.xml</a></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fieldset</span>\n\t\t<span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>permissions<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JCONFIG_PERMISSIONS_LABEL<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">description</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JCONFIG_PERMISSIONS_DESC<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>field</span>\n\t\t\t<span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rules<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rules<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JCONFIG_PERMISSIONS_LABEL<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">validate</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rules<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">filter</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rules<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>com_foos<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">section</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token punctuation\">/></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fieldset</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-1ff20be1dacde6c4c8e68e90161e0578\">src/administrator/components/com_foos/foos.xml</a></h4>\n<p>Damit bei der Installation alles glatt läuft, ergänzen wir die hier neu hinzukommenden Dateien.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/foos.xml\">https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/foos.xml</a></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">...\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>update</span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- Runs on update --></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>schemas</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>schemapath</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>mysql<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>sql/updates/mysql<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>schemapath</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>schemas</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>update</span><span class=\"token punctuation\">></span></span>\n...\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>files</span> <span class=\"token attr-name\">folder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>components/com_foos<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filename</span><span class=\"token punctuation\">></span></span>access.xml<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filename</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-262e27353fbe755d3813ea2df19cd0ed\">src/administrator/components/com_foos/forms/foo.xml</a></h4>\n<p>Das Formular zum Erstellen eines neuen Foo-Items wird um die Möglichkeit erweitert, Berechtigungen für ein einzelnes Element zu setzten.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/forms/foo.xml\">src/administrator/components/com_foos/forms/foo.xml</a></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>field</span>\n\t\t<span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>access<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>accesslevel<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>JFIELD_ACCESS_LABEL<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token punctuation\">/></span></span>\n...</code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-896f245bc8e493f91277fd33913ef974\">src/administrator/components/com_foos/sql/install.mysql.utf8.sql</a></h4>\n<p>Das SQL-Skript für die Installation wird ebenfalls um die notwendigen Felder erweitert. </p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/sql/install.mysql.utf8.sql\">src/administrator/components/com_foos/sql/install.mysql.utf8.sql</a></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token comment\">#__foos_details` ADD COLUMN  `access` int(10) unsigned NOT NULL DEFAULT 0 AFTER `alias`;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token comment\">#__foos_details` ADD KEY `idx_access` (`access`);</span></code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-2daf62ad6c51630353e31eaa3cc28626\">src/administrator/components/com_foos/src/Model/FoosModel.php</a></h4>\n<p>Wenn du mit SQL bisher nicht vertraut bist, dann wird die Datenbankabfrage für dich komplex. Es ist jetzt erforderlich, Daten aus zwei Datenbanktabellen zu kombinieren. Die Tabelle, die die Berechtigungen von <code class=\"language-text\">com_user</code> verwaltet <code class=\"language-text\">#__viewlevels</code>, und die unsere Beispielkomponenete.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/src/Model/FoosModel.php\">src/administrator/components/com_foos/src/Model/FoosModel.php</a></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$db</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">quoteName</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'ag.title'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'access_level'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>\n\t\t\t\t<span class=\"token single-quoted-string string\">'LEFT'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token variable\">$db</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">quoteName</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'#__viewlevels'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'ag'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">' ON '</span> <span class=\"token punctuation\">.</span> <span class=\"token variable\">$db</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">quoteName</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'ag.id'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">' = '</span> <span class=\"token punctuation\">.</span> <span class=\"token variable\">$db</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">quoteName</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'a.access'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<blockquote>\n<p>Zur Erinnerung: Joomla unterstützt dich beim Erstellen der Datenbankabfragen. Wenn du die <a href=\"https://docs.joomla.org/Accessing_the_database_using_JDatabase/de\">zur Verfügung stehenden Anweisungen</a> nutzt, dann kümmert sich Joomla für dich um Sicherheit oder unterschiedliche Syntax in PostgreSQL und MySQL.</p>\n</blockquote>\n<p>(<a href=\"https://docs.joomla.org/Accessing_the_database_using_JDatabase/de\">https://docs.joomla.org/Accessing_the_database_using_JDatabase/de</a>)</p>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-8e3d37bbd99544f976bf8fd323eb5250\">src/administrator/components/com_foos/src/View/Foos/HtmlView.php</a></h4>\n<p>Eine Schaltfläche zum Erstellen eines Elementes ist nur sinnvoll, wenn dies erlaubt ist. Deshalb ändern wir die View ab.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/src/View/Foos/HtmlView.php\">src/administrator/components/com_foos/src/View/Foos/HtmlView.php</a></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n  <span class=\"token variable\">$canDo</span> <span class=\"token operator\">=</span> ContentHelper<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">getActions</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'com_foos'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$canDo</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'core.create'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token variable\">$toolbar</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addNew</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'foo.add'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-1637778e5f7d1d56dd1751af1970f01b\">src/administrator/components/com_foos/tmpl/foo/edit.php</a></h4>\n<p>Der Eintrag <code class=\"language-text\">&lt;?php echo $this-&gt;getForm()-&gt;renderField(‚access‘);</code> ist notwendig, damit das Feld im Formular aufgenommen wird, welches wir in er XML Datei schon konfiguriert haben. Nur so ist es möglich, die Berechtigungen pro Element zu verändern.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/tmpl/foo/edit.php\">src/administrator/components/com_foos/tmpl/foo/edit.php</a></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">...\n\t<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">renderField</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'access'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n...</code></pre></div>\n<h4><a href=\"https://github.com/astridx/boilerplate/compare/t9...t10#diff-3186af99ea4e3321b497b86fcd1cd757\">src/administrator/components/com_foos/tmpl/foos/default.php</a></h4>\n<p>Last but not least nehmen wir für die Anzeige der Berechtigung eine Spalte in der Übersicht auf.</p>\n<p><a href=\"https://github.com/astridx/boilerplate/blob/4efa6681475e12a48143acc126358a0f36fd8452/src/administrator/components/com_foos/tmpl/foos/default.php\">src/administrator/components/com_foos/tmpl/foos/default.php</a></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">...\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>col<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>10%</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>d-none d-md-table-cell<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token constant\">TEXT</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">_</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'JGRID_HEADING_ACCESS'</span><span class=\"token punctuation\">)</span> <span class=\"token delimiter important\">?></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n...\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>small d-none d-md-table-cell<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  \t<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$item</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">access_level</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<h2>Teste deine Joomla-Komponente</h2>\n<ol>\n<li>Installiere deine Komponente in Joomla! Version 4, um sie zu testen:</li>\n</ol>\n<p>Kopiere die Dateien im <code class=\"language-text\">administrator</code> Ordner in den <code class=\"language-text\">administrator</code> Ordner deiner Joomla! 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">components</code> Ordner in den <code class=\"language-text\">components</code> Ordner deiner Joomla! 4 Installation.<br>\nKopiere die Dateien im <code class=\"language-text\">media</code> Ordner in den <code class=\"language-text\">media</code> Ordner deiner Joomla! 4 Installation.</p>\n<p>Installiere deine Komponenten wie in Teil eins beschrieben, nachdem du alle Dateien kopiert hast. Joomla! aktualisiert bei der Installation die Datenbank für dich.</p>\n<ol start=\"2\">\n<li>Erstelle in deiner Komponente ein neues Item. Überzeuge dich davon, dass dir ein Auswahlfeld für das Speichern einer Berechtigung angeboten wird. Der Wert, den du hier eingibst, wird mit dem Element gespeichert und ist bei der Anzeige in einer Liste abfragbar.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e68cfa9f1ac2fd640499c7d96c9e45a4/53ac9/j4x12x1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.46625766871166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABJklEQVQoz42Qy07DMBBF/WGowL5BbBFSK7bwv0iVQgsUiUcetmM7ieOml3GT0Li0UhfH4zueuRoPm9494vr2AZc3845ovr8fMKE3X+uZTGe4ima4oBjdP+3ePGwRrxATz4sY8eody7cPvLyuT7LsCXJ9j88zqS3qZovKtqhqB+dabAG0dLTt+WyowTqA/fAKuWrAiVSWSHKJJJPg0kCZGoUmxtEcaIpdXYVM1mSYl5BmA0FkaYGvhEOqErqsCXsWprJIuUFWWDA/mdAOcv0N8Zkh1w38GqT2+TH2iO7wtSlN53/KhHEQ5CxyA1G2O/P/0EpGmiu3W5Hoh/F6qGN/Tf7bujlqFuZ7rYboAs3CwmNm7rSZ3psNE7OTZiqcjKtwp1yFZoPhLwsK2lnX/dakAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla! Konfiguration\"\n        title=\"Joomla! Konfiguration\"\n        src=\"/static/e68cfa9f1ac2fd640499c7d96c9e45a4/a6d36/j4x12x1.png\"\n        srcset=\"/static/e68cfa9f1ac2fd640499c7d96c9e45a4/222b7/j4x12x1.png 163w,\n/static/e68cfa9f1ac2fd640499c7d96c9e45a4/ff46a/j4x12x1.png 325w,\n/static/e68cfa9f1ac2fd640499c7d96c9e45a4/a6d36/j4x12x1.png 650w,\n/static/e68cfa9f1ac2fd640499c7d96c9e45a4/e548f/j4x12x1.png 975w,\n/static/e68cfa9f1ac2fd640499c7d96c9e45a4/53ac9/j4x12x1.png 1287w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol start=\"3\">\n<li>Zur besseren Übersicht wird der Wert in der Hauptansicht angezeigt.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/52a6a358a63db7bd5d877392fd3f9fad/53ac9/j4x12x2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.46625766871166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz5VR20rDQBDNR4kgggVrQanWqiBWrXcQKwUffPPJL/ELxAc/wV8QUTFtqkUL1aRNk+xms7vHSWLEt8aBk2XPzJw9MzEK1SNMztcxUdrCdHkHi7UGyrUTFFcOMLO0i0LlD+g+W91HcfUQG9unWN5soFpvYmH9GGt7Z5gj3qhc3KJ0foOp5jUur+5gdSw8mx20O12Y7TeY1lt6ZqB7KwblY5hWF/ePLTw8vSQ5w3YDDH0BP9R0hggjDUGQCrlDaSCSmnoBg3OWkIwFeO99YuBxBFxQUlKRhFJqLLTWVKtguyEMzw8SgjGOXt/BKBAQIkpfpqfjXB5IEhx4EQzGw6RZCAFn6MMlh2EofgRVLjEgFtQkKGBIGislSZT2Zo94Mm7M/U+QHI5IMCHTJYL3bQy/XEQ0fhx5x43j12HWSB9wj2Hw+gHmOOQyglbZr9ZjQIK079RhJhibpJmdQGHEJbwggs9kPiT1kgQjfAPxCeHp9ZXpEQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla! Konfiguration\"\n        title=\"Joomla! Konfiguration\"\n        src=\"/static/52a6a358a63db7bd5d877392fd3f9fad/a6d36/j4x12x2.png\"\n        srcset=\"/static/52a6a358a63db7bd5d877392fd3f9fad/222b7/j4x12x2.png 163w,\n/static/52a6a358a63db7bd5d877392fd3f9fad/ff46a/j4x12x2.png 325w,\n/static/52a6a358a63db7bd5d877392fd3f9fad/a6d36/j4x12x2.png 650w,\n/static/52a6a358a63db7bd5d877392fd3f9fad/e548f/j4x12x2.png 975w,\n/static/52a6a358a63db7bd5d877392fd3f9fad/53ac9/j4x12x2.png 1287w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol start=\"4\">\n<li>Öffne die Optionen. Hier hast du die Möglichkeit, die Berechtigungen für die Nutzung der Komponente selbst zu setzten.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a5f9e79dc66b872c4d62b60b115d01eb/53ac9/j4x12x3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.46625766871166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz2WSy2oUURCG+6HERRYG4oUQcBIjSCBMjBpQ0IALXYngk2TlVlz4Bq5diEzUuXR3ZiZx4mRm+n7u3b9VJ4lIPPBTnOo+Vd9f5wTLG3u4vtrGtTvbWFrbwdrWM6+VjUdYbu163Wg9pEi6u4OVe49xc3MPW+0XWN9+jvX2PlYfPMX93Ze4tfkEQevNJ9x+9RFL+x/w7uAzwjjCj36Mw24fne89/OyFGAwidEnh6ARxNEQ8PMbR+BfiEUXK9cIhun36fjRCsMgFssqg0g1FDaktrKtRN4AyNQrhMMstZvMSejKFTgrKN/8IELpGpRzoKAKlJHgpKXByOkNeSuR5ASkVKmmRU5N5ViErJLRQvslVaeP8v/NcIygrQTSNLzCZJigrhbwoUNc10VJXY5GmKYqypD05kPI/Gcob65AUBoFU2hNaa5EQCRPyYU9NBSui6vb6iKLYK4yivxoMQvRJ4/EYkrz7gs45NETISxM+E2p93oTnqUgJzTklyxk148gSUqOms45AamdhzAUhF7ssyAWYsCwrcIbzX7pTvD74irfvOzjLzhsZ1/iLMLaG5ctjUS7lgrg4eFmwFJpsCj9TwTZyicPoDMczeg0FkWYFOTBI+XUIivR0Tr91kE1+I63cVULnCeeLhbfNex62Vorbki1DVhV4TEJID2Bo3iZZQNHlJqXFHwji1UBd15F8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Joomla! Konfiguration\"\n        title=\"Joomla! Konfiguration\"\n        src=\"/static/a5f9e79dc66b872c4d62b60b115d01eb/a6d36/j4x12x3.png\"\n        srcset=\"/static/a5f9e79dc66b872c4d62b60b115d01eb/222b7/j4x12x3.png 163w,\n/static/a5f9e79dc66b872c4d62b60b115d01eb/ff46a/j4x12x3.png 325w,\n/static/a5f9e79dc66b872c4d62b60b115d01eb/a6d36/j4x12x3.png 650w,\n/static/a5f9e79dc66b872c4d62b60b115d01eb/e548f/j4x12x3.png 975w,\n/static/a5f9e79dc66b872c4d62b60b115d01eb/53ac9/j4x12x3.png 1287w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Spiele mit den Einstellungen herum. Erlaube einmal nur dem Super Admin, neue Elemente in deiner Erweiterung zu erstellen. Melde dich dann als Administrator an und sieh, dass die Schaltfläche <code class=\"language-text\">New</code> verschwunden ist.</p>\n<h2>Geänderte Dateien</h2>\n<h3>Übersicht</h3>","excerpt":"Dein Ziel ist es, dass nicht jeder das Recht hat, alles zu bearbeiten. Dazu bietet Joomla! eine Zugriffskontrollliste, die ACL. Mit dieser…","fields":{"slug":"/joomla-acl/"},"frontmatter":{"title":"ACL","date":"12.12.2019","tags":["CMS","Joomla"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACZ0lEQVQ4y2P4T2XAAGP8+/cPjAmx0cWQxTEMhNF//vwB479//2I1FJ88A7JzkW2CgV+/foE1gvDv37/hhsAAOh/Dhd9//PhfUVX7Pz0z5/+nT5+whlPfhEn/w6Ni/1+7fgNuKIYLQbaDwIqVq/+zcPL+FxCV/B8SHvW/q6fv/3Wgxnfv3v+fMGnK/8KSsv/S8sr/WTh4/0fFJoD1gLyPYeCfPxCnX7x0+b+uocl/JTWt/5Kyiv/FpOT+B4VG/Lexd/7PLyLxX0xaHiwHMnTy1Om4DUR25br1G/5z8Aj+37Jt+/8zZ8/+19IzAhu+fsOm/9dv3PwvJCb1v6q2HsO7GGEIsgkEjh47/p+dW+D/tBmz/nv7BYFdFBOf9F/f2Oz/8pWr/osDXTl7zjwUR2C4EBb1MImM7Nz/gsBwBBl45erV/x8/fvpvaevwX0JG8X96Vu7/j9AIQ0+TWBP2x48fgQbm/Te1sAEbumnzVnDYevsH/dfUNQC61Pz/gwcPUbyMNwwPHTn6n4md+//O3Xv+F5dW/Hd29wJ728Pb7//5CxfBkQOLEFA6xellWCJt7ej6zyMoCk4mO3bu+i+npPZfWV37//yFi/6vBUYYKAwjouPg6RQ5cSOlQ0iEgLwnICL5X11LD2woMwfPf9/AkP91jc3/eYF8UOyDDAepSUnPwpcOIQbu2bcfnCxAGto7u/8fO37i//fv38Eajp84+X/Dxs3/tfWNwQm7vLIat4HIAQsyFORSXPn8wsVL/5cuWwG2CGdpg00jrECAWQZyCSzisJVSeIsvUJiil38wPsxgbOUjA81KbGoBAOxFbQm0w5BOAAAAAElFTkSuQmCC","width":80,"height":80,"src":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png","srcSet":"/static/93f776b5f583bfa08ca575230009d942/829e2/joomla.png 1x"}}}}}},"pageContext":{"slug":"/joomla-acl/","previous":{"id":"15ae2246-b6d5-5984-a85c-a89ea9d051db","frontmatter":{"title":"Konfiguration","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/joomla-konfiguration/"}},"next":{"id":"bf4ee4cc-33b6-5526-b458-543b40ec758f","frontmatter":{"title":"Serverseiteige Validierung","tags":["CMS","Joomla"],"template":"post"},"fields":{"slug":"/joomla-serverseiteige-validierung/"}}}}}