{"componentChunkName":"component---src-templates-post-js","path":"/esri-leaflet/","result":{"data":{"markdownRemark":{"html":"<p>Wenn Sie intensiver mit digitalen Landkarten arbeiten,\nmöchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf\nIhrer Karte anzeigen.</p>\n<blockquote>\n<p>Ein <a href=\"https://de.wikipedia.org/w/index.php?title=Geoinformationssystem&#x26;oldid=183596912\">Geoinformationssystem</a><sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>\nist ein Informationssystem zur Erfassung, Bearbeitung, Organisation,\nAnalyse und Präsentation von Daten, die einen Bezug zu einer Stelle\nauf unserer Erde haben. Zu einem Geoinformationssystem gehören dabei\ndie notwendige Hardware, die notwendige Software, die Daten und die\nAnwendungen selbst.</p>\n</blockquote>\n<p>Wenn Sie Daten eines Geoinformationssystems nutzen möchten,\nwerden Sie früher oder später über den Begriff\n<a href=\"https://de.wikipedia.org/w/index.php?title=Shapefile&#x26;oldid=183295349\">Shapefile</a><sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>\noder Shape Datei stolpern.\nAber auch wenn Sie nie auf den Begriff\nShape Datei\nstoßen werden Sie vielleicht einmal einen Webservice nutzen,\nder Endpunkt eines ARCServers ist.\nAußerdem werden Sie sicher auch das\n<a href=\"https://de.wikipedia.org/w/index.php?title=ESRI&#x26;oldid=182723856\">ESRI Inc (Environmental Systems Research Institute)</a><sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup>\nkennenlernen.\nDieses Institut ist ein US-amerikanischer Softwarehersteller.\nDas ESRI hat sich auf Geoinformationssysteme spezialisiert.\nDas Unternehmen hat unter anderem die Anwendung\n<a href=\"https://de.wikipedia.org/w/index.php?title=ArcGIS&#x26;oldid=183028892\">ArcGIS</a><sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>\nerstellt und das Dateiformat Shapefiles eingeführt.</p>\n<blockquote>\n<p>Die wesentlichen Produkte des ESRI sind\nGeoinformationssysteme. Die Namen der verschiedenen\nGeoinformationssysteme des ESRI enthalten in der Regel den Namensteil\nArcGIS. Es gibt ArcGIS Anwendungen für Server und für Clients.</p>\n</blockquote>\n<p>Bitte lassen Sie sich durch die vielen neuen Begriffe nicht verunsichern.\nNatürlich gibt es Leaflet Plugins, die Ihnen beim Integrieren dieser Services zur\nHand geht. Außerdem sehen wir uns alles Schritt für Schritt und nacheinander an.</p>\n<h2>In diesem Kapitel werden wir …</h2>\n<p>In diesem Teil werden wir uns als erstes die Karten,\ndie das ESRI anbietet, ansehen.\nDanach schauen wir, was sich hinter dem Begriff Shapefile versteckt.\nAußerdem werden wir ESRI Webservices kennen lernen.\nUnter anderem einen <code class=\"language-text\">L.esri.DynamicMapLayer</code>, Geocoding und\neinen <code class=\"language-text\">L.esri.FeatureLayer</code> – hier konkret einen <code class=\"language-text\">Query Layer</code>.\nMit letztgenanntem können Sie Daten, die Sie nicht benötigen,\neinfach aus der gegebenen Datenmenge herausfiltern. Das kann bei großen Datenmenge\npraktisch sein.</p>\n<h2>L.esri.BasemapLayer erweitert L.TileLayer</h2>\n<p>Mit der Klasse <code class=\"language-text\">L.esri.BasemapLayer</code> können Sie Karten,\ndie das Esri anbietet, auf Ihrer Website als Leaflet Karte anzeigen.</p>\n<blockquote>\n<p>Die <a href=\"https://github.com/esri/esri-leaflet#terms\">Nutzungsbedingungen</a>\nfür ESRI Dienste gelten für Leaflet Anwendungen. Diese können Sie\nauf der Website <a href=\"https://github.com/esri/esri-leaflet#terms\">https://github.com/esri/esri-leaflet#terms</a>\nnachlesen.</p>\n</blockquote>\n<h3>Basemaps und optionale Layer von ESRI</h3>\n<p><a href=\"#\"></a>{#EnvironmentalSystemsResearchInstituteBasemaps}\nSie möchten Basemaps von ESRI verwenden.\nWir haben im Kapitel <a href=\"#EineKarteMitLeafletErstellenSchoeneKartenlayer\">Schöne Kartenlayer</a> schon Karten von anderen Kartenanbietern\neingebunden.\nDieses Kapitel erweitert die Erklärungen im Kapitel\n<a href=\"#EineKarteMitLeafletErstellenSchoeneKartenlayer\">Schöne Kartenlayer</a> um\nein weiteres Beispiel – nämlich die Karten des\nESRI Instituts.</p>\n<h4>Basemaps</h4>\n<p>Basemaps von ESRI bieten eine weltweite Abdeckung bei einer Vielzahl von Zoom Stufen.\nDabei können die folgenden Themenbereiche wählen.</p>\n<ul>\n<li>Streets</li>\n<li>Topographic</li>\n<li>NationalGeographic</li>\n<li>Oceans</li>\n<li>Gray</li>\n<li>DarkGray</li>\n<li>Imagery</li>\n<li>ShadedRelief</li>\n<li>Terrain</li>\n<li>USATopo (Diese Karte wird nur für die USA angeboten)</li>\n</ul>\n<p>Wenn Ihnen eine der Basiskarten grundsätzlich gut gefällt,\ndiese Ihnen aber zu wenig Informationen bietet, können Sie weitere optionale\nEbenen über diese Basisebene einblenden.\nESRI bietet speziell für jede Basisebene eine optionale Ebene\nmit weiteren Informationen.</p>\n<h4>Optionale Label Layer</h4>\n<p>Label Layer sind optionale Ebenen,\ndie zusätzliche Textbeschriftungen zu den Basiskarten hinzufügen.\nESRI bietet Ihnen sieben verschiedene optionale Schichten.\nJede Ebene ist speziell für eine Basiskarte kreiert worden. Wenn Sie möchten, können Sie diese aber auch quer Beet kombinieren. Konkret bietet ESRI die Layer</p>\n<ul>\n<li>OceansLabels:</li>\n<li>GrayLabels:</li>\n<li>DarkGrayLabels:</li>\n<li>ImageryLabels:</li>\n<li>ImageryTransportation:</li>\n<li>ShadedReliefLabels</li>\n<li>TerrainLabels</li>\n</ul>\n<p>Alle möglichen Basiskarten mit optionalen Ebenen können Sie auch in der\nDokumentation des Leaflet Plugins nachlesen.\nGenau finden Sie diese Informationen unter der Adresse\n<a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/basemap-layer.html\">https://esri.github.io/esri-leaflet</a><sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup>.</p>\n<blockquote>\n<p>Wenn Sie möchten, können Sie die Anzeige von\nBasemaps bei höheren Auflösungen auf Retina-Geräten mit der Option\n<code class=\"language-text\">detectRetina</code> optimal einstellen. Im nachfolgenden Programmcodeausschnitt wird die\nBasemap auf einem Retina Display in Retina-Auflösungen ausgegeben.\nWas ein Retina Display ist, habe ich Ihnen im Kapitel\n<a href=\"#RetinaDisplay\">Custom Markers</a> in einem Hinweis erklärt.\nDie <a href=\"http://leafletjs.com/reference-1.2.0.html#tilelayer-detectretina\">Option <code class=\"language-text\">detectRetina</code></a><sup id=\"fnref-6\"><a href=\"#fn-6\" class=\"footnote-ref\">6</a></sup>\nist eine Leaflet Funktion.</p>\n</blockquote>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">L.esri.basemapLayer(&#39;DarkGray&#39;, {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">detectRetina: true</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}).addTo(map);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">...</span></span></code></pre>\n<p>Wenn Sie die Option <code class=\"language-text\">detectRetina</code> mit <code class=\"language-text\">true</code> belegt haben und\nein Website-Besucher Ihre Karte auf einem Geräte mit einem Retina-Display öffnet,\nwird Leaflet anstelle der Bilddateien zur aktuellen Zoom-Stufe\ndie vierfache Anzahl der Bildkacheln der nächsthöheren Zoom-Stufe anfordern\nund anzeigen. Wie die Bilddateien für eine Zoom-Stufe berechnet werden,\nkönnen Sie im Kapitel <a href=\"#EineKarteMitLeafletErstellenWieweissLeafletWelcheKartenangezeigtwerdensollen\">Wie weiß Leaflet welche Kacheln angezeigt werden sollen</a>\nnachlesen.</p>\n<h3>Ein erstes Beispiel</h3>\n<p>Das nachfolgende Beispiel zeigt Ihnen, wie Sie eine ESRI Basiskarte\nin Leaflet anzeigen können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet-debug.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 7);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var gray = L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var graylabels = L.esri.basemapLayer(&#39;GrayLabels&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*gray.setOpacity(0.5);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*gray.on(&#39;load&#39;, alertme);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function alertme(){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*alert(&quot;Fertig!&quot;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_945.html--&gt;</span></span></code></pre>\n<p>Was haben wir gemacht?\nFangen wir mit dem Wichtigen an:\nWichtig ist, dass wir das Skript zum ESRI Leaflet Plugin einbinden.\nIch habe dies mit der Zeile <code class=\"language-text\">&lt;script src=&quot;esri-leaflet-debug.js&quot;&gt;&lt;/script&gt;</code> getan.\nIm Echtsystem können Sie die komprimierte Version verwenden,\nalso <code class=\"language-text\">&lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</code>.\nDie aktuellste Version dieses Skripts können Sie von der\nAdresse <a href=\"http://esri.github.io/esri-leaflet/download/\">http://esri.github.io/esri-leaflet/download</a>\nkopieren. Nach dem Einbinden des Plugins haben wir mit der\nZeile <code class=\"language-text\">var gray = L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</code> das\n<code class=\"language-text\">L.esri.basemapLayer</code> Objekt erstellt und es auch sofort zur Karte hinzugefügt.\nZusätzlich haben wir die Karte mit <code class=\"language-text\">gray.setOpacity(0.5);</code> transparent\ndargestellt und dem Ereignis <code class=\"language-text\">on(&#39;load&#39;)</code> die Funktion <code class=\"language-text\">alertme()</code> zugeordnet.\nImmer dann, wenn die Karte fertig geladen ist, soll die Funktion <code class=\"language-text\">alertme()</code>\nausgeführt werden.\nGenau bedeutet das, dass immer, wenn die Karte fertig geladen ist,\nein Hinweisfenster erscheint. Verschieben Sie die Karte einmal.\nDabei werden Sie sehen, dass das Ereignis <code class=\"language-text\">on(&#39;load&#39;)</code> auch immer dann,\nwenn die Karte erschoben wird, eintritt.</p>\n<p>Die beiden nachfolgenden Abbildungen zeigen Ihnen die Basiskarte mit dem Namen\ngray – einmal mit und einmal ohne optionale Ebene.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0a9fa2082d13d1b9ba7ce0af597af7c9/46115/943.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABJklEQVQoz12Sa3LDIAyEuf/x6jiJXWwDfvsSNJ/SZRj/2EEIabWScNd15XVd8zhMue98/u2/SGnOMcS8bZvhOA7DeZ4WvyyLAd++78V2BA/DkJ/tO7ePl+HRPLP/+EIIOcZowCYOG0L5dJ/n2UgdzuanLYRN01rgOI5GQCBJ0zQVG6SUTBk2foQZ4X7s2fuvQlqFiGQlgq7r7CRJ6tSylEIK3DQFI5PkWoWUkYAiKRExPhFj05F7v3oj1BwEiPDVqkiS705czTCWFupZeO/trna0vDuBNq5ijlVzuVdUEiRA86rbrGcpciNUuyIe/r8MtohVhDdtGBKWyLuUOj7qvYUYU7EVTIG7Sny8QV4IVUnfQktR+1oCSqQ6MNtP0fGzOH123jn/AKJJIcBB3VMsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Die Basiskarte Gray mit optionale Ebene\"\n        title=\"Die Basiskarte Gray mit optionale Ebene\"\n        src=\"/static/0a9fa2082d13d1b9ba7ce0af597af7c9/f058b/943.png\"\n        srcset=\"/static/0a9fa2082d13d1b9ba7ce0af597af7c9/c26ae/943.png 158w,\n/static/0a9fa2082d13d1b9ba7ce0af597af7c9/6bdcf/943.png 315w,\n/static/0a9fa2082d13d1b9ba7ce0af597af7c9/f058b/943.png 630w,\n/static/0a9fa2082d13d1b9ba7ce0af597af7c9/40601/943.png 945w,\n/static/0a9fa2082d13d1b9ba7ce0af597af7c9/78612/943.png 1260w,\n/static/0a9fa2082d13d1b9ba7ce0af597af7c9/46115/943.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Die Basiskarte Gray mit optionale Ebene.</em></p>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f2f6c89cf107a87c2b5cb90e505c5604/46115/944.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAA3ElEQVQoz5VTWxKDIAzk/terilIUeSl4iZSkA0N9TPVjJxkgS3YJbNs2CDHCNCoQg4S3GBMkWGPBOw8x7a3rCiGEC0SK+QzDRGsNXdtD23BoXh0MvQDnHHjvKdbAtYx6LecMWXsuiAzB+fBTWBcsy3Ig2oOhJClH6pCkWnvo7KzwCkxNM5GRZ7vNp4QkGeV2LT+Q5E7vEpUO9WzSo5jiz57YGHNKUp+v/U0eBnDeXd78T3ZNjDm98p3CO16WsTkbkSvCr7xvNzWKhzjYT8YCoa2DOXmrEelTIJRSFD8YzybJfkUTXQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Die Basiskarte Gray ohne optionale Ebene\"\n        title=\"Die Basiskarte Gray ohne optionale Ebene\"\n        src=\"/static/f2f6c89cf107a87c2b5cb90e505c5604/f058b/944.png\"\n        srcset=\"/static/f2f6c89cf107a87c2b5cb90e505c5604/c26ae/944.png 158w,\n/static/f2f6c89cf107a87c2b5cb90e505c5604/6bdcf/944.png 315w,\n/static/f2f6c89cf107a87c2b5cb90e505c5604/f058b/944.png 630w,\n/static/f2f6c89cf107a87c2b5cb90e505c5604/40601/944.png 945w,\n/static/f2f6c89cf107a87c2b5cb90e505c5604/78612/944.png 1260w,\n/static/f2f6c89cf107a87c2b5cb90e505c5604/46115/944.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Die Basiskarte Gray ohne optionale Ebene.</em></p>\n<h3>Unterschiedliche Basemaps auswählen</h3>\n<p>Im nächsten Beispiel habe ich im HTML-Dokument eine Auswahllist\nüber der Karte eingefügt.\nSo können Sie zwischen den verschiedenen ESRI Karten schnell hin und her\nwechseln und sich so einen Überblick über das Kartenangebot verschaffen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet-debug.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;select</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*style =&quot;position: absolute;top: 10px;right:10px;z-index: 400;&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*id=&quot;basemaps&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*onChange=&quot;changeBasemap(basemaps)&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Topographic&quot;&gt;Topographic&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Streets&quot;&gt;Streets&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;NationalGeographic&quot;&gt;National Geographic&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Oceans&quot;&gt;Oceans&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Gray&quot;&gt;Gray&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;DarkGray&quot;&gt;Dark Gray&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Imagery&quot;&gt;Imagery&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;ShadedRelief&quot;&gt;Shaded Relief&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;Terrain&quot;&gt;Terrain&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;USATopo&quot;&gt;USATopo\t&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/select&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 7);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var layer = L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function changeBasemap(basemaps){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var basemap = basemaps.value;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*if (layer) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.removeLayer(layer);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*layer = L.esri.basemapLayer(basemap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.addLayer(layer);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_944.html--&gt;</span></span></code></pre>\n<p>Was haben wir genau gemacht?\nHier gibt es nichts weltbewegend Neues.\nEine Auswahlliste haben wir schon oft im Buch verwendet.\nWenn ein Website-Besucher den aktiven Listeneintrag der Auswahlliste ändert,\nwird die aktuelle Kartenebene mit <code class=\"language-text\">mymap.removeLayer(layer)</code> entfernt.\nDanach wird eine neue Ebene mit der gewünschten Option erstellt –\n<code class=\"language-text\">layer = L.esri.basemapLayer(basemap)</code> – und diese wird dann zum Kartenobjekt hinzugefügt\n<code class=\"language-text\">mymap.addLayer(layer)</code>.</p>\n<p>Im Ergebnis können Sie sich mithilfe der Auswahlliste alle ESRI Karten ansehen.\nOder Sie können es einem Website-Besucher ermöglichen die Karte,\ndie dieser am schönsten findet, für seine Ansicht zu aktivieren.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/adc989a888b0f17e25bcedcc2b18d7cf/46115/942.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACtUlEQVQozx2SS2/jZBiFs2aBQIgFEhuExA6Jm0ZAO4PaRElT59I6cW527Ph+iZ3EidOkTdOSMjPMD2CPBBILhBAC8fseXrKwZPl7/X7nPOeU/vjzZ+72Y8pWwafaA1/0d3zWe2Q4DZmkI9Z3No+PIcXWYrmdkN+6bB8SXr6a8fQy5c2bnF9+/Yl//v2dv/7+jdLdk4MyLPPeqc87JwFvfR3xccVE9yqM3XO8oEaYKBj+xfExwyazQmdeGOzvHG7k3ZVvulnhqn9CKSlMPqpYvPs85e3TKR+WA0aTFotFg81K5Xat4UUNzLiFnbQxfYVkrsmSNot8yI9PKcVmwjTTsDyFUnFv8lWrzwdnCZ+3bexYY5a1CcMa06jObqvjT1W08RnX/VMMu4YbtbjZmhwExf7e5+ExYndvy8I6paqz4P0XLprTJpsrFOsOy1WXvNCIZyp21CRdDBhOKvTM70RZg2DaxA4ULEchzmR2rWN4F4y9KqVPrg6y0MP6X5Eoi9I2flKXwRYj4VjvPmNglTGcGpZ/STS9Fts10tk1ff0cy1Xo6mf0x+fyv0qpm2y4HDbkoEq+6BNlMihKlM6XqKNvMeVWbVyWC655/X10hO/5DW5vDObC0hamofANAxFgVCgdfvBwwgq+cPElLTtUjsAtT9KN62SzDkO7ihNcctgH5PmAlSRbSMpxfIUbNIRxk4l7IUsbEspucgQ9smpH+dlMI0jEliTmSGXmeY8o7wijKsv1mN3eFzxN1sWQ7doglXRd4XyhPqPV+UZ6eO+Qpipx0mHiNQgFcphqUp2qBHHOJKrRHpyIC+mi2I2lOlnelVppbG5MlsuBMG9KR2uoxgtKm51NIEFMZanrN/HFhhO26EkQrdFzbEnan3aZr3RWuc7hIeT1q4T5rUEmirPlkGiuiose653Lf0J90yVjmgfKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dieses Bild zeigt die ESRI Basiskarte Imagery.\"\n        title=\"Dieses Bild zeigt die ESRI Basiskarte Imagery.\"\n        src=\"/static/adc989a888b0f17e25bcedcc2b18d7cf/f058b/942.png\"\n        srcset=\"/static/adc989a888b0f17e25bcedcc2b18d7cf/c26ae/942.png 158w,\n/static/adc989a888b0f17e25bcedcc2b18d7cf/6bdcf/942.png 315w,\n/static/adc989a888b0f17e25bcedcc2b18d7cf/f058b/942.png 630w,\n/static/adc989a888b0f17e25bcedcc2b18d7cf/40601/942.png 945w,\n/static/adc989a888b0f17e25bcedcc2b18d7cf/78612/942.png 1260w,\n/static/adc989a888b0f17e25bcedcc2b18d7cf/46115/942.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Dieses Bild zeigt die ESRI Basiskarte Imagery.</em></p>\n<h2>Shapefiles</h2>\n<p>Das Dateiformat Shapefile wurde von der Firma ESRI für die Software ArcView entwickelt.\nShape Dateien sind speziell für die Verarbeitung von Geodaten entwickelt worden.</p>\n<h3>Was genau verbirgt sich hinter dem Begriff Shapefile</h3>\n<p>Ein <a href=\"https://de.wikipedia.org/w/index.php?title=Shapefile&#x26;oldid=183295349\">Shapefile</a><sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup> ist keine einzelne Datei.\nIn der Regel handelt es sich um mehrere Dateien,\ndie zu einem Zip-Archiv zusammengefasst sind.\nIn diesem Zip-Archiv müssen mindestens die drei nachfolgend genannten\nDateitypen vorhanden sein:</p>\n<ul>\n<li>Eine Datei mit der Endung <code class=\"language-text\">.shp</code> dient zur Speicherung der Geometriedaten.</li>\n<li>Eine Datei mit der Endung <code class=\"language-text\">.dbf</code> enthält Attribute oder Eigenschaften.</li>\n<li>Eine Datei mit der Endung <code class=\"language-text\">.shx</code> dient als eine Art Index. Mithilfe dieser Datei sind die Geometriedaten in der Datei <code class=\"language-text\">.shp</code> mit den Eigenschaften in der <code class=\"language-text\">.dbf</code>-Datei verknüpft.</li>\n</ul>\n<blockquote>\n<p>Weitere Informationen zu Shapefiles und wie Sie diese selbst erstellen können,\nfinden Sie auf der Website\n<a href=\"http://desktop.arcgis.com/de/arcmap/10.3/manage-data/shapefiles/creating-a-new-shapefile.htm\">http://desktop.arcgis.com</a><sup id=\"fnref-7\"><a href=\"#fn-7\" class=\"footnote-ref\">7</a></sup>.</p>\n</blockquote>\n<h3>Wie kommen Sie an ein Shapefiles</h3>\n<p>Natürlich können Sie selbst ein Shapefile erstellen.\nDas ist aber gar nicht einfach und außerdem nicht Thema dieses Buches.\nEinfach ist es aber, an Shapefiles von anderen heranzukommen.\nInsbesondere Daten, die von öffentlichem Interesse sind,\nwerden oft zum Download als Shapefile angeboten.\nSuchen einfach einmal in einer Suchmaschine nach Websites, die\nden Text <em>Open Data</em> enthalten.</p>\n<p>Bei einer Suche nach <em>Open Data</em> in einer Suchmaschine im Internet habe ich\nunter anderem das Schienennetz der Deutschen Bahn als Shapefile gefunden:<br>\n<a href=\"http://data.deutschebahn.com/dataset/geo-strecke\">http://data.deutschebahn.com/dataset/geo-strecke</a>.\nHöchstwahrscheinlich interessieren Sie sich für Daten in der Nähe Ihres Wohnortes.\nDann geben Sie zum Suchbegriff <em>Open Data</em> einfach den Namen einer\nStadt in der Nähe Ihres Wohnortes ein.\nEine Suche nach <em>Open Data</em> in der Nähe von <em>Koblenz</em> hat mich zu einer Website\ndes Landesvermessungsamtes Koblenz geführt.\nDie Website\n<a href=\"https://lvermgeo.rlp.de/de/geodaten/opendata/\">https://lvermgeo.rlp.de/de/geodaten/opendata/</a>\ninformiert über das Angebot des Landesvermessungsamtes -\ninsbesondere über das Angebot an offenen Daten.\nEinige dieser Daten, zum Beispiel die Flurgrenzen, stehen als Shapefile zur Verfügung.</p>\n<p>Wenn Sie per Internetsuche keine passenden Daten finden, können Sie auf der\nWebsite von Openstreetmap, insbesondere auf der\nUnterseite <a href=\"https://wiki.openstreetmap.org/w/index.php?title=Shapefiles&#x26;oldid=1640971\">https://wiki.openstreetmap.org/wiki/Shapefiles</a><sup id=\"fnref-8\"><a href=\"#fn-8\" class=\"footnote-ref\">8</a></sup>\nnach weiteren Anbietern suchen.\nNeben weiteren Informationen zum Shapefile Format gibt es hier auch eine Liste mit\nAnbietern von Shapefiles.</p>\n<blockquote>\n<p>Es muss nicht an Ihnen liegen, wenn Sie bei der Arbeit mit Geodaten auf\neinen Fehler stoßen.\nInsbesondere dann nicht, wenn Sie Daten von anderen in Ihre Arbeit\neinbinden. Da das Shapefile Format kompliziert ist, ist es gut, dass\nes im Internet Websites gibt, auf denen man eine Shapefile Datei\ntesten kann. Eine dieser Websites ist\n<a href=\"http://leaflet.calvinmetcalf.com\">http://leaflet.calvinmetcalf.com</a><sup id=\"fnref-8\"><a href=\"#fn-8\" class=\"footnote-ref\">8</a></sup>.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78b2d4468523151139d234d528329d0b/46115/969.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACa0lEQVQoz12SzUsUYRjAJ7RbiogHvUSHwGuHDhH9BUZICEEEnTymW0ZF6C5Uhz5u4qFjGGirmMKIeSgi3PAirWGm6X6OO+rM7uzH7OzutB/ur/cdy0MvPAy87/v83t/zPKM8nlxBufWe3tEv9DwM0Xp9nFMtLSiKgn/kAR9m53h+f4TAkI8bV6/R1nbGO/sXPp+PZrNJJpMhl8uhfN874sLtSTou3ePslUe09d6k9e/ly0MvUENz9A+N0T/6iu6LfZxrb2d8YoLZmRn8fj+GYXigRqNxDESs1+MvT17sENHb2UnfnTECU7NYiTnWN1SsuMrHlXdsrYX5f0mY4zi4rouSyVhE4wmePH2G0nKa8909TL95S9lOYMTnsUyVUnaB4mEQp/BVpDepmmmqtRr5fJ5KpeIB5bcm9pR0Ou29EgwGPcOA7y52PsuhHmInvsSutoS2N4+2EST6S6V2VKaRFSVWq55RqVSiWCx6URV7SiwWIxwOMzAwwFggQGTtG8nENpHDTxi6SmxvgfTWDEkBNlOfhUkOVxjWBOxIDEMuORQJlqZKV1fX8bSGh71DYzfC7vYGqdQiZkSUaS9TMYNQ36Ti/kbXU2TjMRxhZIuQZdbrdc9WgpXBwUFUVfWUc4U8rm3jyKTiJnlLxbFE/7Rpik6IvJPDSGq4ok2uKM8Sv4rsoy1yJEwKK5qmeWblchm7UBAWLnUrS1XASzvzJH9O8SOxSFRfplwyKMSSHOzve/dl/+VvI6Gyf41GHcU0zZORS/2a0K9UXBwtTmZ7FT26SkZfxzETIIaRPjggbVmYApbSdc+uKPJl2WWR9weyMIvBC+2RkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Test eines Shapefiles mithilfe der Website [http://leaflet.calvinmetcalf.com](http://leaflet.calvinmetcalf.com).\"\n        title=\"Test eines Shapefiles mithilfe der Website [http://leaflet.calvinmetcalf.com](http://leaflet.calvinmetcalf.com).\"\n        src=\"/static/78b2d4468523151139d234d528329d0b/f058b/969.png\"\n        srcset=\"/static/78b2d4468523151139d234d528329d0b/c26ae/969.png 158w,\n/static/78b2d4468523151139d234d528329d0b/6bdcf/969.png 315w,\n/static/78b2d4468523151139d234d528329d0b/f058b/969.png 630w,\n/static/78b2d4468523151139d234d528329d0b/40601/969.png 945w,\n/static/78b2d4468523151139d234d528329d0b/78612/969.png 1260w,\n/static/78b2d4468523151139d234d528329d0b/46115/969.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Test eines Shapefiles mithilfe der Website <a href=\"http://leaflet.calvinmetcalf.com\">http://leaflet.calvinmetcalf.com</a>. Das getestet Shapefile `vg2500</em>geo84.zip` finden Sie in den Beispieldateien _</p>\n<h3>Wie binden Sie Shapefiles in Ihre Leaflet Karte ein?</h3>\n<h4>Deutsche Verwaltungsgrenzen als Shapefile in der Leaflet Karte</h4>\n<p>Die Shape Datei, die ich im nächsten Beispiel verwende, habe ich von der\nWebsite <a href=\"https://www.arcgis.com/home/item.html?id=ae25571c60d94ce5b7fcbf74e27c00e0\">https://www.arcgis.com</a><sup id=\"fnref-9\"><a href=\"#fn-9\" class=\"footnote-ref\">9</a></sup> kopiert.\nDie Firma ESRI bietet auf dieser Website mit ArcGIS ein Geoinformationssystem,\ndass die Verwendung, Erstellung und Freigabe von Geodaten einfach macht.\nIch habe mir den oben verlinkten Datensatz mit den Verwaltungsgrenzen\nvon Deutschland kopiert. Die Datei landet unter dem Namen <code class=\"language-text\">vg2500_geo84.zip</code>\nbei mir auf dem Computer.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c21127c3e2a7d5b5489e65cad59d5ae2/46115/970.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAByElEQVQoz2VQzUobURidZxBx0VW0fYCC2K66EQylS5+gL9AnqIRAot0ULQa0aZ/AdbspksQECUlIloKlQtuFGsTJJDNz/2buzPG7MxmJyYXDd+693z3fuceyXYYJExh7HGOfwyU+MZVLiEBDhhoijBKe7iP4QlE/A5MBPOpjUiXc3FsvP5/jRbmB559aWNs9Q67UwOpui9BMztdKdeTKTbqj/V5aTd+zYg3LO6dYKdQJNawUG1gibrX+3OH9yQXylTa2D2p4+62PfJXwtUvoYeuog61j4gmI09m77328qXSwvt/G68MuNr508Oqwh83qAJZy7uHb91DDG2jmQyqJUAloQhSqFIFCrIOE6zCAWT8vbXz4cYVy/T8+/vqLwuk/uJK+/LvTxdVggLvra8qOwZ54JKogJQlTfvMrnlZfSLiUpdIxZZdmHMUxLOf2Fs5wSI9DqCCgGiwIxNQ4i1RQwSUDnDEIwRHpdLjFyYlI3ISIoiiBpstZmDPMCJvlOA5s207emZ7szvI8F4oEzRcVfdVACPG4N1xPpz9x6PvgnC9EQoIeRqPRo5PMzUJ2U6GsmoFGcH6YZSYZ+3Lq0mA+s1mxjGfRzMfxAJvo1HxlZwK+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Download eines Shapefiles von der Adresse https://www.arcgis.com.\"\n        title=\"Download eines Shapefiles von der Adresse https://www.arcgis.com.\"\n        src=\"/static/c21127c3e2a7d5b5489e65cad59d5ae2/f058b/970.png\"\n        srcset=\"/static/c21127c3e2a7d5b5489e65cad59d5ae2/c26ae/970.png 158w,\n/static/c21127c3e2a7d5b5489e65cad59d5ae2/6bdcf/970.png 315w,\n/static/c21127c3e2a7d5b5489e65cad59d5ae2/f058b/970.png 630w,\n/static/c21127c3e2a7d5b5489e65cad59d5ae2/40601/970.png 945w,\n/static/c21127c3e2a7d5b5489e65cad59d5ae2/78612/970.png 1260w,\n/static/c21127c3e2a7d5b5489e65cad59d5ae2/46115/970.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Download eines Shapefiles von der Adresse arcgis.com.</em></p>\n<p>Wie ich die Shape Datei mit Leaflet in eine Karte integriere,\nzeigt Ihnen das nachfolgende Beispiel.\nNatürlich gibt es dafür auch wieder ein Leaflet Plugin.\nDie Website zum Plugin <code class=\"language-text\">Leaflet.Shapefile</code> finden Sie auf Github unter\nder Adresse\n<a href=\"https://github.com/calvinmetcalf/leaflet.shapefile\">https://github.com/calvinmetcalf/leaflet.shapefile</a>.\nDie Datei zum Plugin heißt <code class=\"language-text\">leaflet.shpfile.js</code>.\nDer gleiche Entwickler bietet auch ein Skript zum Analysieren\nder Shape Datei unter der Adresse\n<a href=\"https://github.com/calvinmetcalf/shapefile-js\">https://github.com/calvinmetcalf/shapefile-js</a> an.\nDiese Datei heißt <code class=\"language-text\">shp.js</code>. Diese beiden Dateien müssen Sie in Ihre HTML-Datei einbinden.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;shp.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;leaflet.shpfile.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 6);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var shpfile = new L.Shapefile(&#39;vg2500_geo84.zip&#39;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*shpfile.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_943.html--&gt;</span></span></code></pre>\n<p>Die vier mit dem Stern markierten Zeilen zeigen schon alles Notwendige.\nUnd was haben wir genau gemacht? Im Kopfbereich unserer Beispiel HTML-Datei\nhaben wir zwei Skripte eingebunden. Einmal das Skript <code class=\"language-text\">leaflet.shpfile.js</code>\nzum Leaflet Plugin und dann das Skript <code class=\"language-text\">shp.js</code> zum Analysieren der Shape Datei.\nDanach haben wir mit der Zeile <code class=\"language-text\">var shpfile = new L.Shapefile(&#39;vg2500_geo84.zip&#39;)</code>\neine Ebene mit den Daten der Shape Datei erstellt.\nZum Schluss haben wir diese Ebene zum Kartenobjekt hinzugefügt: <code class=\"language-text\">shpfile.addTo(mymap)</code>.</p>\n<p>Als Ergebnis sehen Sie nun alle Verwaltungsgrenzen,\nalso die reinen Geometrien.\nEigenschaften, die in der Shape Datei enthalten sind,\nwerden in diesem Beispiel noch nicht angezeigt.\nDas Anzeigen von Eigenschaften und das Zuordnen anderer Stile habe\nich für das nächste Beispiel aufgehoben.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3a787d557bdcd0146ab9c144c7752c86/46115/967.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQoz12SS2/TQBSF89NYsmAHv6d/AZAQbFiyKEgRIgmpaEiAqoAo9WNsj2PHr/gRp4md2EgUUQE6HLsPFBZXxxrNfD733Nv55DjoaxpeazqLqmrw4wBi5qDH74Gu44D1Tjdwols4Xy+g8M2hLqBSV1mC+myBar3Eltp5K+UlkI8G1L6iwfVdBKwGOOR5j+eGdCCFgHSnGKo6Dmlgm8bYLlJs8gz1aoG6yNGZ2PYNsHEZBT6EMOBLE8eGQE/X8EoR2OuusPe8wLOjAE7owgt9LOch1nGITRajSOeXDidXDpsaGUZ76TOBK6khtQVGuorxkYu7jy9w59EvPDyo8H0Vo1pmbLcBJa3LIk2xpdMb4HVWb9jWmMCpNKDwPDE0PO2muHX/D+49+Yn99wU2aYTVlaOC0DWrZJZlnv4DXmfY5NXk85HlTac4j30oeoLbDy4I/Q1LpqijAMU8bh2VedJCq7MMxSLZBbaTpjaDMKSFiu2XcdTqYJzixYcSkR2hDAKes91kjjUHU3gRlsl/GbYOWc33S0VB/1TBMgrxjS62IaGeTZVwLRs188p9vwWWrCwMMeLkLa7RDrBRjYNx6U5wzypennsznJomxpz01LTwxTChc4VyLyQwbn94wmi6NDCkkR1gT1HhWxI/2GbN9Um43KOvCh2rODYlJpqAY8s2X9eeIfM9+DO3HZ4wDaSM5i+xNbXa2KuzowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        title=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        src=\"/static/3a787d557bdcd0146ab9c144c7752c86/f058b/967.png\"\n        srcset=\"/static/3a787d557bdcd0146ab9c144c7752c86/c26ae/967.png 158w,\n/static/3a787d557bdcd0146ab9c144c7752c86/6bdcf/967.png 315w,\n/static/3a787d557bdcd0146ab9c144c7752c86/f058b/967.png 630w,\n/static/3a787d557bdcd0146ab9c144c7752c86/40601/967.png 945w,\n/static/3a787d557bdcd0146ab9c144c7752c86/78612/967.png 1260w,\n/static/3a787d557bdcd0146ab9c144c7752c86/46115/967.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.</em></p>\n<h4>Deutsche Verwaltungsgrenzen mit Optionen</h4>\n<p>Im nächsten Beispiel sehen Sie,\nwie Sie das Aussehen der Formen in der Shape Datei beeinflussen könne.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;shp.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet.shpfile.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 6);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var shpfile = new L.Shapefile(&#39;vg2500_geo84.zip&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*style:function(feature)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return {color:&quot;black&quot;,fillColor:&quot;red&quot;,fillOpacity:.75}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*shpfile.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_942.html--&gt;</span></span></code></pre>\n<p>Das vorhergehende Beispiel manipuliert die Option <code class=\"language-text\">style</code>.\nDie Belegung der Option <code class=\"language-text\">style</code> mit\n<code class=\"language-text\">color:&quot;black&quot;,fillColor:&quot;red&quot;,fillOpacity:.75</code> färbt die Grenzen\nder Shape Datei schwarz und füllt die Formen mit der Farbe Rot –\nbei einer Transparenz von 75 Prozent.</p>\n<p>Das rot gefärbte Deutschland können Sie sich in der nächsten Abbildung ansehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e499dff9d320955ade95273d6d0f10a/46115/968.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACIUlEQVQoz12Sy27TQBiFs4FNpb4B7OBxkHibIvEILHiFPgBSSdqEKCG9plEgju9OHI/vl8SxnaTdsDwcWwVUFqPR/B5//znnn5YeBPhumhj9WYYJxRH4YdtNfWAYMFwBQzgwbQe/ig0WQmCoGZAcB/vtGo/VFgfWD0WO1pVpoT2fozOX0ZFlnM3m8EIXS2HjTJJwzlpbmmNi2ZB1C495gjGb9hUVwhMo0gj7dUJwhl2eolWrqEFdRWl+HmkarOUCwl7gQlZwwXqb9ev+EDejW1xOpuipGq55bxeFKOMQVZagSuMG2ho9AWtYj123oYeZrMLTZSi6go5uoD0Y4svrVxi8eInByQnSQ4U88pEGbnO/jAIUSYj9Jv0HrNeAXW2xwh0hxUJFqM1wSavqp88QrRYirtX7d9iUOaqEkCxCmcTYZWmz1yr/AmtrjT1mOeA+JVyS51iHMdQPHxugeXQEcXrK3FIUVLhjdkVK21lIhVHT4Bmwtn2uyOgzO4XAtWPjgVZiWlfevIU4PoZ3d4MqJtD1sWd2tdWN5+FhwxzZ4LnCJ2CHwLGmovA97OrQPR/e7RT+/T0yY4mS563vIw+8ZiilG8B2VsiT/xVyfSOsx2fU/TlDHvo4ZDFyvkN3sUC4sjFTTQ4hQsa3WMYRdlQo+P3rTMKY038GrPOzOZAtrYaWhYpAjech60NOXuMPMs9jxUC8dKnQp/0QE11HlyKuGNNv2ySsP/Li6aEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        title=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        src=\"/static/8e499dff9d320955ade95273d6d0f10a/f058b/968.png\"\n        srcset=\"/static/8e499dff9d320955ade95273d6d0f10a/c26ae/968.png 158w,\n/static/8e499dff9d320955ade95273d6d0f10a/6bdcf/968.png 315w,\n/static/8e499dff9d320955ade95273d6d0f10a/f058b/968.png 630w,\n/static/8e499dff9d320955ade95273d6d0f10a/40601/968.png 945w,\n/static/8e499dff9d320955ade95273d6d0f10a/78612/968.png 1260w,\n/static/8e499dff9d320955ade95273d6d0f10a/46115/968.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wurden die Farben geändert.</em></p>\n<h4>Ein Pop-up-Fenster</h4>\n<p>Schön wäre es, wenn man für jede Verwaltungseinheit\nden Namen in einem Pop-up Fenster angezeigt bekommen würde –\nund zwar genau dann, wenn man die Fläche auf der Karte anklickt.\nIm nächsten Beispiel sehen Sie, wie Sie dies umsetzen können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;shp.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet.shpfile.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 5);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var shpfile = new L.Shapefile(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&#39;vg2500_geo84.zip&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*onEachFeature:function(feature, layer)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*layer.bindPopup(feature.properties.GEN);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> shpfile.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;-- index_941.html --&gt;</span></span></code></pre>\n<p>In diesem Beispiel haben wir die Option <code class=\"language-text\">onEachFeature</code> verwendet. Wir haben dieser Option eine anonyme Funktion zugeordnet in der wir jedem Feature in der Shape Datei mithilfe von <code class=\"language-text\">layer.bindPopup(feature.properties.GEN)</code> ein Pop-up Fenster zugewiesen haben. Im Pop-up Fenster erscheint der Text, der bei dem Feature im Attribut <code class=\"language-text\">GEN</code> als Eigenschaft eingetragen ist. Wenn Sie sich nun fragen, woher Sie wissen können, dass es als Eigenschaft ein Attribut <code class=\"language-text\">GEN</code> gibt, dann warten Sie bis zum nächsten Beispiel. Dort werde ich Ihnen zeigen, wie Sie alle Optionen auslesen können.</p>\n<p>Probieren Sie aber zunächst dieses Beispiel selbst aus. Öffnen Sie die Karte und klicken Sie einen Landkreis an. Wie in der nachfolgenden Abbildung zu sehen ist, sollte sich auch auf Ihrer Karte ein Pop-up Fenster öffnen.</p>\n<p>Auf diese Art und Weise können Sie auch\ndas Aussehen einer Form, abhängig vom Wert eines Attributes\ngestalten.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e8af2bc121c44cb5a5372b3de8a0c9a2/46115/966.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQoz12SzW7TUBCF82o8ASzgDXgdxAIWWbBlxyI0P6UkRBU0VCVO/Bs7Tq5v/B87dpxSJKAS0uHcqIDKYnQ14+tvzpy5LTsM8WGxwPhPOAsYa4Evvn+sDx0HjhRYyAAu6z/qEp4QGFkOZus1DrstbvY7XFcFo0TrfOHiZD5Hd66jq+voaHPIKMBS+OjMZuixpr5/NGxcaibqNMSETc4ME4KNqizGYZsSnKMpM7SUCgUaGMbx57FlwV16EL6Hvm6gz3qHwNV6hUyusSJkZDs4570mjlAnEfZ5in2WHKGt8R1QwU7ZdRdJaLoJaeswHBNd08DgSkd7WODN5xpTN0NBlUUaIQuD4/06DlExPxTZP6CKIbv6YoULKqg8EyGhF3MN/fcCj17e4uGL73jW26NJA9QctcoTWpCgybPjqVT+BarRVJzQyyHPK8KnJsdaOnjdj/Hg+S88af/Ep9kWB6WI0dC7KuPYeUSFqkF8H6jG7hk6zuidQeCWvt3EEnEQ4emrb3jcvoXrcgn0cSc5Ir1ToxZS4mtBH9ngvsI7YJfAiWWi2kg0yvQgQKAL+F6C3BOo5Qa7zQZlKI9LqYMQPpuX6f8KGe8IO+VWB1MNZbTBNX0qFdCxEXs2NNPhEmLkfIt1EtPPCCIQeKvNMKFF94DKP58L2a19RO4CDYEW85HyVbdgWjYM5hNCEz+gwg32VHVp2xhQhHpKvwG7m7jAGNpUXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        title=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        src=\"/static/e8af2bc121c44cb5a5372b3de8a0c9a2/f058b/966.png\"\n        srcset=\"/static/e8af2bc121c44cb5a5372b3de8a0c9a2/c26ae/966.png 158w,\n/static/e8af2bc121c44cb5a5372b3de8a0c9a2/6bdcf/966.png 315w,\n/static/e8af2bc121c44cb5a5372b3de8a0c9a2/f058b/966.png 630w,\n/static/e8af2bc121c44cb5a5372b3de8a0c9a2/40601/966.png 945w,\n/static/e8af2bc121c44cb5a5372b3de8a0c9a2/78612/966.png 1260w,\n/static/e8af2bc121c44cb5a5372b3de8a0c9a2/46115/966.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel wird der Name der Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt.</em></p>\n<h4>Ein Pop-up-Fenster mit allen Informationen des Features</h4>\n<p>Sie wissen nicht, welche Eigenschaften in der Shape Datei genau für die\nGeometrien enthalten sind – Sie möchten sich aber gerne einen Überblick über\ndiese Eigenschaften verschaffen. Das nächste Beispiel zeigt Ihnen,\nwie Sie die Informationen nur mit JavaScript in Erfahrung bringen können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;shp.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;leaflet.shpfile.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 5);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var shpfile = new L.Shapefile(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &#39;vg2500_geo84.zip&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*onEachFeature:function(feature, layer)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var holder=[];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*for (var key in feature.properties){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*holder.push(key+&quot;: &quot;+feature.properties[key]+&quot;&lt;br&gt;&quot;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*popupContent=holder.join(&quot;&quot;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*layer.bindPopup(popupContent);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*shpfile.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_940.html--&gt;</span></span></code></pre>\n<p>Für die Beantwortung dieser Fragestellung nutzen wir auch\nwieder die Option <code class=\"language-text\">onEachFeature</code>.\nIn dieser Option erstellen wir eine Variable, genau ein Array, mit dem Namen\n<code class=\"language-text\">holder</code>. Als nächstes durchlaufen wir in einer Schleife alle Schlüssel,\ndie in den Eigenschaften der Shape Datei, also in <code class=\"language-text\">feature.properties</code> enthalten sind.\nWir fügen mit\n<a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/push\"><code class=\"language-text\">push()</code></a><sup id=\"fnref-10\"><a href=\"#fn-10\" class=\"footnote-ref\">10</a></sup>\njeden Eintrag in das Array <code class=\"language-text\">holder</code> ein und separieren diesen von dem\nnächsten Eintrag mit\n<a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/join\"><code class=\"language-text\">join()</code></a><sup id=\"fnref-11\"><a href=\"#fn-11\" class=\"footnote-ref\">11</a></sup>.\nDen Text mit allen Schlüssel-Wert-Paaren fügen wir am Schluss als Pop-up\nText zum Layer hinzu.</p>\n<p>Als Ergebnis sehen Sie alle möglichen Schlüssel-Wert-Paare\nin einem Pop-up Fenster über Ihrer Karte, sobald Sie eine Fläche anklicken.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d2fa638196ae7abe74ab5d0cfa95722f/46115/965.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACEElEQVQoz12S73LSUBDFeUZfwYfyg37wEdrSQjsgtirVVsLNX0LIzf8EEhLSFked6ajHczNVBz/s3NkN/Pbs2e1ZcYw3joPJn7Ad6L7Ered19ZFtww4l7CCAs5L43lRwpcTYtKH5Pu62G+x3W9zXJaNC79JZ4GQ+R38u0BcCR7M5wiTAUno40jScsqa+f7IsCMPEvkxxzUYXugHJRnWR4m6TE7xGWxXoKRUKNND17s8T08Ri6UJ6Ls6EjjPWT8Qck1sP765tXGkmhqxfmRbaNEGTJditc+yKrIP2Jk9ABRuy6zYJMRMGQktAtw0cqyaGhdfvW7ycfMFba4OyiFDlCYo46H7fpDFq5ndl8Q+oYkR1nlzhg2Wjdg2kjsD4RkPu+mibDR6/PeDXzx+o1xkVUR3fJs/QrovuVSr/AtVo3Xj0csT3hnCNseGSFkKif1tiMl8jiTPUHLWmqpbe1R2YeZ6yUXoIVGOf6gIX9EhXMH+FfRoi8lM8f/UVz148Qlj0isvYhhyR3qlRyzDEQ0kf2eBQ4ROwT+DUNFBHIVqa3vJkAqpcuRk2S4kmjLCN6GMcdktpghgem1f5/woZ54QNeSaDzzNUSYR7+lQpoGMhcy3MDJtLSLHmLTZZipYKZSBxPNMw5VkdAJV/Hhey9T0kCwctgSbzsfJVmDB4KjrzKaGZF1BhhB1VfeSNDijikjb9BuJZvMLVYP/EAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        title=\"Eine Karte auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird.\"\n        src=\"/static/d2fa638196ae7abe74ab5d0cfa95722f/f058b/965.png\"\n        srcset=\"/static/d2fa638196ae7abe74ab5d0cfa95722f/c26ae/965.png 158w,\n/static/d2fa638196ae7abe74ab5d0cfa95722f/6bdcf/965.png 315w,\n/static/d2fa638196ae7abe74ab5d0cfa95722f/f058b/965.png 630w,\n/static/d2fa638196ae7abe74ab5d0cfa95722f/40601/965.png 945w,\n/static/d2fa638196ae7abe74ab5d0cfa95722f/78612/965.png 1260w,\n/static/d2fa638196ae7abe74ab5d0cfa95722f/46115/965.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte, auf der ein Shapefile, dass die deutschen Verwaltungsgrenzen enthält, angezeigt wird. In diesem Beispiel werden alle Informationen zur Verwaltungseinheit angezeigt, wenn man mit der Maus die entsprechende Form anklickt.</em></p>\n<h2>ESRI Services</h2>\n<p>Sie wissen nun wie Sie eine ESRI Basiskarte laden,\nwie Sie mit dem Plugin ESRI-Leaflet grundsätzlich umgehen und wie Sie Dateien\nim Format Shapefile nutzen können.</p>\n<p>ESRI bietet aber noch eine ganze Menge mehr.\nSie können ArcGIS Server-Web-Services nutzen.\nDas ESRI Plugin unterstützt Sie auch bei der Verbindung mit einem\nWeb Service, der sich auf einer ArcGIS Server-Website befindet und\nfür Client-Anwendungen zur Verfügung gestellt wird.\nMit einem ArcGIS Web Service kann entweder eine weitere\n<a href=\"http://esri.github.io/esri-leaflet/api-reference/#layers\">Ebene</a>\nfür eine Karte zur Verfügung gestellt oder eine bestimmte\n<a href=\"http://esri.github.io/esri-leaflet/api-reference/#tasks\">Aufgabe</a> bearbeitet werden.</p>\n<p>Eine Ebene kann dabei neben dem</p>\n<ul>\n<li><code class=\"language-text\">L.esri.BasemapLayer</code>, den Sie ja schon kennengelernt haben,</li>\n<li>ein <code class=\"language-text\">L.esri.DynamicMapLayer,</code></li>\n<li>ein <code class=\"language-text\">L.esri.ImageMapLayer</code>,</li>\n<li>ein <code class=\"language-text\">L.esri.RasterLayer</code>,</li>\n<li>ein <code class=\"language-text\">L.esri.TiledMapLayer</code>,</li>\n<li>ein <code class=\"language-text\">L.esri.FeatureLayer</code>,</li>\n<li>ein <code class=\"language-text\">L.esri.Cluster.FeatureLayer</code> oder</li>\n<li>ein <code class=\"language-text\">L.esri.Heat.FeatureLayer</code> sein.</li>\n</ul>\n<p>Eine Aufgabe könnte das Einschränken der Anzeige auf bestimmte Objekte mit\n<code class=\"language-text\">L.esri.Query</code> sein oder das Zuordnen von Adressen zu Koordinaten mit <code class=\"language-text\">L.esri.Geocoding</code>.</p>\n<p>Im nächsten Kapitel beginnen wir damit,\ndas wir eine Ebene, nämlich einen <code class=\"language-text\">L.esri.DynamicMapLayer</code>,\nmithilfe eines Web Services nutzen.\nWenn Sie dieses Beispiel durchgearbeitet haben,\nkönnen Sie alle anderen Layer ebenfalls verwenden.\nDie Vorgehensweise ist bei jedem einheitlich.\nDer einzige Unterschied besteht im Angebot der möglichen Methoden und Optionen.\nDa aber die Dokumentation zum Plugin sehr gut ist,\ndürfte dies keine Schwierigkeit darstellen.\nDie Dokumentation zu den Layern finden Sie unter der Adresse\n<a href=\"http://esri.github.io/esri-leaflet/api-reference/#layers\">http://esri.github.io/esri-leaflet/api-reference/#layers</a>.</p>\n<h3>L.esri.DynamicMapLayer</h3>\n<p>Für das nachfolgende Beispiel habe ich Daten des\n<a href=\"http://www.stadt-koeln.de/politik-und-verwaltung/geoportal/\">Geoportals Köln</a><sup id=\"fnref-12\"><a href=\"#fn-12\" class=\"footnote-ref\">12</a></sup> genutzt.\nDieses Portal bietet den Zugriff auf offene Daten, Dienste und Anwendungen\nverschiedener Herkunft. Das Geoportal Köln zentralisieren nach eigenen Angaben\nInformationen aus den Bereichen Umwelt, Verkehr, Vermessung und Planung.\nJeder hat die Möglichkeit die Geodaten des Geoportal Köln zu nutzen,\nanzusehen und zu analysieren. Informationen zum Geoportal Köln finden Sie auf der\nWebsite der <a href=\"http://www.stadt-koeln.de/politik-und-verwaltung/geoportal/\">Stadt Köln</a><sup id=\"fnref-12\"><a href=\"#fn-12\" class=\"footnote-ref\">12</a></sup>.\nDie Dokumentation zur Schnittstelle des Web Services finden Sie unter\nder Adresse <a href=\"https://geoportal.stadt-koeln.de/arcgis/\">https://geoportal.stadt-koeln.de/arcgis/</a>.\nWenn Sie dann auf den Eintrag <em>Behindertenparkplätze</em> klicken sehen Sie die Angaben,\ndie speziell unser nachfolgendes Beispiel betreffen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.97264, 7.00469], 12);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var url =</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&quot;https://geoportal.stadt-koeln.de/arcgis/rest/services/Behindertenparkplaetze/MapServer&quot;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var dMap = L.esri.dynamicMapLayer({</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*url: url,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*opacity : 0.25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*useCors: false</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*dMap.bindPopup(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*function(err, featureCollection, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return featureCollection.features[0].properties.Bezeichnung +</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&#39;&lt;br&gt;Anzahl: &#39; +</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*featureCollection.features[0].properties.Anzahl;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_939.html--&gt;</span></span></code></pre>\n<p>Als erstes haben wir im vorherigen Beispiel das Skript zum Esri Leaflet Plugin\neingebunden. Als nächstes haben wir die URL, unter welcher der betreffende Service\nangeboten wird, in die Variabel <code class=\"language-text\">url</code> gespeichert.\nDanach haben wir mit dem Code</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">var dMap = L.esri.dynamicMapLayer({</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">url: url,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">opacity : 0.25,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">useCors: false</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}).addTo(mymap);</span></span></code></pre>\n<p>ein <code class=\"language-text\">L.esri.dynamicMapLayer</code>-Objekt erstellt und diesem gleichzeitig Optionen\nübergeben. Unter anderem die URL. Zuletzt haben wir dann mit dem Code</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">dMap.bindPopup(</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">function(err, featureCollection, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">return featureCollection.features[0].properties.Bezeichnung +</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&#39;&lt;br&gt;Anzahl: &#39; +</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">featureCollection.features[0].properties.Anzahl;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">});</span></span></code></pre>\n<p>jedem Feature ein Pop-up hinzugefügt und in dieses Pop-up die Eigenschaften\n<code class=\"language-text\">Bezeichnung</code> und <code class=\"language-text\">Anzahl</code>\nals Text eingetragen.\nWelche Eigenschaften Ihnen ein Web Service zur Verfügung stellt,\nfinden Sie in der Dokumentation zum jeweiligen Service.\nDie Adresse zur Dokumentation des hier verwendeten Services hatte\nich Ihnen weiter oben schon genannt.</p>\n<p>Die nachfolgende Abbildung zeigt Ihnen alle\n– im Web Service Behindertenparkplätze des Geoportals Köln eingetragenen – Parkplätze.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/edeeefe20a319f34b4ea91e3f6c82613/46115/938.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABoElEQVQoz11Sy5ITMQzM/38UJ7bYKg6hWBIgxSSbSfyQZDuZL+iV5HgIHDS2x3KrW61NrRWtNSzLgvv97rFolFJBmXW/+P3IK6X4ervdeq6+G2HnTa0NIuIP7ppkQJkEKSX9XxBCBDODNHLOvjfQAfx/bAzZwCxu+oOlYbqUftYCRNQBda3VgMTPA8ByLFZAe2gJthoDqyylJ4qyDTE7U1OSucuuD4YWo/AAd4Z2QZlcavFeVZceqWGeA2LKDk6srdAcWwdrWw1o9HhjjbSDSTEGxEWB2UEP74L3K+F4mjHNjPOV8edMGqwF/mW5SraPVbEEq5TV2WsknANjfxTsJ8LvKeDXSVlJ73XVN/Qwxwx9Nsgls0oIWfzydCHsJsb2IHh5Y3z5HnBNrAyVSVOT1LRLqquR1ttnY1aXL7FgjuKPtwfG5zfBpy3j6y46u6NKZjUrJG0JF2f5PJ9rDw3ZJT9msfeO8boXvO4E334qw5DR88RHywBbs8H+Oy7D7bWHw6nhcswFP1T64ZQRY3JnrbdWmHSM7NyHPfm4xRjVTMIH85I3BmRPEp8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eine Karte, auf der die Behindertenparkplatze in der Stadt Köln mithilfe eines Webservices angezeigt werden.\"\n        title=\"Eine Karte, auf der die Behindertenparkplatze in der Stadt Köln mithilfe eines Webservices angezeigt werden.\"\n        src=\"/static/edeeefe20a319f34b4ea91e3f6c82613/f058b/938.png\"\n        srcset=\"/static/edeeefe20a319f34b4ea91e3f6c82613/c26ae/938.png 158w,\n/static/edeeefe20a319f34b4ea91e3f6c82613/6bdcf/938.png 315w,\n/static/edeeefe20a319f34b4ea91e3f6c82613/f058b/938.png 630w,\n/static/edeeefe20a319f34b4ea91e3f6c82613/40601/938.png 945w,\n/static/edeeefe20a319f34b4ea91e3f6c82613/78612/938.png 1260w,\n/static/edeeefe20a319f34b4ea91e3f6c82613/46115/938.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Eine Karte auf der die Behindertenparkplatze in der Stadt Köln mithilfe eines Webservices angezeigt werden. Sie können Informationen zum Parkplatz in einem Pop-up einsehen.</em></p>\n<h3>Geocoding</h3>\n<p>Was ist <a href=\"https://de.wikipedia.org/w/index.php?title=Georeferenzierung&#x26;oldid=174938538\">Geocoding</a><sup id=\"fnref-13\"><a href=\"#fn-13\" class=\"footnote-ref\">13</a></sup>?\nGeocoding bezeichnet die Umwandlung von Adressen wie <em>'Kirchstraße 13, 56571 Muster'</em>\nin geografische Koordinaten wie <em>'50.423021 Breite'</em> und <em>'7.083739 Länge'</em>.\nNur so können Sie nämlich einen Marker auf einer Karte platzieren oder\ndie Karte an einer bestimmten Adresse zentriert öffnen.</p>\n<blockquote>\n<p>Nicht nur ESRI bietet Geocoding Dienste an. Auch OpenStreetMap bietet\nIhnen diesen Service. <a href=\"https://nominatim.openstreetmap.org\">Nominatim</a><sup id=\"fnref-14\"><a href=\"#fn-14\" class=\"footnote-ref\">14</a></sup>\nist eine Anwendung, mithilfe derer OpenStreetMap Daten anhand von\nTexten durchsucht werden können. Diese Texte sind in der Regel eine\nAdresse oder ein Teil einer Adresse. Falls der Suchtext mit einer\nEigenschaft eines OpenStreetMap-Objektes, übereinstimmt, wird die Koordinate zu\ndiesem Objekt auf eine Suchanfrage hin zurückgegeben.</p>\n</blockquote>\n<blockquote>\n<p>Da Nominatim auf OpenStreetMap Daten beruht,\nkönnen Sie sich nicht darauf verlassen, dass alle Adressen\neingetragen sind. OSM ist keine kommerzielle Firma, sondern ein\nProjekt das auf der Mitarbeit von Freiwilligen beruht. Dafür können\nSie aber selbst Einfluss auf den Datenbestand nehmen. Bei\nOpenStreetMap kann jeder mitmachen:\n<a href=\"http://wiki.openstreetmap.org/wiki/DE:Getting_Involved\">http://wiki.openstreetmap.org/wiki/DE:Getting_Involved</a><sup id=\"fnref-15\"><a href=\"#fn-15\" class=\"footnote-ref\">15</a></sup>.\nEin Pluign, dass unter anderem Nominatim als Service nutze, ist das Plugin\n<a href=\"https://github.com/perliedman/leaflet-control-geocoder\">Leaflet Control Geocoder</a><sup id=\"fnref-16\"><a href=\"#fn-16\" class=\"footnote-ref\">16</a></sup>. Dieses sehen wir uns im nächsten Kapitel an.</p>\n</blockquote>\n<p>Ich zeige Ihnen in diesem Kapitel anhand des\n<a href=\"https://github.com/Esri/esri-leaflet-geocoder\">ESRI Leaflet Geocoder Plugins</a><sup id=\"fnref-17\"><a href=\"#fn-17\" class=\"footnote-ref\">17</a></sup> folgendes:</p>\n<ul>\n<li>Ich zeige Ihnen, wie Sie eine Adresse in eine Koordinate umwandeln können.</li>\n<li>Ich zeige Ihnen, wie Sie eine Koordinate in eine Adresse umwandeln können.</li>\n<li>Ich zeige Ihnen, wie Sie eine Karte so öffnen können,\ndass eine bestimmte Adresse zentriert angezeigt wird.</li>\n</ul>\n<h4>Nach Eingabe einer Adresse den passenden Ort auf der Karte finden</h4>\n<p>Sie zeigen eine Karte auf Ihrer Website an und möchten es anderen ermöglichen,\nzu einer bestimmten Adresse auf der Karte zu navigieren, nachdem Sie diese Adresse\nin einem Textfeld eingetragen haben. Dann integrieren Sie doch einfach ein ESRI\nLeaflet Geocoder Control in Ihre Karte. Wie Sie dies tun können zeigt Ihnen das\nnächste Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;link rel=&quot;stylesheet&quot; href=&quot;esri-leaflet-geocoder.css&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet-geocoder.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 300px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.97264, 7.00469], 12);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var searchControl = L.esri.Geocoding.geosearch().addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var results = L.layerGroup().addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*searchControl.on(&#39;results&#39;, function(data) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*results.clearLayers();</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*for (var i = data.results.length - 1; i &gt;= 0; i--) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*results.addLayer(L.marker(data.results[i].latlng));</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> });</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_938.html--&gt;</span></span></code></pre>\n<p>Zur Darstellung des Textfeldes für die Eingabe der Adresse ist es notwendig zwei\nweitere Skripte einzubinden.\nNeben dem Skript <code class=\"language-text\">esri-leaflet.js</code> sollten Sie auch noch die Dateien\n<code class=\"language-text\">esri-leaflet-geocoder.css</code> und <code class=\"language-text\">esri-leaflet-geocoder.js</code>\nin Ihr HTML-Dokument einbinden.\nDie notwendigen Dateien hierfür finden Sie unter der\nAdresse <a href=\"https://github.com/Esri/esri-leaflet-geocoder\">https://github.com/Esri/esri-leaflet-geocoder</a>.\nAls nächstes wird dann mit\n<code class=\"language-text\">var searchControl = L.esri.Geocoding.geosearch().addTo(mymap);</code>\ndas Eingabefeld für die zu suchende Adresse erstellt und zur Karte hinzugefügt.\nDieses Eingabefeld nennt Leaflet auch Control.\nWir brauchen eine Ebene, die die Suchergebnisse richtig verarbeitet.\nDiese erstellen wir mit der Zeile <code class=\"language-text\">var results = L.layerGroup().addTo(mymap);</code>.\nZum Schluss können wir dann das Ereignis <code class=\"language-text\">on(&quot;results&quot;)</code>\ndes Objektes <code class=\"language-text\">searchControl</code> mit einer Funktion belegen.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">searchControl.on(&#39;results&#39;, function(data) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">results.clearLayers();</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">for (var i = data.results.length - 1; i &gt;= 0; i--) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">results.addLayer(L.marker(data.results[i].latlng));</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">});</span></span></code></pre>\n<p>Wenn es neue Suchergebnisse gibt, dann werden alle alten Suchergebnisse von\nder Ebene entfernt und die neuen Suchergebnisse als Marker auf der Ebene platziert.</p>\n<blockquote>\n<p>Ihre Adresse wird\nnicht auf der Karte gefunden? Das ESRI Leaflet Geocoder Control\nfindet mithilfe der <a href=\"http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html\">Methode <code class=\"language-text\">geosearch()</code></a><sup id=\"fnref-18\"><a href=\"#fn-18\" class=\"footnote-ref\">18</a></sup>\nstandardmäßig nur Adressen, die aktuell auch sichtbar auf der Karte\nsind. Erst wenn Ihre - sicher vorhandene - Adresse auch bei einer Zoom-Stufe von 0 nicht\ngefunden wird, stimmt etwas nicht. Falls Sie lieber sofort die ganze\nWelt durchsuchen möchten, dann sollten Sie die Option\n<code class=\"language-text\">useMapBounds</code> des Objektes, das Ihnen die Funktion <code class=\"language-text\">L.esri.Geocoding.geosearch()</code>\nliefert, mit <code class=\"language-text\">false</code> belegen.</p>\n</blockquote>\n<p>Die erste Ansicht der Karte nach dem Hinzufügen des ESRI Leaflet Geocoder Control\nPlugins ist nicht spektakulär.\nSie sehen in der linken oberen Ecke eine kleine Lupe.\nWenn Sie diese anklicken, öffnet sich ein Textfeld.\nIn dieses Textfeld können Sie nun die Adresse eingeben,\nnach der Sie suchen möchten.\nStandardmäßig werden Ihnen alternative Eingaben vorgeschlagen.\nSie können das Verhalten des Plugins mit vielen Optionen beeinflussen.\nSehen sich die Dokumentation unter Adresse\n<a href=\"http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html\">http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html</a> an.\nVielleicht ist da sogar eine Option dabei, auf die Sie selbst nicht gekommen wären,\ndie sie aber als nützlich ansehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0fb94013d7b37745846cf575aed8552/46115/937.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABK0lEQVQoz2VT3bqDIAzz/R9xV9uZIn8CfnuAnqYjiu4iK4w0pC1OOWcptcn++Ujbd2mtGXLeJPio611KKbJtm0Xja6y1Gm/XHAL7KTon+fGQ8nxKS0k2JSeNzq0Wl8VJjFERxHtva4hS+I4JqiWEL/LpAo5w9n7PF6GUk60pAKfAIYjE2J2tPlxKQnTLauLYj2UTPGPOhNpx4FUsxmQEAqRlduYQe7SAgMsQgsXxMiuZZESIH+Xpf0h6vf56H0+Ru8ujZPyQgJvGJArO8/KTOF46DshKvpdCMUSIjRfyCY1tGQdjgiyVIrwVawwl98nWWjrvdETRo4cskz20qfc9AIcYCnhfjiZ3t63Vi7BNmf3gpAg6hNjaHzlegvVVHQZ9EcHOV+M4/UC89vsfKjI7kDSJp+wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Nach Eingabe einer Adresse den passenden Ort auf der Karte finden.\"\n        title=\"Nach Eingabe einer Adresse den passenden Ort auf der Karte finden.\"\n        src=\"/static/a0fb94013d7b37745846cf575aed8552/f058b/937.png\"\n        srcset=\"/static/a0fb94013d7b37745846cf575aed8552/c26ae/937.png 158w,\n/static/a0fb94013d7b37745846cf575aed8552/6bdcf/937.png 315w,\n/static/a0fb94013d7b37745846cf575aed8552/f058b/937.png 630w,\n/static/a0fb94013d7b37745846cf575aed8552/40601/937.png 945w,\n/static/a0fb94013d7b37745846cf575aed8552/78612/937.png 1260w,\n/static/a0fb94013d7b37745846cf575aed8552/46115/937.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Nach Eingabe einer Adresse den passenden Ort auf der Karte finden.</em></p>\n<h4>Mithilfe eines Parameters in der URL den passenden Ort finden</h4>\n<p>Manchmal kommt es vor, dass Sie eine Karte schon an einer bestimmten Adresse zentriert öffnen möchten. Wie Sie so etwas umsetzten können, zeigt Ihnen das nächste Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet-geocoder.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 300px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var x = location.search;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">* var y = x.split(&quot;=&quot;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var temp=y[1];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var address = decodeURIComponent(temp);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.97264, 7.00469], 3);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*L.esri.Geocoding.geocode()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.text(address)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.run(function(err, result, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*L.marker(result.results[0].latlng)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.setView(result[0].latlng,13);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_937.html--&gt;</span></span></code></pre>\n<p>Was haben wir genau gemacht? Angenommen, wir haben in der Adresszeile des Browsers\nden Text <code class=\"language-text\">?test=56751 Gering</code> an die URL angefügt. Dieser Text würde im\nBeispiel als erstes in der Variablen <code class=\"language-text\">x</code> gespeichert.\nHierzu wird die\n<a href=\"https://wiki.selfhtml.org/index.php?title=JavaScript/Location/search&#x26;oldid=58666\">Eigenschaft <code class=\"language-text\">location.search</code></a><sup id=\"fnref-19\"><a href=\"#fn-19\" class=\"footnote-ref\">19</a></sup>\nzu Hilfe genommen. Diese Eigenschaft speichert eine Zeichenkette die,\ndurch ein Fragezeichen getrennt, zur aktuellen URL gehört.\nDie Variable <code class=\"language-text\">x</code> enthält also nun den Text <code class=\"language-text\">test=56751 Gering</code>.\nDiesen Text haben wir dann mithilfe von <code class=\"language-text\">x.split(&quot;=&quot;)</code>\nan der Position des Gleichheitszeichens getrennt und die beiden\nTeile als Array in der Variablen <code class=\"language-text\">y</code> gespeichert.\nDen Adressteil können wir nun über <code class=\"language-text\">y[1]</code> abrufen.\nWir müssen die Adresse vor der Eingabe in eine Suchfunktion aber noch dekodieren.\nIn der URL wurde diese nämlich kodiert.\n<code class=\"language-text\">var address = decodeURIComponent(temp)</code>\nmacht aus <code class=\"language-text\">56751%20Gering</code> wieder <code class=\"language-text\">56751 Gering</code> und speichert den\ndekodierten Text in der Variablen <code class=\"language-text\">address</code> ab.<br>\nUnd diesen Text können wir nun als Suchtext in die Methode <code class=\"language-text\">text()</code>\ndes Geocode Objektes eingeben und auf dem Ergebnis die Methode <code class=\"language-text\">run()</code> ausführen.</p>\n<blockquote>\n<p>Weitere Informationen zu <code class=\"language-text\">decodeURIComponent()</code> finden Sie unter der Adresse\n<a href=\"https://wiki.selfhtml.org/index.php?title=JavaScript/decodeURIComponent&#x26;oldid=48866\">https://wiki.selfhtml.org/</a><sup id=\"fnref-20\"><a href=\"#fn-20\" class=\"footnote-ref\">20</a></sup>.</p>\n</blockquote>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">L.esri.Geocoding.geocode()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.text(address)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.run(function(err, result, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">L.marker(result.results[0].latlng)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">mymap.setView(result.results[0].latlng,13);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">});</span></span></code></pre>\n<p>Die Rückruffunktion, die daraufhin ausgeführt wird, erstellt einen Marker\nfür das erste Ergebnis und zentriert diesen Marker,\nbei einer Zoom-Stufe von 13, in der Karte. Eine\n<a href=\"https://de.wikipedia.org/w/index.php?title=R%C3%BCckruffunktion&#x26;oldid=180146705\">Rückruffunktion</a><sup id=\"fnref-21\"><a href=\"#fn-21\" class=\"footnote-ref\">21</a></sup> ist eine\nFunktion, die einer anderen Funktion als Parameter übergeben und von dieser erst\nspäter, unter definierten Bedingungen mit definierten Argumenten, aufgerufen wird.\nEine solche Funktion kennen Sie sicher auch unter dem englischen Namen\n<code class=\"language-text\">callback function</code>.</p>\n<blockquote>\n<p>Möchten Sie die Suchanfrage genauer formulieren?\nDann ersetzen Sie den Text</p>\n</blockquote>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">L.esri.Geocoding.geocode()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.text(&#39;Amselweg 7, Koblenz, Rheinland Pfalz, 65065&#39;)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.run(function(err, results, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">});</span></span></code></pre>\n<p>mit</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">L.esri.Geocoding.geocode()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.address(&#39;Amselweg 7&#39;)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.city(&#39;Koblenz&#39;).region(&#39;Rheinland Pfalz&#39;)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.postal(65065)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.run(function(err, results, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">...</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">});</span></span></code></pre>\n<p>Welche Funktionen Sie genau verwenden können,\nist in der Dokumentation beschrieben:\n<a href=\"https://esri.github.io/esri-leaflet/api-reference/tasks/geocode.html\">https://esri.github.io/</a><sup id=\"fnref-22\"><a href=\"#fn-22\" class=\"footnote-ref\">22</a></sup>.</p>\n<p>Voilà! Wenn sie an die URL, unter der Sie Ihre Leaflet Karte abegelegt haben,\nden Text <code class=\"language-text\">?test=56751 Gering</code> anhängen, wird Ihnen die in der\nnachfolgenden Abbildung dargestellte Karte angezeigt.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0klEQVQoz12TaY6bQBCFuf+FoihRFo0SKYoXoFmNwWYzBrPZc4CXeoWxRvlRdENXff1qwbrUDaqyRnJIYdwQ16bF/T6rNc0Vvhch8GM17n1PVtln6RlRmOi3RmIejweKooKVHk845yUuErzfGRwEPM4z5vsdiZxtNi72ew+7rQvXCWDLnn68PAhi1NUF0zRhHEf0tx7W9dqiLkrkp1wtNCHufY9LXsB3fLgC2m0cVTJIUFXVemkloLbtFETgatbj/R35n79I337j5HiIv/7A1XZgPn9D/PMX4k9fYL6/oZQMmpqQViEsyapsGIYX2OIjCg9Ik0xr5tgebNtX220NXHk3ojqVy0rjvwK5/r+nWdM44Xa7oetuesh0WK+1Vr7AwuQELzhiGnr0TzVU1Utphg/vNGueJ60FoUdpgircey+gJ8BCmlZInZkB97WkztqvEG3IE26tknNx3LKjAqHZz87GUaIgjhVHh6NBAUtGi7KVoTWkMrafdfoIWtOmmjWQvoR3XaffaQS1opYKeZHOIVUsQxu9FNIcaQwdx3GBEUplzaVRX54zM85kKT8HV8szkarJsrMGlZISHVdoGBw0XSpbi5+dC2y2HHj6LKtnAvGN8Q8Q7xyLWIzXjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Mithilfe eines Parameters in der URL den passenden Ort finden.\"\n        title=\"Mithilfe eines Parameters in der URL den passenden Ort finden.\"\n        src=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/f058b/936.png\"\n        srcset=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/c26ae/936.png 158w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/6bdcf/936.png 315w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/f058b/936.png 630w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/40601/936.png 945w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/78612/936.png 1260w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Mithilfe eines Parameters in der URL den passenden Ort finden.</em></p>\n<h4>Nach Klick auf die Karte die passende Adresse ausgeben</h4>\n<p>Umgekehrtes Geocoding ist die Bezeichnung für die Umwandlung geografischer Koordinaten in,\nfür Menschen gut lesbare, Adressen.\nSie wissen ja schon, dass Leaflet bei einem Klick mit der Maus auf die\nKarte die Koordinaten in einem Objekt speichert.\nNun möchten Sie aber gerne anstelle der Koordinaten wissen,\nwelche Adresse Sie gerade angeklickt haben. Das nächste Beispiel zeigt ihnen,\nwie Sie dies erreichen können.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet-geocoder.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 300px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.97264, 7.00469], 12);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.on(&#39;click&#39;, function(e){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var r = L.marker();</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*L.esri.Geocoding.reverseGeocode()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.latlng(e.latlng)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.run(function(error, result, response){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.removeLayer(r);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*r = L.marker(result.latlng)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.addTo(mymap)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.bindPopup(result.address.Match_addr)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*.openPopup();</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> });</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> });</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_936.html--&gt;</span></span></code></pre>\n<p>Das haben wir gemacht? Wir haben veranlasst, dass immer zu dem Zeitpunkt,\nzu dem jemand auf die Karte klickt, eine umgekehrte Geocoding Suche gestartet wird.\nGenau habe wir dies mit dem Programmcode, der in der Funktion\n<code class=\"language-text\">mymap.on(&#39;click&#39;, function(e){}</code>\nausgeführt wird, erreicht. Gleichzeitig wird ein Marker an der Position,\ndie angeklickt wurde, erstellt.\nDas Ergebnis der Suche – also die gefundene Adresse – wird schlussendlich als Text\nin einem Pop-up zum Marker angezeigt.</p>\n<p>Wie dieses Pop-up aussieht, können Sie sich in der nächsten Abbildung ansehen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0klEQVQoz12TaY6bQBCFuf+FoihRFo0SKYoXoFmNwWYzBrPZc4CXeoWxRvlRdENXff1qwbrUDaqyRnJIYdwQ16bF/T6rNc0Vvhch8GM17n1PVtln6RlRmOi3RmIejweKooKVHk845yUuErzfGRwEPM4z5vsdiZxtNi72ew+7rQvXCWDLnn68PAhi1NUF0zRhHEf0tx7W9dqiLkrkp1wtNCHufY9LXsB3fLgC2m0cVTJIUFXVemkloLbtFETgatbj/R35n79I337j5HiIv/7A1XZgPn9D/PMX4k9fYL6/oZQMmpqQViEsyapsGIYX2OIjCg9Ik0xr5tgebNtX220NXHk3ojqVy0rjvwK5/r+nWdM44Xa7oetuesh0WK+1Vr7AwuQELzhiGnr0TzVU1Utphg/vNGueJ60FoUdpgircey+gJ8BCmlZInZkB97WkztqvEG3IE26tknNx3LKjAqHZz87GUaIgjhVHh6NBAUtGi7KVoTWkMrafdfoIWtOmmjWQvoR3XaffaQS1opYKeZHOIVUsQxu9FNIcaQwdx3GBEUplzaVRX54zM85kKT8HV8szkarJsrMGlZISHVdoGBw0XSpbi5+dC2y2HHj6LKtnAvGN8Q8Q7xyLWIzXjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Nach Klick auf die Karte die passende Adresse ausgeben.\"\n        title=\"Nach Klick auf die Karte die passende Adresse ausgeben.\"\n        src=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/f058b/936.png\"\n        srcset=\"/static/2d4b055ec103b4b41e6d7d8a3a593d5a/c26ae/936.png 158w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/6bdcf/936.png 315w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/f058b/936.png 630w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/40601/936.png 945w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/78612/936.png 1260w,\n/static/2d4b055ec103b4b41e6d7d8a3a593d5a/46115/936.png 1290w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Nach Klick auf die Karte die passende Adresse ausgeben.</em></p>\n<p>Die Dokumentation zum ESRI Reverse Geocoding finden Sie unter der Internetadresse\n[http://esri.github.io/](<a href=\"http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html\">http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html</a>]<sup id=\"fnref-23\"><a href=\"#fn-23\" class=\"footnote-ref\">23</a></sup>.</p>\n<h3>Feature Services</h3>\n<p>Im vorletzten Kapitel haben wir mit dem\n<code class=\"language-text\">L.esri.dynamicMapLayer</code> Daten über einen Webservice geladen.\nDabei wurden alle zur Verfügung stehenden Daten auf der Karte angezeigt.\nDas kann sehr unübersichtlich werden. Meist bietet ein Webservice große Datenmengen an.\nSie möchten sicherlich nur die für Sie und Ihre Anwender relevanten Daten auf Ihrer\nKarte anzeigen. Eine Lösung für diese Aufgabe erarbeiten wir in diesem Kapitel.</p>\n<p>In diesem Beispiel werden wir die\n<a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html\">Klasse <code class=\"language-text\">L.esri.featureLayer</code></a><sup id=\"fnref-24\"><a href=\"#fn-24\" class=\"footnote-ref\">24</a></sup>\ninstanziieren. Vorher haben wir mit der\nKlasse <a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html\"><code class=\"language-text\">L.esri.dynamicMapLayer</code></a><sup id=\"fnref-25\"><a href=\"#fn-25\" class=\"footnote-ref\">25</a></sup>\ngearbeitet. Vielleicht fragen Sie sich nun, wie die beiden Klassen sich genau\nunterscheiden.\nESRI erklärt dies wie folgt: Mit einem\n<a href=\"http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002w8000000\">Feature-Service</a><sup id=\"fnref-26\"><a href=\"#fn-26\" class=\"footnote-ref\">26</a></sup>\nkönnen Sie Funktionen über das Internet bereitstellen.\nMit dem <a href=\"http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002m7000000\">Karten-Service</a><sup id=\"fnref-27\"><a href=\"#fn-27\" class=\"footnote-ref\">27</a></sup>\nkönnen Sie Karten im Web bereitstellen.\nMeiner Meinung nach ist ein <em>Feature Service</em> ein spezieller <em>Karten-Service</em> –\ndenn ein Feature Service setzt eine Karte voraus.</p>\n<blockquote>\n<p>Interessieren Sie sich für die\ntechnologische Entwicklung beim ESRI? Die wichtigsten Informationen\nzur ArcGIS Plattform und zu ergänzenden Technologien können Sie auf\ndem Blog GIS IQ – <a href=\"https://gis-iq.esri.de\">https://gis-iq.esri.de/</a>\n– mitverfolgen.</p>\n</blockquote>\n<h4>Attribute</h4>\n<p>So, nun kommen wir zum praktischen Beispiel. Wir konfigurieren eine Abfrage zum\nFiltern von Daten. Konkret verwenden wir Daten zur Bodengeologie, deren Daten\nüber die Adresse\n<a href=\"http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer\">http://services.arcgis.com</a><sup id=\"fnref-28\"><a href=\"#fn-28\" class=\"footnote-ref\">28</a></sup>\nbereit gestellt werden.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;select id=&quot;bodengeologieID&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;&quot;&gt;Reset&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Saure regionalmetamorphe Gesteine&#39;&quot;&gt;Saure regionalmetamorphe Gesteine&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;fluvioglaziale Sedimente&#39;&quot;&gt;fluvioglaziale Sedimente&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Kalkstein&#39;&quot;&gt;Kalkstein&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Geschiebelehm/Geschiebemergel&#39;&quot;&gt;Geschiebelehm/Geschiebemergel&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Mergel&#39;&quot;&gt;Mergel&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Toniger Lehm&#39;&quot;&gt;Toniger Lehm&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Tiefengesteine bzw. Plutonite&#39;&quot;&gt;Tiefengesteine bzw. Plutonite&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;keine Informationen&#39;&quot;&gt;keine Informationen&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Basische bis ultrabasische vulkanischen Gesteine (Vulkanite)&#39;&quot;&gt;Basische bis ultrabasische vulkanischen Gesteine (Vulkanite)&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Löss&#39;&quot;&gt;Löss&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Residualton&#39;&quot;&gt;Residualton&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Fluviale Tone, Schluffe und Lehme&#39;&quot;&gt;Fluviale Tone, Schluffe und Lehme&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Sandstein&#39;&quot;&gt;Sandstein&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Sande der Flussterrassen&#39;&quot;&gt;Sande der Flussterrassen&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Tonstein&#39;&quot;&gt;Tonstein&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Steiniger Lehm&#39;&quot;&gt;Steiniger Lehm&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Residuallehm&#39;&quot;&gt;Residuallehm&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;option value=&quot;PARAMADOTXT=&#39;Schiefer&#39;&quot;&gt;Schiefer&lt;/option&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;/select&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 12);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var url =</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&#39;http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer/0&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var bodengeologie = document.getElementById(&#39;bodengeologieID&#39;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var bodengeologieLayer  = L.esri.featureLayer({</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*url: url</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var popupTemplate = &quot;&lt;h3&gt;Details:&lt;/h3&gt;\\n\\</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*PARAMADOTXT: {PARAMADOTXT}&lt;br&gt;&quot;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologieLayer.bindPopup(function (layer){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*return L.Util.template(popupTemplate, layer.feature.properties)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologie.addEventListener(&#39;change&#39;, function(){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologieLayer.setWhere(bodengeologie.value);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_935.html--&gt;</span></span></code></pre>\n<p>Was macht der Programmcode in diesem Beispiel konkret.\nZunächst wird mit dem Befehl\n<code class=\"language-text\">var bodengeologieLayer = L.esri.featureLayer({ url: url }).addTo(mymap);</code> ein\n<code class=\"language-text\">L.esri.featureLayer</code> Objekt erstellt und dieses zur Karte hinzugefügt.\nDer nächste Schritt ist das Filtern der Daten.\nDies erreichen wir mit der Zeile <code class=\"language-text\">bodengeologieLayer.</code><strong><code class=\"language-text\">setWhere</code></strong><code class=\"language-text\">(bodengeologie.value);</code>.</p>\n<p>Das Ergebnis sehen Sie in der nächsten Abbildung.\nWenn Sie in der Auswahlliste den Eintrag <em>Schiefer</em> auswählen,\nwerden nur die Regionen in denen Schiefer vorkommt, auf der Karte als Bereich angezeigt.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eb47f424c754cfbe8f427836ae4464d8/53ac9/935a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQoz3VSa2+DMAzs//952zRtYltVCoWS2E6oVIpU6WaHd6t+OGH8OJ/t7MLxiEtZIoaAeGnRxoio6Lqr4oa+H3C7bdH3/ZN9v9+xI+dAeQ6fZeCiADGDyKM8M6qG4RyB1cfJT/Dez/9rWKzrOuxYBKKK6qoC1fVSyOrX2NkxGueTPRWb/QjzD4SWoHDW+UXR4USpidnT9yWhjWBYB4IVjgodCRo/qDasm62bvySUkczweYiaKAhB8J2L5lGaZlI5rWezw82iNcnUNV7wWwje9gGs8SCEnzIgO2pDJj2U5tNW6XKU1fVklG/X/TAyHnemJH9KuD+JPi9JjdcqDVY/jzzvR5/Ll45mai7RyAfVkpSzki2qHo+zIbTd2FhFzXjfR7SBk29e+vze5Gl301Emwn/ONPWE4r4iXAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Karte zur Veranschaulichung der Bodengeologie mithilfe eines [Feature Layer Service](https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html).\"\n        title=\"Karte zur Veranschaulichung der Bodengeologie mithilfe eines [Feature Layer Service](https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html).\"\n        src=\"/static/eb47f424c754cfbe8f427836ae4464d8/f058b/935a.png\"\n        srcset=\"/static/eb47f424c754cfbe8f427836ae4464d8/c26ae/935a.png 158w,\n/static/eb47f424c754cfbe8f427836ae4464d8/6bdcf/935a.png 315w,\n/static/eb47f424c754cfbe8f427836ae4464d8/f058b/935a.png 630w,\n/static/eb47f424c754cfbe8f427836ae4464d8/40601/935a.png 945w,\n/static/eb47f424c754cfbe8f427836ae4464d8/78612/935a.png 1260w,\n/static/eb47f424c754cfbe8f427836ae4464d8/53ac9/935a.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Karte zur Veranschaulichung der Bodengeologie mithilfe eines <a href=\"https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html\">Feature Layer Service</a>.</em></p>\n<h4>Abstand visualisieren</h4>\n<p>Ein weiteres Merkmal, das auf Landkarten oft wichtig ist,\nist die Entfernung zu einem Punkt. Oft möchte man gerne wissen,\nwelche Objekte sich innerhalb eines bestimmten Abstands zu einer\nbestimmten Koordinate befinden. Diese Fragestellung beantwortet das nächste Beispiel.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"\" data-index=\"18\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;!DOCTYPE HTML&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;html lang=&quot;de&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*&lt;script src=&quot;esri-leaflet.js&quot;&gt;&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/head&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;div style=&quot;height: 700px&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var mymap = L.map(&#39;mapid&#39;, {}).setView([50.27264, 7.26469], 12);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> L.esri.basemapLayer(&#39;Gray&#39;).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var url = &#39;http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer/0&#39;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var bodengeologie = document.getElementById(&#39;bodengeologieID&#39;);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> var bodengeologieLayer  = L.esri.featureLayer({</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> url: url</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> }).addTo(mymap);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*var nearbyIds = [];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*mymap.on(&#39;click&#39;, function(e){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologieLayer.query().nearby(e.latlng, 5000).ids(function(error, ids){</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*for (var j = 0; j &lt; nearbyIds.length; j++) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologieLayer.setFeatureStyle(nearbyIds[j],{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*color: &#39;#3388FF&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*nearbyIds = ids;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*for (var i = 0; i &lt; ids.length; i++) {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*bodengeologieLayer.setFeatureStyle(ids[i], {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*color: &#39;#BA454E&#39;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">*});</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/body&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"> &lt;/html&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!--index_934.html--&gt;</span></span></code></pre>\n<p>Was passiert hier?\nZunächst werden im Beispiel Bodengeologien mithilfe des Objektes\n<code class=\"language-text\">L.esri.featureLayer</code> zur Karte hinzugefügt.\nSoweit gibt es keinen Unterschied zum vorherigen Beispiel.\nDanach rufen wir die Funktion <code class=\"language-text\">nearby()</code> des\n<a href=\"https://esri.github.io/esri-leaflet/api-reference/tasks/query.html\">Objektes <code class=\"language-text\">L.esri.Query()</code></a><sup id=\"fnref-29\"><a href=\"#fn-29\" class=\"footnote-ref\">29</a></sup>\nfür jeden Marker auf.\nAlle die Marker, die sich in einem Abstand von 5000 Metern befinden,\nwerden im Anschluss rot (#BA454E) gefärbt. Alle anderen bekommen die Farbe Blau (#3388FF);</p>\n<p>Das Ergebnis sehen Sie im nächsten Bild.\nSobald Sie einen Punkt auf der Karte anklicken, werden alle Geologien im Abstand\nvon 5000 Metern um die angeklickte Stelle rot hervorgehoben.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e574272f27a1b49223c85bd84ec5fe6/53ac9/935b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABf0lEQVQoz31Sy04CQRDk///AEE+ePBjvxqioBA0EYwiCARRRFnbeM7y9lN1DBllMPFR60tNTW1W9JWstvPdwzsXKMMaC+9xLdf+c5lI/Yb1eoySlhNY6whhDjwhGQwgZK/cSfmfsnz5jtVqhpJQqDDJJc+DRHjooxT1SRl8/JDwE9yMhH/I83w1znUoLpQ3eJ0QqFRzdG35Ed+nxv4RCiIJtR7aDJ2X5FONqDXqcwThWrGO+KeMd2T4hWy5+aVtHU4+3D4G8P4CVImbrKA7nbDyn/OJS3R4hLyWRaSILdDkhy5etGXLtEOYBjZ5HlmuMKIKJMJDaFhyNJjaqLyhkZT6SOVy1Au47Ad7qiP6Xw3l9hvLNAg9diyda2lYVL3FLaPctM1y0YXH3EnDxHCAUq1CkSKPRDyhXljipLnB0vYyK54EWSCSfU4thZpFLg/X3JhFqsmTIZkClTcrc9n9kFc1BwOnjHMe3C5zVuS5R61IU3sSIWMhHZtDLPDavHfwAFJ/tJAsyvXkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Karte zur Veranschaulichung der Bodengeologie mithilfe eines [Feature Layer Service](https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html).\"\n        title=\"Karte zur Veranschaulichung der Bodengeologie mithilfe eines [Feature Layer Service](https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html).\"\n        src=\"/static/4e574272f27a1b49223c85bd84ec5fe6/f058b/935b.png\"\n        srcset=\"/static/4e574272f27a1b49223c85bd84ec5fe6/c26ae/935b.png 158w,\n/static/4e574272f27a1b49223c85bd84ec5fe6/6bdcf/935b.png 315w,\n/static/4e574272f27a1b49223c85bd84ec5fe6/f058b/935b.png 630w,\n/static/4e574272f27a1b49223c85bd84ec5fe6/40601/935b.png 945w,\n/static/4e574272f27a1b49223c85bd84ec5fe6/78612/935b.png 1260w,\n/static/4e574272f27a1b49223c85bd84ec5fe6/53ac9/935b.png 1287w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><em>Abbildung: Karte zur Veranschaulichung der Bodengeologie mithilfe eines <a href=\"https://esri.github.io/esri-leaflet/api-reference/services/feature-layer-service.html\">Feature Layer Service</a>. Außerdem werden per Klick die Bodengeologien die in einem bestimmten Abstand zur angeklickten Position liegen farblich hervorgehoben.</em></p>\n<h2>In diesem Kapitel haben wir …</h2>\n<p>In diesem Teil haben wir uns als erstes die Karten,\ndie ESRI anbietet, angesehen.\nDanach haben wir mit einem Shapefile gearbeitet und ESRI Webservices genutzt.\nSie wissen nun was ein <code class=\"language-text\">L.esri.DynamicMapLayer,</code>\nwas Geocoding und was ein <code class=\"language-text\">L.esri.FeatureLayer</code> ist.</p>\n\n      <div class=\"footnotes\">\n        <hr/><strong>References:</strong>\n        <ol >\n    \n    <li class=\"footnote-list-item\" id=\"fn-1\" >\n          \n        \n      <a href=\"#fnref-1\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Geoinformationssystem&#x26;oldid=183596912\">https://de.wikipedia.org/w/index.php?title=Geoinformationssystem&#x26;oldid=183596912</a> (<a href=\"https://bit.ly/2EXsUOo\">https://bit.ly/2EXsUOo</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-2\" >\n          \n        \n      <a href=\"#fnref-2\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Shapefile&#x26;oldid=183295349\">https://de.wikipedia.org/w/index.php?title=Shapefile&#x26;oldid=183295349</a> (<a href=\"https://bit.ly/2rYJGnL\">https://bit.ly/2rYJGnL</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-3\" >\n          \n        \n      <a href=\"#fnref-3\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=ESRI&#x26;oldid=182723856\">https://de.wikipedia.org/w/index.php?title=ESRI&#x26;oldid=182723856</a> (<a href=\"https://bit.ly/2LFncRH\">https://bit.ly/2LFncRH</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-4\" >\n          \n        \n      <a href=\"#fnref-4\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=ArcGIS&#x26;oldid=183028892\">https://de.wikipedia.org/w/index.php?title=ArcGIS&#x26;oldid=183028892</a> (<a href=\"https://bit.ly/2F05aJk\">https://bit.ly/2F05aJk</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-5\" >\n          \n        \n      <a href=\"#fnref-5\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/basemap-layer.html\">https://esri.github.io/esri-leaflet/api-reference/layers/basemap-layer.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-6\" >\n          \n        \n      <a href=\"#fnref-6\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://leafletjs.com/reference-1.2.0.html#tilelayer-detectretina\">http://leafletjs.com/reference-1.2.0.html#tilelayer-detectretina</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-7\" >\n          \n        \n      <a href=\"#fnref-7\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://desktop.arcgis.com/de/arcmap/10.3/manage-data/shapefiles/creating-a-new-shapefile.htm\">http://desktop.arcgis.com/de/arcmap/10.3/manage-data/shapefiles/creating-a-new-shapefile.htm</a> (<a href=\"https://bit.ly/2GNRQcV\">https://bit.ly/2GNRQcV</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-8\" >\n          \n        \n      <a href=\"#fnref-8\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://leaflet.calvinmetcalf.com\">http://leaflet.calvinmetcalf.com</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-9\" >\n          \n        \n      <a href=\"#fnref-9\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://www.arcgis.com/home/item.html?id=ae25571c60d94ce5b7fcbf74e27c00e0\">https://www.arcgis.com/home/item.html?id=ae25571c60d94ce5b7fcbf74e27c00e0</a> (<a href=\"https://bit.ly/2CEvFS3\">https://bit.ly/2CEvFS3</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-10\" >\n          \n        \n      <a href=\"#fnref-10\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/push\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/push</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-11\" >\n          \n        \n      <a href=\"#fnref-11\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/join\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/join</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-12\" >\n          \n        \n      <a href=\"#fnref-12\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://www.stadt-koeln.de/politik-und-verwaltung/geoportal/\">http://www.stadt-koeln.de/politik-und-verwaltung/geoportal/</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-13\" >\n          \n        \n      <a href=\"#fnref-13\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=Georeferenzierung&#x26;oldid=174938538\">https://de.wikipedia.org/w/index.php?title=Georeferenzierung&#x26;oldid=174938538</a> (<a href=\"https://bit.ly/2ETwZTu\">https://bit.ly/2ETwZTu</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-14\" >\n          \n        \n      <a href=\"#fnref-14\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://nominatim.openstreetmap.org\">https://nominatim.openstreetmap.org</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-15\" >\n          \n        \n      <a href=\"#fnref-15\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://wiki.openstreetmap.org/wiki/DE:Getting_Involved\">http://wiki.openstreetmap.org/wiki/DE:Getting_Involved</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-16\" >\n          \n        \n      <a href=\"#fnref-16\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://github.com/perliedman/leaflet-control-geocoder\">https://github.com/perliedman/leaflet-control-geocoder</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-17\" >\n          \n        \n      <a href=\"#fnref-17\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://github.com/Esri/esri-leaflet-geocoder\">https://github.com/Esri/esri-leaflet-geocoder</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-18\" >\n          \n        \n      <a href=\"#fnref-18\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html\">http://esri.github.io/esri-leaflet/api-reference/controls/geosearch.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-19\" >\n          \n        \n      <a href=\"#fnref-19\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://wiki.selfhtml.org/index.php?title=JavaScript/Location/search&#x26;oldid=58666\">https://wiki.selfhtml.org/index.php?title=JavaScript/Location/search&#x26;oldid=58666</a> (<a href=\"https://bit.ly/2QbKv6d\">https://bit.ly/2QbKv6d</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-20\" >\n          \n        \n      <a href=\"#fnref-20\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://wiki.selfhtml.org/index.php?title=JavaScript/decodeURIComponent&#x26;oldid=48866\">https://wiki.selfhtml.org/index.php?title=JavaScript/decodeURIComponent&#x26;oldid=48866</a> (<a href=\"https://bit.ly/2BPl6Kn\">https://bit.ly/2BPl6Kn</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-21\" >\n          \n        \n      <a href=\"#fnref-21\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://de.wikipedia.org/w/index.php?title=R%C3%BCckruffunktion&#x26;oldid=180146705\">https://de.wikipedia.org/w/index.php?title=R%C3%BCckruffunktion&#x26;oldid=180146705</a> (<a href=\"https://bit.ly/2Td1WVY\">https://bit.ly/2Td1WVY</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-22\" >\n          \n        \n      <a href=\"#fnref-22\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://esri.github.io/esri-leaflet/api-reference/tasks/geocode.html\">https://esri.github.io/esri-leaflet/api-reference/tasks/geocode.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-23\" >\n          \n        \n      <a href=\"#fnref-23\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html\">http://esri.github.io/esri-leaflet/api-reference/tasks/reverse-geocode.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-24\" >\n          \n        \n      <a href=\"#fnref-24\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html\">https://esri.github.io/esri-leaflet/api-reference/layers/feature-layer.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-25\" >\n          \n        \n      <a href=\"#fnref-25\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html\">https://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html</a></p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-26\" >\n          \n        \n      <a href=\"#fnref-26\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002w8000000\">http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002w8000000</a> (<a href=\"https://bit.ly/2GK1mO5\">https://bit.ly/2GK1mO5</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-27\" >\n          \n        \n      <a href=\"#fnref-27\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002m7000000\">http://resources.arcgis.com/de/help/main/10.2/index.html#//0154000002m7000000</a> (<a href=\"https://bit.ly/2VfqdN3\">https://bit.ly/2VfqdN3</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-28\" >\n          \n        \n      <a href=\"#fnref-28\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer\">http://services.arcgis.com/OLiydejKCZTGhvWg/ArcGIS/rest/services/BodenGeologie/FeatureServer</a> (<a href=\"https://bit.ly/2Qa7rCY\">https://bit.ly/2Qa7rCY</a>)</p>\n      </li>\n      \n    \n\n    <li class=\"footnote-list-item\" id=\"fn-29\" >\n          \n        \n      <a href=\"#fnref-29\" class=\"footnote-backref\" style=\"display:inline;text-decoration: none;\">\n        ^\n      </a>\n    <p class=\"footnote-paragraph\" style=\"display:inline; margin-left: 5px;\"><a href=\"https://esri.github.io/esri-leaflet/api-reference/tasks/query.html\">https://esri.github.io/esri-leaflet/api-reference/tasks/query.html</a></p>\n      </li>\n      \n    </ol></div>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","fileAbsolutePath":"/home/astrid/git/websites/meinblog/content/posts/leaflet/6esri-leaflet.md","excerpt":"Wenn Sie intensiver mit digitalen Landkarten arbeiten,\nmöchten Sie sicherlich auch einmal Daten eines Geoinformationssystems (GIS) auf\nIhrer…","fields":{"slug":"/esri-leaflet/"},"frontmatter":{"title":"ESRI - Environmental Systems Research Institute","date":"18.12.2018","tags":["geografische Daten","Leaflet"],"thumbnail":null}}},"pageContext":{"slug":"/esri-leaflet/","previous":{"id":"1dfcf2a5-7614-57ac-9300-5563fc1b43f6","frontmatter":{"title":"Custom Markers","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/custom-markers-leaflet/"}},"next":{"id":"e51cf2be-af92-554b-b859-ae9f4516cf2a","frontmatter":{"title":"Routing und Geocoding","tags":["geografische Daten","Leaflet"],"template":"post"},"fields":{"slug":"/routing-und-geocoding-leaflet/"}}}},"staticQueryHashes":[]}