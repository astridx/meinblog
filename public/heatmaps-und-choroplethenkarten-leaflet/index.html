<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.7eefba2fb1cca34369a9.css" id="gatsby-global-css">:root{--font-weight-normal:200;--font-weight-bigger1:250;--font-weight-bigger2:300;--font-weight-biggest:350}sup{display:none}pre{font-size:.7rem}@media screen and (min-width:800px){pre{font-size:.8rem}}@media screen and (min-width:1000px){pre{font-size:1rem}}*,:after,:before{box-sizing:border-box}html{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI,Roboto,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-weight:var(--font-weight-normal);font-size:.9rem;line-height:1.5}body{--font-color:#495057;--link-color:#02091c;--heading-color:#183446;--dark-font-color:#212529;--light-font-color:#868e96;--light-background:#fff;--light-blockqoute:#f0f0f0;--dark-blockqoute:#02091c;--border:#d6d9de;--link-color-white:#fff}body,body.dark{color:var(--font-color);background-color:var(--light-background);margin:0;padding:0 1.5rem}body.dark{--font-color:#b6afa8;--link-color:#fdf6e3;--heading-color:#e7cbb9;--dark-font-color:#dedad6;--light-font-color:#797169;--light-background:#000;--light-blockqoute:#222;--dark-blockqoute:#fdf6e3;--border:#292621;--link-color-white:#222}@media screen and (min-width:800px){body{padding:0 2rem}}article{min-width:0}section{margin:2rem 0}section>h2{margin-top:4rem}@media screen and (min-width:800px){section{margin:3rem 0}}.container{max-width:1100px;margin-left:auto;margin-right:auto}img{display:inline-block;max-width:100%;height:auto}blockquote,dl,ol,p,table,ul{font-size:1.05rem;margin:0 0 1.5rem}ul{padding:0 1rem}@media screen and (min-width:800px){ul{padding:0 2rem}}ul li p{margin:0}ul li ul{padding-left:1rem;margin:0}ul li ul li{margin:.25rem 0}ol li ol{margin-bottom:0}.task-list-item [type=checkbox]{margin-right:.5rem}blockquote{margin:1.5rem 0;padding:1rem;background:var(--light-blockqoute);border-top:1px solid var(--dark-blockqoute);border-right:5px solid var(--dark-blockqoute)}blockquote p{margin:0}blockquote a{padding:1px 4px}blockquote a,blockquote a:hover{border-bottom:2px solid var(--dark-blockqoute);color:var(--heading-color)}blockquote a:hover{border-radius:.3rem}h1,h2,h3,h4,h5{margin:0 0 1.5rem;font-weight:var(--font-weight-biggest);line-height:1.2;color:var(--heading-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1:not(:first-child),h2:not(:first-child),h3:not(:first-child),h4:not(:first-child){margin-top:3rem}h1{font-size:2.5rem;line-height:1.1}h2{font-size:1.75rem}h2 code{font-size:1.75rem!important}h3{font-size:1.5rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.5rem!important}h4{font-size:1.4rem;color:var(--font-color);font-weight:var(--font-weight-bigger1)}h4,h5{margin-bottom:1rem}h5{font-size:1.2rem}@media screen and (min-width:800px){h1{font-size:3rem}h2{font-size:2rem}h2 code{font-size:2rem!important}h3{font-size:1.6rem;color:var(--font-color);font-weight:var(--font-weight-bigger2)}h3 code{font-size:1.6rem!important}}aside{min-width:300px}aside p,aside ul{font-size:.95rem}aside ul{padding-left:1rem}aside h3{font-size:1.4rem}aside a.link:hover{border-bottom:0;background:var(--light-background)}.aside-content{border-top:2px solid var(--light-background)}@media screen and (min-width:1100px){.aside-content{border-top:0;border-left:2px solid var(--light-background);padding-left:2rem}.aside-content section{margin-top:.25rem}}a.link{display:grid;grid-template-columns:45px auto;align-items:center;color:var(--heading-color);border-bottom:none;padding:.75rem;border-radius:.3rem}a.link:hover{border-bottom:none;background:var(--light-background)}a.link img{display:inline-block;height:auto;margin-right:1rem;height:22px;width:auto}.lead{margin:4rem 0}.lead h1{color:var(--dark-font-color);font-weight:var(--font-weight-biggest);font-size:2.5rem;margin-bottom:2rem}.lead p{font-size:1.1rem}@media screen and (min-width:800px){.lead h1{font-size:3rem}.lead p{font-size:1.2rem}}p.subtitle{color:var(--light-font-color);font-size:1.2rem}@media screen and (min-width:800px){p.subtitle{font-size:1.4rem}}a{color:var(--link-color);text-decoration:none;font-weight:var(--font-weight-bigger2)}a:hover{border-bottom:2px solid var(--link-color);color:var(--heading-color)}a.gatsby-resp-image-link:hover{border-bottom:none}a code{border-bottom:2px solid var(--link-color)}a code:hover{background:var(--link-color)!important;color:var(--link-color-white)!important}main{margin-top:7rem}.navbar{width:100%;padding:1rem 2rem;position:fixed;top:0;left:0;background:var(--link-color-white);box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);z-index:2;border-bottom:solid}.navbar .flex{justify-content:space-between}.footer a,.navbar a{border-radius:.3rem;padding:.5rem;margin:0 .25rem;color:var(--light-font-color);border-bottom:none;font-weight:var(--font-weight-normal)}.footer a:hover,.navbar a:hover{background:var(--light-background);color:var(--font-color)}.navbar a:first-of-type{margin-left:-1rem}.navbar a:last-of-type{margin-right:-1rem}.navbar a.brand{font-size:1.1rem;font-weight:var(--font-weight-bigger2);color:var(--font-color);white-space:nowrap}@media screen and (min-width:800px){main{margin-top:0}.navbar{margin:2rem 0 5rem;padding:1.5rem 0;position:static;background:var(--link-color-white);box-shadow:none}.navbar .flex{justify-content:flex-start}.footer a,.navbar a{padding:1rem 1.5rem;font-size:1.1rem}.navbar a.brand{font-size:1.3rem;margin-right:3rem}.navbar a:first-of-type{margin-left:-1.5rem}}.footer{margin:3rem auto}.footer>.flex{flex-direction:column}.footer-links,.footer>.flex{align-items:center;justify-content:center}.footer-links{display:flex;flex-wrap:wrap}.flex nav{padding:1rem 0}.footer a.img{display:flex;align-items:center;padding:0;margin:0 .75rem;background:none}.footer img{height:30px;width:30px}@media screen and (min-width:800px){.footer{margin:5rem auto}.footer>.flex{align-items:flex-start;margin-left:-1.5rem;margin-right:-1.5rem}.footer a.img{padding:0 .5rem;margin:0 1rem}}.emoji{margin:0 .4rem 0 .1rem}table{border-collapse:collapse;border-spacing:0;width:100%;max-width:100%;overflow-x:auto;display:block}th{border-bottom:2px solid var(--light-background)}tfoot th{border-top:2px solid var(--light-background)}td{border-bottom:2px solid var(--light-background)}td,th{text-align:left;padding:.75rem!important;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}tbody tr:nth-child(2n){background-color:var(--light-background)}.flex{display:flex;align-items:center}.grid{display:grid;align-items:stretch}.grid.projects{grid-template-columns:40px auto}.row .cell.description{grid-column:1/span 2;margin-bottom:2rem;line-height:1.3;font-size:1.1rem}@media screen and (min-width:800px){.grid{margin-left:-1rem;margin-right:-1rem}.grid.projects{grid-template-columns:50px 1fr 4fr}.row .cell.description{grid-column:auto;margin-bottom:0}.grid.posts{grid-template-columns:200px 4fr}.grid.lists{grid-template-columns:2fr 4fr}.grid.posts.with-tags{grid-template-columns:200px 4fr 2fr}}.row{display:contents}.lists .row,.posts .row{display:block;margin-bottom:2rem;border-bottom:none}.row .cell{display:flex;align-items:center;font-weight:var(--font-weight-biggest);color:var(--dark-font-color);font-size:1.2rem;line-height:1.2;padding:.5rem 0}.row .cell time{font-size:.8rem}@media screen and (min-width:800px){.row .cell{font-size:1.1rem}.row .cell time{font-size:.9rem}.row .cell.simple{padding:.5rem 0}.lists .row,.posts .row{display:contents}.row:hover>*{background:var(--light-background)}.row .cell.simple:first-child,.row .cell:first-child{padding-left:1rem;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.row .cell.simple:last-child,.row .cell:last-child{padding-right:1rem;padding-left:1rem;border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}}.row .cell.light{font-weight:var(--font-weight-normal);color:var(--light-font-color)}.grid.guide{grid-gap:1.5rem;grid-auto-rows:1fr;margin-top:3rem;margin-left:0;margin-right:0}.grid.guide a{transition:all .2s ease;display:flex;align-items:center;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);border-bottom:none}.grid.guide .gatsby-image-wrapper{margin-right:1.5rem}.grid.guide a:hover{transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}.grid.guide h2{margin:0;font-size:1rem;flex:1 1}@media screen and (min-width:600px){.grid.guide{grid-template-columns:repeat(2,minmax(0,1fr))}.grid.guide a{flex-direction:column;justify-content:center}.grid.guide h2{text-align:center;margin:1rem 0 0;flex:none}.grid.guide .gatsby-image-wrapper{margin-right:0}}@media screen and (min-width:800px){.grid.guide{grid-template-columns:repeat(3,minmax(0,1fr))}}@media screen and (min-width:1000px){.grid.guide{grid-template-columns:repeat(4,minmax(0,1fr))}}@media screen and (min-width:1200px){.grid.guide{grid-template-columns:repeat(5,minmax(0,1fr))}}html body div#___gatsby div#gatsby-focus-wrapper main.container section.grid.post article div p span.gatsby-resp-image-wrapper a.gatsby-resp-image-link img.gatsby-resp-image-image{border:1px solid #ddd;border-radius:4px;padding:5px}.grid.post{grid-gap:3rem;margin-left:0;margin-right:0}.article-header h1{font-size:2rem;margin-bottom:1rem;margin-top:.5rem}@media screen and (min-width:1100px){.grid.post{grid-template-columns:3fr 1fr}.article-header h1{font-size:2.75rem;margin-bottom:3rem}}[type=search]{display:block;padding:.8rem 1rem;border:2px solid var(--border);width:100%;max-width:400px;border-radius:.3rem;font-size:1rem}:-moz-placeholder,:-ms-input-placeholder,::-moz-placeholder,::-webkit-input-placeholder,::placeholder{color:var(--light-font-color)}.suggested{flex-direction:column;align-items:stretch;margin-left:-1rem;margin-right:-1rem}.suggested a{text-align:center;margin:1rem;border-bottom:none;transition:all .2s ease;padding:1.5rem;border-radius:.3rem;box-shadow:0 3px 13px rgba(100,110,140,.1),0 2px 4px rgba(100,110,140,.15);color:var(--font-color)}.suggested a:hover{transform:translate3D(0,-1px,0);box-shadow:0 8px 22px rgba(100,110,140,.2),0 5px 18px rgba(100,110,140,.25)}@media screen and (min-width:800px){.suggested{flex-direction:row}.suggested a{flex-grow:0;flex-shrink:0;flex-basis:calc(50% - 2rem)}}.small{max-width:600px}.medium{max-width:750px}.meta,time{color:var(--light-font-color);font-size:.9rem;white-space:nowrap;font-weight:var(--font-weight-normal)}.count{font-weight:var(--font-weight-biggest);color:var(--link-color)}.tags{display:flex!important;align-items:center;overflow:hidden}.tags>a{display:block;font-weight:var(--font-weight-bigger1);background:#f1f3f5;color:#343a40;margin:.2rem;padding:.4rem .5rem;font-size:.8rem;border-radius:.3rem;border-bottom:0;white-space:nowrap}.tags>a:first-child{margin-left:0}.tags>a:last-child{margin-right:0}.tags>a:hover{background:#868e96;color:var(--link-color-white)}mark{background:#ffec99}a.tag-javascript,a.tag-sql{background:#fff3bf;color:#000}a.tag-javascript:hover,a.tag-sql:hover{background:#ffd43b;color:#000}a.tag-git,a.tag-html,a.tag-linux,a.tag-snippets{background:#fff4e6;color:#e8590c}a.tag-git:hover,a.tag-html:hover,a.tag-linux:hover,a.tag-snippets:hover{background:#fd7e14;color:var(--link-color-white)}a.tag-new-year,a.tag-vue{color:#087f5b;background:#e6fcf5}a.tag-new-year:hover,a.tag-vue:hover{background:#0ca678;color:var(--link-color-white)}a.tag-fundamentals,a.tag-game,a.tag-testing{background:#d3f9d8;color:#111}a.tag-fundamentals:hover,a.tag-game:hover,a.tag-testing:hover{background:#37b24d;color:var(--link-color-white)}a.tag-automation,a.tag-node,a.tag-security{background:#fff5f5;color:#e03131}a.tag-automation:hover,a.tag-node:hover,a.tag-security:hover{background:#f03e3e;color:var(--link-color-white)}a.tag-jQuery,a.tag-notes,a.tag-projects,a.tag-reference,a.tag-wordpress{background:#e3fafc;color:#0c8599}a.tag-jQuery:hover,a.tag-notes:hover,a.tag-projects:hover,a.tag-reference:hover,a.tag-wordpress:hover{background:#1098ad;color:var(--link-color-white)}a.tag-architecture,a.tag-css,a.tag-dom{background:#e7f5ff;color:#1971c2}a.tag-architecture:hover,a.tag-css:hover,a.tag-dom:hover{background:#1c7ed6;color:var(--link-color-white)}a.tag-gatsby,a.tag-life,a.tag-php,a.tag-redux{background:#f3f0ff;color:#6741d9}a.tag-gatsby:hover,a.tag-life:hover,a.tag-php:hover,a.tag-redux:hover{background:#7950f2;color:var(--link-color-white)}a.tag-api,a.tag-react{background:#edf2ff;color:#3b5bdb}a.tag-api:hover,a.tag-react:hover{background:#4263eb;color:var(--link-color-white)}a.tag-database,a.tag-design{background:#fff0f6;color:#c2255c}a.tag-database:hover,a.tag-design:hover{background:#e64980;color:var(--link-color-white)}a.tag-notes{background:#f8f0fc;color:#9c36b5}a.tag-notes:hover{background:#ae3ec9;color:var(--link-color-white)}:root{--code-font-family:Menlo,"Roboto Mono",Courier New,monospace;--code-font-color:#b3b9c5;--code-background-color:#353535;--string:#92d192;--variable:#f2777a;--property:#abb2bf;--number:#fca369;--operator:#ac8d58;--punctuation:#d5d8df;--comment:#848991;--function:#62cfcf;--keyword:#ffeead;--attribute:#ffd479;--class:#e1a6f2;--tag:#6ab0f3;--error:#f2777a;--light-background:#f1f3f5}pre[class*=language-]{box-shadow:0 8px 16px rgba(0,0,0,.55)}code[class*=language-],pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.8rem;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;font-weight:400;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1.5rem 2rem;margin:.5rem -1.5rem 2rem;overflow:auto}@media screen and (min-width:800px){code[class*=language-],pre[class*=language-]{font-size:.9rem}pre[class*=language-]{padding:1.5rem;margin-left:auto;margin-right:auto;border-radius:.3rem}}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:var(--code-background-color)}:not(pre)>code[class*=language-]{padding:.1rem .3rem;border-radius:.3rem}code.language-text,pre.language-text{background:#e0e3e7!important;color:#333!important;box-shadow:none}code.language-shell:before{content:"$ ";color:var(--comment)}pre.language-terminal{position:relative;background:#fff;color:#595c62;box-shadow:0 8px 16px rgba(100,120,130,.35);padding-top:3rem;margin:2rem 0;border-radius:.3rem}code.language-terminal{color:#595c62}pre.language-terminal:before{content:"\2022   \2022   \2022";position:absolute;top:0;left:0;background:#e0e3e7;color:var(--code-font-color);width:100%;font-size:2.5rem;margin:0;line-height:0;padding:18px 0 16px;text-indent:6px;letter-spacing:-18px}.gatsby-highlight-code-line{background-color:#191919;display:block;margin-right:-1rem;margin-left:-1rem;padding-right:1rem;padding-left:.75rem;border-left:.25rem solid #748ffc}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number)}.token.builtin,.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.filename{font-size:.9rem;margin-bottom:-.8rem;padding:.5rem 1rem .75rem;line-height:1.8;background-color:#000;color:#fff;z-index:1;margin-left:-1.5rem;margin-right:-1.5rem}@media screen and (min-width:800px){.filename{border-top-left-radius:.3rem;border-top-right-radius:.3rem;margin-left:auto;margin-right:auto}}code::selection,pre::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}code[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}</style><meta name="generator" content="Gatsby 2.32.8"/><title data-react-helmet="true">Heatmaps und Choroplethenkarten | Astrid Günther</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAKJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////oK8DKAAAADR0Uk5TAAcFUJJIFGOlRfPFUiXbeXXt8n4Kas1bA4/5gyyAnlf89WcCcN4oMfuyHN3TbhLuwXIiARdSFQIAAAABYktHRDXettlrAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAaUlEQVQY02NgoANgROUyMbMwsLIhCbBzcDJwcfMwwfi8fPw8DAKCQsIiUAFREzFxBglJEylpqFEyshxyDAzyCiaKSjBNyhIMDComJiaqagiD1cVMTDQ0tRAC2iYaOrp6SFbrGxgaGSPxAeofB3Dy5mHsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEyLTMxVDEzOjI3OjUyKzAwOjAwahG+IAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMi0zMVQxMzoyNzo1MiswMDowMBtMBpwAAABGdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuNy44LTkgMjAxNC0wNS0xMiBRMTYgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmfchu0AAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OmhlaWdodAAxOTIPAHKFAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE5MtOsIQgAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0NjI2Mjg3MhvFQhUAAAAPdEVYdFRodW1iOjpTaXplADBCQpSiPuwAAABWdEVYdFRodW1iOjpVUkkAZmlsZTovLy9tbnRsb2cvZmF2aWNvbnMvMjAxOC0xMi0zMS9hNTIxNmRhZDQ0YjlhNzJmNjM1OWZjMjEwMjJlYzQwMS5pY28ucG5nxAVqqwAAAABJRU5ErkJggg=="/><meta data-react-helmet="true" name="description" content="In den vorherigen Kapiteln haben wir uns angesehen,
wie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –
zu Ihrer…"/><meta data-react-helmet="true" name="image" content="https://blog.astrid-guenther.de//logo.png"/><meta data-react-helmet="true" property="og:url" content="https://blog.astrid-guenther.de//heatmaps-und-choroplethenkarten-leaflet/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Heatmaps und Choroplethenkarten"/><meta data-react-helmet="true" property="og:description" content="In den vorherigen Kapiteln haben wir uns angesehen,
wie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –
zu Ihrer…"/><meta data-react-helmet="true" property="og:image" content="https://blog.astrid-guenther.de//logo.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="astridguenther"/><meta data-react-helmet="true" name="twitter:title" content="Heatmaps und Choroplethenkarten"/><meta data-react-helmet="true" name="twitter:description" content="In den vorherigen Kapiteln haben wir uns angesehen,
wie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –
zu Ihrer…"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.astrid-guenther.de//logo.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://blog.astrid-guenther.de/","name":"Heatmaps und Choroplethenkarten","alternateName":"Heatmaps und Choroplethenkarten"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://blog.astrid-guenther.de//heatmaps-und-choroplethenkarten-leaflet/","name":"Heatmaps und Choroplethenkarten","image":"https://blog.astrid-guenther.de//logo.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://blog.astrid-guenther.de/","name":"Heatmaps und Choroplethenkarten","alternateName":"Heatmaps und Choroplethenkarten","headline":"Heatmaps und Choroplethenkarten","image":{"@type":"ImageObject","url":"https://blog.astrid-guenther.de//logo.png"},"description":"In den vorherigen Kapiteln haben wir uns angesehen,\nwie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –\nzu Ihrer…"}]</script><link rel="icon" href="/favicon-32x32.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#16868F"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=3ab21ccc9ee6bc1e6ee3329051bee6cc"/><link rel="alternate" type="application/rss+xml" title="Astrid Günther | RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-a2985182efa944830776.js"/><link as="script" rel="preload" href="/framework-c8d3a5345e3f321d7da5.js"/><link as="script" rel="preload" href="/app-674f29094b36642c536c.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/05f1d64e2e1399e8ce81fd5e37a2b8dc2f9ac157-acbd361307b07b635e54.js"/><link as="script" rel="preload" href="/cd89b575fbc7744d97a7acf3b55b56387c8b3feb-ecedd2c80549e60c9d95.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-57771115f828deac4ba5.js"/><link as="fetch" rel="preload" href="/page-data/heatmaps-und-choroplethenkarten-leaflet/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="navbar"><div><a href="/"><img style="display:block;max-width:100%;margin:auto" src="/logo2.png" alt=""/></a></div><div class="container flex"><div><a href="/blog">Blog</a><a href="/tutorial">Sets</a><button id="dark-mode-button" style="margin-left:20px"><a href="/en/heatmaps-und-choroplethenkarten-leaflet/">english</a></button><label><input type="checkbox"/> <!-- -->Dark mode</label></div></div></nav><main class="container"><aside><div class="aside-content"><section></section></div></aside><header class="article-header medium"><h1>Heatmaps und Choroplethenkarten</h1><a href="https://github.com/astridx/meinblog/blob/master/content/posts/leaflet/4heatmaps-und-choroplethenkarten-leaflet.md" rel="noreferrer" target="_blank">Ändere diesen Beitrag</a></header><aside><div class="aside-content"><section><time>16.12.2018</time><div class="cell tags"><a class="tag-geografische Daten" href="/tags/geografische-daten">geografische Daten</a><a class="tag-Leaflet" href="/tags/leaflet">Leaflet</a></div></section></div></aside><section class="post"><article><div><p>In den vorherigen Kapiteln haben wir uns angesehen,
wie Sie Elemente direkt – oder mithilfe von in GeoJSON formatierten Daten –
zu Ihrer Karte hinzugefügt können.
Jetzt geht es darum, dieses Wissen in die Tat umzusetzen und eigene
Vorstellungen umzusetzen.</p>
<h2>In diesem Kapitel werden wir …</h2>
<p>In diesem Kapitel werden wir nicht nur einfach Elemente auf die Karte zeichnen.
Wir werden mit der Karte Informationen weitergeben und Fragen beantworten.
Insbesondere statistische Daten können auf Karten viel besser veranschaulicht werden,
als in einer trockenen Tabelle – und nebenbei macht es sogar Spaß
eine solche Karte zu erkunden.</p>
<p>Zwei Typen von Karten – nämlich Heatmaps und Choroplethenkarten – sehen wir uns
nun in diesem Kapitel näher an. Beginnen wir mit der Heatmap.</p>
<h2>Heatmaps</h2>
<p><a href="https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051">Heatmaps</a><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> kennen wir im Deutschen auch
unter dem Namen Wärmebild.</p>
<h3>Was ist eine Heatmap?</h3>
<p>Eine Heatmap ist im Grunde genommen ein Diagramm,
mit dem Daten visualisiert werden.
Diese Visualisierung dient dazu, in einer großen Datenmenge intuitiv
und schnell einen Überblick zu bekommen.
In der grafischen Darstellung kristallisieren sich besonders
markante Werte oft schnell heraus.</p>
<p>Heatmaps färben Bereich unterschiedlich, wenn die <em>Intensität</em> oder die <em>Dichte</em>
des untersuchten Objektes unterschiedlich ist.</p>
<blockquote>
<p>Möchten
Sie gerne wissen, wie die Darstellung einer Heatmap technisch
umgesetzt wird? Vereinfacht ausgedrückt wird zunächst ein
Gitternetz über die Karte gelegt. Im nächsten Schritt wird die Anzahl
der Punkte in jedem Bereich des Gitternetzes gezählt. Je nach Punktanzahl
wird zum Schluss die
Anzeige angepasst. Ist in einem Bereich kein Punkt vorhanden, wird
dieser Bereich nicht mit Farbe gefüllt. Bei den anderen Bereichen
wird je nach Anzahl der Punkte die passende Farbe im Bereich eingeblendet.
Dieses Verfahren nennt man Multivariate Kerndichte Schätzung
(englisch: Multivariate kernel density estimation). Detaillierter
können Sie dies beispielsweise bei
<a href="https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162">Wikipedia</a><sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>
nachlesen.</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABx0lEQVQoz01SS4oUQRDta3gW7+EhFMEDuBHmFG5cK4IoztpZCAqK0oyOINMMLfR0ZVb+M6v6w8DzRdR0zyyyojLyxXvxm+WcISfGeGsTbbl3j6i16r/3HiklhBDu2UzrFSf3mYBaayilYBhGAizGgaQEDsPkl3fnnAa1VpWslECRhFqikoqocM0EWGvjY0UbtvBhScAlYuvQNnkCk0RwQiSite6Q4jWCN6ijZ2yvopqhACfVJUq2CHaBGi9gzz6iXC5QNhs0qve9ZOiJcczkAqm8RkzncIu38O4dOW5I6KTkjgodXLhCWv/E6ttTdB9OYL+/R17PkeuBsCfRFUn/wsevMF8eYPXjMcKfUwQ3J2EhYcTMGKO9SvEf048wv95gdf4Ia/+EGZyxl6NWYExHMqe9SyIwf4bl6UOY+By2e6Vt05JFubVhanBjz8wK/voFrDnB0H7Tv1V1a632s1VuQOlQbYb5/JKVfaLoRoeihPKRDKZpkphK4xYMlqkXXaFDw6cpD5OPVXE2FOh5j3cZTlOe9kwCZZKtZs34eKeVSiZC+qQaxqQYVEAwx7XZ7XYKlCOOw755745+Ae/3+9vBeLV3xx7jhPg/4JHtivJpNJ4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)"
        title="(By Drleft (Own work) [CC BY-SA 3.0 (http://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], via Wikimedia Commons)"
        src="/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png"
        srcset="/static/5f1cea48e930904b3c02d2cb61e1c3e6/c26ae/946.png 158w,
/static/5f1cea48e930904b3c02d2cb61e1c3e6/6bdcf/946.png 315w,
/static/5f1cea48e930904b3c02d2cb61e1c3e6/0b533/946.png 500w"
        sizes="(max-width: 500px) 100vw, 500px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Meist werden bei geringer Intensität oder geringer Dichte kalte Farben verwendet.
Bei einem hohen Aufkommen wird der Bereich mit warmen Farben eingefärbt.
Dies erklärt auch den Namen Heatmap – der englische Begriff für Hitze ist <em>heat</em>.
Blau gilt als <a href="https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035">kalte Farbe</a><sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>,
Rot, Orange und Gelb gelten als <a href="https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311">warme Farben</a><sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>.</p>
<h3>Heatmaps in Leaflet – Dichte</h3>
<p>Unser erstes Beispiel zeigt eine Heatmap, die die unterschiedliche Dichte
von Punkten sichtbar macht. Die Funktionen zum Anzeigen einer Heatmap werden nicht
im Standardumfang von Leaflet mitgeliefert.
Es handelt sich hierbei um eine besondere Funktion,
die im Normalfall nicht zur Darstellung einer digitalen Karte benötigt wird.
Leaflet selbst konzentriert sich auf die Anwendungsfälle,
die üblicherweise beim Anzeigen einer Karte benötigt werden –
ist aber offen für Plugins.
Eines dieser Plugins ist <a href="https://github.com/Leaflet/Leaflet.heat">Leaflet.heat</a><sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup>.</p>
<blockquote>
<p>Weitere Plugins, mit denen Sie
Wärmeabbildungen oder ähnliche Visualisierungen aus Vektordaten
erstellen können, finden Sie auf der Website von Leaflet im Bereich
Plugins: <a href="http://leafletjs.com/plugins.html#heatmaps">http://leafletjs.com/plugins.html#heatmaps</a><sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup>.</p>
</blockquote>
<p>Nachfolgende finden Sie das erste Beispiel für diesen Themenbereich.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">&lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;).setView([50.00555, 7.591838], 10);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var points = [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.1555, 7.591838, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.0931, 7.664177, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041, 7.652033, 0.2]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var heat = L.heatLayer(points,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*minOpacity: 0.95,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*blur: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*maxZoom: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*max: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*radius: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_965.html--&gt;</span></span></code></pre>
<p>Was zeigt Ihnen dieses Beispiel?
Als Erstes haben wir die Skript-Datei zum Plugin mit
<code class="language-text">&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</code> eingebunden.
Ich hatte die Datei von der oben verlinkten Website kopiert und unter dem Namen
<code class="language-text">leaflet-heat.js</code> im gleichen Verzeichnis wie die Datei <code class="language-text">index.html</code> abgelegt.
Danach habe ich eine Variable mit dem Namen <code class="language-text">points</code> vom Typ <code class="language-text">Array</code> erstellt.
In dieser Variablen habe ich 700 Koordinaten gespeichert.
Zu guter Letzt habe ich ein Objekt der Klasse <code class="language-text">L.heatLayer</code> instanziiert
und diesem die Koordinaten in der Variablen <code class="language-text">points</code> und einige Optionen übergeben.</p>
<blockquote>
<p>Der Dritte Wert bei der Übergabe der
Koordinaten steht für die Intensität.<br>
<code class="language-text">var points = [</code><br>
<code class="language-text">[50.1555 , 7.591838 ,</code><strong><code class="language-text">0.2</code></strong><code class="language-text">],</code><br>
<code class="language-text">…</code><br>
Ich habe diesen Wert hier absichtlich immer mit der gleichen Zahl belegt.
Ich nutze dieses Plugin nicht für die Visualisierung der Intensität.
Hierfür zeige ich Ihnen im nächsten Kapitel eine andere Leaflet Erweiterung.</p>
</blockquote>
<p>Das Ergebnis sehen Sie im nachfolgenden Bild.
Da wir noch nichts gestaltet haben, sehen Sie die Standardansicht.
Diese ist noch sehr rudimentär. Das geht besser, Sie werden sehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbUlEQVQozx1TOY7UUBT0MYggJkVizsAdOAEJpIREXACOgJCQSBARE4wGDbN0u9vt/Xv/m/+3e5kMibAod2B5e66qV1UO/FFBTgLDnKPZp7CHGk5XMGMNawXaMsbQZehUikrG6IYIUmVQuoQ3An7uoKYayreQvkBgJgLZGJXdoh63aFyCzmQESTFKASkIFK0gypDvNyh9hNZFaOo1uvyBcwl6m6H1GWq9Q7AoGgiqCWTJMEwpOh3DDymOpsLcx2jFHYrsBpUKkasNCamU895VcKqiYpJOO3RjhGA6NJAmgZ4WsBLDmGKyCU42x+NYYjRb9HqD2OdoDwLWcV1fQlLNwBk9l+h7XhNMcMPA7ht0/fbsS78MyS08V9jPBayOaEWMm+I3rj++xeryC/xRwtgdFIk6nUASsOX3PZ+VZoNA7clgcgZANZ6huB1a+tnoNZpTjatvn5FfPIV9EiB99RLtqYEe6Zvnipbr2wi1WSNv1yhliEAuHkoG4Jtz0vUi3YbnkPRfj/DTB/wLAoBH/eIZ1sU1qnHHGZISMFcPqLoVFD0XVBrIfYXBUbZMULktMnmPwoR8lmE8dNisLhG9f4Pm4jl+vnuNP7++QpwyFBMD4lxSUt3DLVQWw7YpPRzZQZui70L6EKJU67M6MwsmT9C9gnp0uI9u8OPqOzK2IG5X2LFGmSAxuyl2K5SsVhPfLSszFIINwxaViVAMG/ROoB8q6MVbU0AyeTHTK8dKqYQdpB11ivnUYnIFZp3BmKW3LHa/VIWxNy4+l3PgR3op+5jx3JzrJBjUcr/Mana1bbgByfbHDo4/wbwkLSP+XRX+Ay5h/5dVULSdAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Heatmap zur Anzeige der Dichte von Punkten."
        title="Heatmap zur Anzeige der Dichte von Punkten."
        src="/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png"
        srcset="/static/e718f8cd2898673e7ae0b8b423fbb914/c26ae/950.png 158w,
/static/e718f8cd2898673e7ae0b8b423fbb914/6bdcf/950.png 315w,
/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png 630w,
/static/e718f8cd2898673e7ae0b8b423fbb914/40601/950.png 945w,
/static/e718f8cd2898673e7ae0b8b423fbb914/78612/950.png 1260w,
/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h4>Stile und Optionen</h4>
<p>Das <a href="https://github.com/Leaflet/Leaflet.heat">Plugin Leaflet.heat</a><sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup>
erlaubt es Ihnen Parameter zu übergeben. Dabei haben Sie folgende Möglichkeiten:</p>
<ul>
<li><code class="language-text">minOpacity:</code><br>
Die Option <code class="language-text">minOpacity</code> gibt die minimale Dichte an, ab der die Anzeige beginnt.</li>
<li><code class="language-text">maxZoom:</code><br>
Die Opiton <code class="language-text">maxZoom</code> sollte auf die Zoomstufe gesetzt werden,
bei der die Punkte die maximale Intensität erreichen.
Als Standard wird der Wert, der für <code class="language-text">maxZoom</code> in der Karte gesetzt ist,
verwendet.
Auf die Darstellung der Heatmap Ebene hat diese Option keine Auswirkungen.
Sie sollten den Wert so setzten, dass Ihre Karte die beste Aussagekraft hat.
Wenn der Wert zu hoch ist, kann es sein, dass die Punkte so weit auseinander liegen,
dass der dichteste Bereich nicht mehr deutlich erkennbar ist.
Setzen Sie den Wert zu niedrig an, kann man die Daten vielleicht nicht mehr
zusammenhängend im Überblick sehen.</li>
<li><code class="language-text">max:</code><br>
Der Standardwert der maximalen Punktintensität ist 1.0.</li>
<li><code class="language-text">radius:</code><br>
Diese Option erklärt sich meiner Meinung nach von selbst.
Mit dem Wert <code class="language-text">radius</code> geben Sie die Größe an, in der die Punkte angezeigt
werden sollen. 25 ist der Standardwert.</li>
<li><code class="language-text">blur:</code><br>
Mit der Option <code class="language-text">blur</code> können Sie die Schärfe beeinflussen.
Der Wert bestimmt, wie viele Punkte zusammen gefasst werden.
Ein niedriger <code class="language-text">blur</code> Wert erzeugt einzelne Punkte, wohingegen ein hoher Wert
Punkte zusammenfasst. Standardmäßig ist der Wert auf 15 festgesetzt.</li>
<li><code class="language-text">gradient:</code><br>
Die Option <code class="language-text">gradient</code> steht für die Konfiguration des Farbverlaufs.
Standardwert ist <code class="language-text">{0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</code>.
Sie können beliebig viele Werte zwischen 0 und 1 zwischen den Klammern angeben.
Die Farbe, die am Rand angezeigt werden soll,
sollten Sie mit dem niedrigen Wert angeben.
Der Rand ist der Bereich in dem die Punkte nicht dicht beieinander sind.
Die Farbe, die im Zentrum zu sehen sein soll,
geben Sie idealerweise nahe beim Wert 1 an.
Das Zentrum ist der Bereich in dem die Punkte am dichtesten beieinander liegen.</li>
</ul>
<h5>Nachfolgend sehen Sie einen Vergleich einer Ansichten mit unterschiedlichen Werten für die Optionen blur, gradient und maxZoom</h5>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/638534e9028f635ea39795009b81b41f/46115/980a.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACdElEQVQozx2SO3ITWRSGRUDCVgiISNkACyCYDIpiAUQUVLEGJpgFQAFGRpYl62VJ3eqW2lK7H+r3Q92tFzYzA0NNFRnZx5GDUze49/z3P99/auuvPuaqS74ziDcaet5CLzs46zFeqRBGBmFsYOUTzO0Yt1CIVhfEpUO4m5FfzaXPJKhM0o1DzS7PmRct7LKNm51xkbSZ5aeocZ22/5Zh3GAZa2jLDmfRO+Z5Fz07ZRq1uPAGeMWE/CBYmITFXAS/DFGzJkrykctVUwR7LPIeveg9g+QT/mZGli9wVip+qlEml7jJkInfYmh/ZhmNcNIRcTbj6y6gZm3O0ZOTG1fOtotddJllPUZR/cbJfHWOm04oC5erMmEduRSehS2io/QIrTzFSJuE3pgqMah51Qgtq+OWA8yijVUNcYSdX44JN7p81CbKNL5vA64rEYsVTKvFXBwqQUOqyVK4Lqsxf+/jg8Mek+IYf6sSlQbLXMcqhnjrCVY5EmGFXaXz3z7gx7UEGJ6ghA2GVR9LetxEIzz0pQqLbEwt22oiNsBadZgKPycfY8d9OVXmQZdQHu33JtXWwE/6guEM1aoTvnpKtTihuI6wQ+F+CKiaUcurKfP1GSNJc5oeWHYEvk6yMUgKVcLoYWYdJnI3lRGv/njI//fv8vPObf55/pjgx5LLm81oYK/61NLygoWAP08aqOnnmxAOe5buFizKvoTzCSU+Rk/b+N88/n3yiF+3auwf3CN/8YzJps8wOBLnTbTwWAT3DlWxJFmbsi4DjGKAm2ss4i6D6Ii+9wFVtiCQkYNwRvzuT4o3r4lePsH66yVdu07HlYo/CNsmvwFnBpVpwrwVcwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="`blur` _= 1* - Es werden soviele Punkte zusammengefasst, dass jeder Hitzepunkt der Heatmap sehr scharf dargestellt wird. Ein Zentrum ist nicht mehr auszumachen."
        title="`blur` _= 1* - Es werden soviele Punkte zusammengefasst, dass jeder Hitzepunkt der Heatmap sehr scharf dargestellt wird. Ein Zentrum ist nicht mehr auszumachen."
        src="/static/638534e9028f635ea39795009b81b41f/f058b/980a.png"
        srcset="/static/638534e9028f635ea39795009b81b41f/c26ae/980a.png 158w,
/static/638534e9028f635ea39795009b81b41f/6bdcf/980a.png 315w,
/static/638534e9028f635ea39795009b81b41f/f058b/980a.png 630w,
/static/638534e9028f635ea39795009b81b41f/40601/980a.png 945w,
/static/638534e9028f635ea39795009b81b41f/78612/980a.png 1260w,
/static/638534e9028f635ea39795009b81b41f/46115/980a.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACUklEQVQozx2SSZfSYBBF+fGu3bhwoZ6jtkM3QwdCmEMIEJIQEhIyT0x2twv1P1w/elWbqlvvvPcax5cAuxiQXwzik84y77GsFNyjil/NCSODMDZw8gX2WcUr50TFhrhyCS9r8idT3Nkcapv05NLYVRPMsseukvGyPptEZp130eImcvCVadxhH+voe4V+dIeZD1hmXVZRj40/xi8X5DdgaROWpgD+mqJlEvPkJ9tCEsAhVj5kGH1nnDwQnNZkuYVbaASpTpVs8ZIpi6DHdNdmH81w0xlxtublcqDhnCYsk8dXVe55wK4csM6GzKLmqxKzmOClC6rS46lKOEYepe+wE9BZeo9edTFSidBXqRODhl/P0LMmXjXGLmWceoorvAsqlfC0FI9kokznz/nAcy1gyRzLkTEjmXn0yPwgsRe+7muV39f4pnDIomwRnDWiymCfL3HKKf5xgVPNBHjOpV7y93rg33OAFT6ixy1Uv8u2nAn1OuHtLhWPMpVGdtYFbIxTKKyEf26usotHYmqYhwGhWLpebWrhZZBPsAqZb0qfNx9FC4ot9cXDiUZYt4DqNY28XmEe+8xEmqv05qUizF+SnAySUhNhDLGzAXrSRk8H3A0N3n5a876psY10sadji+TXeYddMaKRVhvxdcIk6aCl7dcQbj1LLxZWNRLhPKDGbVZlX8Bt3t15rGyNL8qUzz2NTdFlEt4ClNDDlgBeXepyT3K0RV3GGOUYL9ex4gHj6J6R/wMtkYhEibfBlg8dh21qIC0mNLUxo30TxWuhxD+YhxL/AbXbnDksHO1cAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="`blur` _= 40* - Randbereiche und Zentrum sind erkennbar."
        title="`blur` _= 40* - Randbereiche und Zentrum sind erkennbar."
        src="/static/c1f0ce18816345349dbbec18a85c6ba2/f058b/980b.png"
        srcset="/static/c1f0ce18816345349dbbec18a85c6ba2/c26ae/980b.png 158w,
/static/c1f0ce18816345349dbbec18a85c6ba2/6bdcf/980b.png 315w,
/static/c1f0ce18816345349dbbec18a85c6ba2/f058b/980b.png 630w,
/static/c1f0ce18816345349dbbec18a85c6ba2/40601/980b.png 945w,
/static/c1f0ce18816345349dbbec18a85c6ba2/78612/980b.png 1260w,
/static/c1f0ce18816345349dbbec18a85c6ba2/46115/980b.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACE0lEQVQozy1S2W7bMBDU/39M8uC4RdHUQF2kdWtblyVRsnVRpO7LRT5gOnT6QCxErmbnWCuvKuy9ELqusHYVDlGE1zDEjnX3v365BPgVJ2i0wjlK4N9SvIkY+0ggr0pUSiLKMqx9C+sQhNgcbbiei+UWIBABnk42No6Dje3g09nGd9uFKyJ0RQaZXTFwuCKQkiXWocFYK8ydxtRoWG+cYlgtVYomdNCzeonA1nGxPTtI+LbKApMq0cmcLGrMrcJovnnWsUVTlhgahfvUwNpdQrixQFtcMWUC9yzCNY0fLA9kV/sB+vSGvkgxVAUGgg+6xEyWs2HWaoy6wsQz1CWsVwIeRYiSIDqLIRP65Xtw/Av0RaAOBBR7RspZDYCq0Jc5wSVG+m8AJzKeyHDksfZhhJ+Bj53n4zMlPv85wRYC75w4FwXuUsM//MDh5YmhtQSVWBjOQPkdgTsCD/RyUIYxPTRJGvNffp9xYppZdsNEabMq6NcHq4Jsr/aJdxJtmWI1bCh54ttC5vNDMu8qMvxKkBNBexpcs/ndgDScJjPcGcCd35PmAC0JWKLJEwYkyY5Bsa/nuvRMfCK7nj3WN4JtyfBokqapxviRPxgwk+hKj2YGUbhmbUoGUKOV6iFvkvJD9kN+gYX9H5K5c89M1Itj/CUjs1Mzpy+mmsW95qhSRb80Gnq6dNw9gg302MieCWRYtgT/B6DnziNcrG7xAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="`maxZoom` _ = 6* - Bei dieser niedrigen Zoomstufe kann die Verteilung nicht visualisiert werden. Alles liegt so nah beieinander, dass nur ein Punkt zu sehen ist."
        title="`maxZoom` _ = 6* - Bei dieser niedrigen Zoomstufe kann die Verteilung nicht visualisiert werden. Alles liegt so nah beieinander, dass nur ein Punkt zu sehen ist."
        src="/static/e0956a0502454b432f60e938e4b5e6ef/f058b/980c.png"
        srcset="/static/e0956a0502454b432f60e938e4b5e6ef/c26ae/980c.png 158w,
/static/e0956a0502454b432f60e938e4b5e6ef/6bdcf/980c.png 315w,
/static/e0956a0502454b432f60e938e4b5e6ef/f058b/980c.png 630w,
/static/e0956a0502454b432f60e938e4b5e6ef/40601/980c.png 945w,
/static/e0956a0502454b432f60e938e4b5e6ef/78612/980c.png 1260w,
/static/e0956a0502454b432f60e938e4b5e6ef/46115/980c.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACgElEQVQozx2SW1PaahSG86970dm9bW/s7nQ6e3tCtIgaMYCBABENh3AM5ESAhKCiIqK103amP+DpN71f6521nueVZkuH8uiYq3Ee98bgbtnCmVdYPVmY83MMX8Yc5jCmCpVphoGYGYct8uUkZS+HNS8SP5h8fx7y48lFMqcFdO8Q1T3g9q7Jz7XN9aJJc6iQqX5Bs1N0fRE4OKY0OqA1zdOM8mi9c1reOf04T8HdJ7rVGcUa0otIHcxUZCuBN9OYXOt8fxlgDzR0fRP/0eCyn+ZL8h9OvC2sWCW676D2ZZqDCi1f42Kk4Ivdy+AQab10saIstekZRTctrj3BEUvf1g7zRQM9OCBrbZM1/qcUpGiMz2hPCnTCPBeeTKZzwtfUR0pmEbWTQbIjk5flkNdVj3qo8Lgy6U6z2FGZpp+nYu9TFwzr3RNulhZ39y5mmGMYVbm57ZG1dzm++oQ7q+DP60ihkLB8NPn96tEaZWj3jgTLNmHkUrZkeuEpTkMnq3xmsZ7w8BAKeTUq4hNtmKboJFj/6rOcdDFK20iTlUEszNVah1w5Mrq2xU3co+tW8cIK/SjH4jrgdiy4iiB1uIfiJshODsi7Sc6DJIXaJvXGEXVXRaqK83f23vE5+Y6c9xVDGGz2Tynm9pkuapjC4ihq8nQ9YjivUg72/76YOHxLMvOenLXL3uUGR+Y2z99ipLYwvFP6SDrzL36ooZxu/AXeCwqiPjVm6zqTuERnkCNtb1EM0vQsUZv/PrCx+QZ5kKA4TqEFsmhLAen12acdKYTzC5aCne9d0m1nRB1kumIgHte5KO+hNraF8SNW932Cqow9MpA7O6h+CsXZpeCk0O00fwDClY0ZjNVdLwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="`maxZoom` _ = 15* - Bei dieser Zoomstufe kann eine Verteilung dargestellt werden."
        title="`maxZoom` _ = 15* - Bei dieser Zoomstufe kann eine Verteilung dargestellt werden."
        src="/static/5bb4ffddbaeb8c38506d71198ddacdf4/f058b/980d.png"
        srcset="/static/5bb4ffddbaeb8c38506d71198ddacdf4/c26ae/980d.png 158w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/6bdcf/980d.png 315w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/f058b/980d.png 630w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/40601/980d.png 945w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/78612/980d.png 1260w,
/static/5bb4ffddbaeb8c38506d71198ddacdf4/46115/980d.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACb0lEQVQozxWS23LiVhBF+dD8QX4gr3nNc5KaSQ22g2MSbGQMAtuAAAESFwG6yxpJSFwGYnvmI9b0PJw6darrdO+9dpe8/RKvMFnnI+ZZBz1WifZj7HyA5tcZRw0Wuy5aqEntgfPrSuo66ZcZs6TFPO1xPid8e83Jjw6lZT5kkfQJ8il+9sSTd0OYaUTbCeO4wcPmml5cxQwf6a1vGbi3rJJHaTpis9XZpEOs5Bkv76MHdUqPUY1JouIfVuhhl8NhKpMb0lDHCBp0V//hZjpONqDr1RgFjyzcDnY6Yrt1iLIJcaHxfl5x2pmUooNF3S7zHNbw9kPM9EmUqSwjnUXYIUpWrMRW3b6k6V2yFPsDT6Mzv2O7N8n2BvnBwN0+E+VdSsXZZyScjOheGClU1hWGocpIzstOwwo69IIqF8trPiz/oh1WeTka9G0FM7rl65vPQNAoXhlT/pfe349YWR8n12SaSVJMhYkojdqitMvYuydPDYywx42o7AV3FAcbzWmiuVVOJ5e3t4z8bNP2ryntjiFvrztJL2YiXOruv/S8KsOXHmrwTGuj0N5URd2f/LH4hJ3NcYsVM6dD26riFzPC4gf3LkO/Rik+WYQC08t11qnOS2bIPWSWTXnwmpTnZZRNhQ/WJ366+0U4Klwt/2EumzGWcFqusA0uUNZl5rGkHOQTDvmGXW7z5ZRQHAPZwQn6Z42rxQ0fl1VuNyqK3eTnzq/U7GsafktEzEj3Dt31A6pX4cm/oeX9LQz/z4hjYfRZ7Ll1TNkxSxKbJT8sqxjyrqxr/Db4natNGWc3RXUUCaJJP1XpWLKrkn7Tv+TeueA7ZLaWxrtKxzIAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit benutzerdefinierten Farben: `gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;,` `0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}`."
        title="Eine Heatmap mit benutzerdefinierten Farben: `gradien {0.1: &#39;#edf8fb&#39;, 0.2: &#39;#ccece6&#39;, 0.3: &#39;#99d8c9&#39;,` `0.5: &#39;#66c2a4&#39;, 0.7: &#39;#2ca25f&#39;, 1: &#39;#006d2c&#39;}`."
        src="/static/9633d56c7d455a1a8a4b5a3665743ac0/f058b/980e.png"
        srcset="/static/9633d56c7d455a1a8a4b5a3665743ac0/c26ae/980e.png 158w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/6bdcf/980e.png 315w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/f058b/980e.png 630w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/40601/980e.png 945w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/78612/980e.png 1260w,
/static/9633d56c7d455a1a8a4b5a3665743ac0/46115/980e.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>Gefallen Ihnen die standardmäßig gesetzten kalten und warmen Farben nicht? Möchten Sie lieber Ihre eigene Farbzusammenstellung nutzen? Die Website <a href="http://colorbrewer2.org">http://colorbrewer2.org</a><sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup> hilft beim Auswählen von Farben.</p>
</blockquote>
<h4>Methoden</h4>
<p>Zusätzlich zu den Stylesheet Optionen bietet Ihnen das Plugin <code class="language-text">Leaflet.heat</code> vier Methoden:</p>
<ul>
<li><code class="language-text">setOptions(options):</code><br>
Diese Methode setzt die Optionen der Heatmap neu und zeichnet die Heatmap neu.</li>
<li><code class="language-text">addLatLng(latlng):</code><br>
Diese Methode fügt einen Punkt zur Heatmap hinzu und aktualisiert
die Ansicht gleichzeitig.</li>
<li><code class="language-text">setLatLngs(latlngs):</code><br>
Diese Methode liest die Daten neu ein und aktualisiert danach die Ansicht.</li>
<li><code class="language-text">redraw():</code><br>
Diese Methode zeichnet die Heatmap neu.
Sie wird beim Ausführen der drei vorher genannten Methoden automatisch ausgeführt,
so das Sie dies nicht selbst veranlassen müssen.</li>
</ul>
<h5>Ein Beispiel zur Anwendung der Methoden - Die Methode addLatLng()</h5>
<p>Mithilfe der Methode <code class="language-text">addLatLng()</code> können Sie nachträglich
einen Punkt zum Heatmap Layer hinzufügen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;).setView([50.27264, 7.26469], 10);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var points = [</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.1555, 7.591838, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.0931, 7.664177, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2]</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ];</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var heat = L.heatLayer(points,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> minOpacity: 0.95,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> blur: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> maxZoom: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> max: 1.0,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> radius: 25,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.addLatLng([50.27264, 7.26469, 0.2]);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_964.html--&gt;</span></span></code></pre>
<p>In der nächsten Abbildung können Sie den neu hinzugefügten Punkt erkennen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACZklEQVQozyWSuW4TYRSF/TjUFLwAD8Aj8AJIFDSUSEGkpERCFKwJTuJ43z32jD22J/bYs+/jJYFEQlDwBh/Xobr6i3vO+c93C5tbGyNpEu91/K2KFlfRsgbmZoCVKbiejuvrLOIRxm7AKlXwkil+ZuLuJ8Q/ZrJn4OQG4daksMy6zNIqy6zGKqozDWpM4gpD/4ya/ZmeX2Ltq6irOnX/C7OkhRZWGHtVplYHKx0RHwRTAzedieBNj2FURglOuUrKIthiHrdoed/oBEXs7YQommHmGq4zIHemrMI+ql2lt7xg7fUx5e1HE273DoXFtosWXN6nMndNlmmTSdSi752hRRVmcYdVrLGxJtzpQzauSWotWAY9+uF31KyCHpZxLTELdApWLm7RGausg5HWWOQ9TOnOzga4W02MatjJmF9XCj9DgyQaMb+S7zpVFPcSxSmzll7X+YC7a/+QsMUoPcfeDfEynbWkWaQ9rM2IK5nBfoyqfMVUa/z9HWNYZ4z8S0bRf3BmqOIe9kKFeTSgEO1UEeuwSBqMpT8zHrD02zKHkqKJFyts8imxUHaiDupeoTr6RLH0VoCMyXcWC6/N/AAon1CI8zGzTZ2+0ByHhy4b2KFGsNUJ0qEIt+7PSvXPUXdSz8dj9CcPOHr1mHLtHdGNIcnqsldimbQphNmUedKlG5QYhhdyFt37Owv3c+ZZW4yKKCKmhVXsPx7mmxecPn3E++cPUY+eodwo9JxTAVhGdc9F8NokT9cEG3ESonp6oKoy95t0vO+0rROGQRlHzsdJDHRXkQ4VGscvqX94TcOv0zCLMk8EUpl/lWCWaVXt2HMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Heatmap mit einem mithilfe der Methode `addLatLng` hinzugefügten Punkt."
        title="Heatmap mit einem mithilfe der Methode `addLatLng` hinzugefügten Punkt."
        src="/static/f7e920d8d456e96c39d7f8a0b442bcc9/f058b/979.png"
        srcset="/static/f7e920d8d456e96c39d7f8a0b442bcc9/c26ae/979.png 158w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/6bdcf/979.png 315w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/f058b/979.png 630w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/40601/979.png 945w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/78612/979.png 1260w,
/static/f7e920d8d456e96c39d7f8a0b442bcc9/46115/979.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>Möchten Sie es Website Besuchern
ermöglichen selbst Punkte zur Heatmap auf ihrer Karte hinzuzufügen? Eine
Demo auf der Website zum Plugin zeigt genau solch ein Beispiel:
<a href="http://leaflet.github.io/Leaflet.heat/demo/draw.html">http://leaflet.github.io/Leaflet.heat/demo/draw.html</a><sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup></p>
</blockquote>
<h5>Die Methoden addLatLng(), addLatLngs() und setOptions() der Klasse L.heatLayer zusammen in einem Beispiel</h5>
<p>In diesem Kapitel stelle ich Ihnen ein Beispiel vor,
das per Schaltfläche die verschiedenen Methoden anwendet.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;add()&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*Punkt hinzufügen</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;br&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;newPoint()&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*Daten neu setzen</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;br&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;reset()&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*Reset</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;br&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;setOptions()&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*Farben ändern</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;).setView([49.07264, 7.26469], 7);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var points = [</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.1555, 7.591838, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.0931, 7.664177, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> [50.088041, 7.652033, 0.2]</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ];</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var heat = L.heatLayer(points,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> minOpacity: 0.95,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> blur: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> maxZoom: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> max: 1.0,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> radius: 25,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function add()</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.addLatLng([50.1, 7.1, 0.2]);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function newPoint()</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.setLatLngs([[50.5, 7, 0.2]]);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function reset()</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.setLatLngs(points);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function setOptions()</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.setOptions({gradient: {0.4: &#39;black&#39;, 0.65: &#39;gray&#39;, 1: &#39;white&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*});</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_963.html--&gt;</span></span></code></pre>
<p>Was passiert genau in diesem Beispiel?
Zunächst fügen wir vier Schaltflächen in das HTML-Dokument ein.
Jede Schaltfläche führt eine der Methoden <code class="language-text">add()</code>, <code class="language-text">newPoint()</code>, <code class="language-text">reset()</code>
oder <code class="language-text">setOptions()</code> der Klasse L.heatLayer aus, wenn sie angeklickt wird.</p>
<ul>
<li>Der Aufruf von <code class="language-text">add()</code> führt den Code <code class="language-text">heat.addLatLng([50.1, 7.1, 0.2]);</code> aus
und fügt dabei den Punkt <code class="language-text">[50.1, 7.1, 0.2]</code> zu den Daten der Heatmap Ebene hinzu.</li>
<li>Die Methode <code class="language-text">newPoint()</code> führt die Programmcodezeile
<code class="language-text">heat.setLatLngs([[50.5, 7, 0.2]]);</code> aus und setzt
dabei die Daten der Heatmap Ebene neu.
Die Heatmap Ebene enthält nun nur den einen Punkt <code class="language-text">[[50.5, 7, 0.2]]</code> im Array.</li>
<li>Die Methode <code class="language-text">reset()</code> führt den Code
<code class="language-text">heat.setLatLngs(points);</code> aus und ersetzt damit die Daten der
Heatmap Ebene wieder mit den Daten der Variablen <code class="language-text">points</code>.<br>
<strong>Achtung:</strong> Wenn Sie einen Punkt zum Layer hinzugefügt haben,
als die Variable <code class="language-text">points</code> Datenbestand des Layers war,
dann ist dieser Punkt nun auch in der Variablen <code class="language-text">points</code> enthalten!</li>
<li>Die Methode <code class="language-text">setOptions()</code> ist meiner Meinung nach selbsterklärend.
Sie ändert einfach das Aussehen, also die CSS-Eigenschaften der Ebene.</li>
</ul>
<p>Einen Screenshot der Karte zu diesem Beispiel sehen Sie in der nachfolgenden
Abbildung.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACtUlEQVQ4y5VTuXLUQBTUn/gHcE4R8wFk5AQEBMTkZHwCAYVDAqooIldxFth4vauVVlppR9doNDr3sHd9EXgPNy2RkqCqpznV3a/fk1EUBW5ubvCv5w7//xhNU2G9vsV2u8F6c4vNboMtY7fbgq9uvwuuu3HTnu2wu9ty/Hu22a67++2+4aW/oCsHqrDg6x6CeoSkciFLC2FoQsYmRDJE0LiISgepGiFWHiLNee2ibCaIuFbax/nFHIZsLAKY3GDUNucWRG5inPfglyOk+RiBtODmp4hJnJAwIrkn+gilDV2MkRUCMvOxuiRgQMCw6hOMaiqyly5VDjHhvia7lmOCep2ywDMRh0MIacKJTiEYEdVLOUKhXFxdLmBExYCpWMjmTJtjB1gMqcZC1KZOMEXQSoVQwkFg9SEEgUkqmjYjmyR9JF4PF6spAasB/bKpzoJs+DGj9bRofKT0TSobTTrGXAs0TD30j+CLIwjVh6cGSDRBaxKWAjdXSxjxjOqmHrJy3IGowkVG0LQmIIvQ5A7OSw+rOkCZUUk+pL8+5FQgZ1F0PUGmWcjMxfKaKeezUZeqyGyOLlKqUNrrmFU2xLzyMW1VZyb82sPx+AgfXr/ASf8jpnPNotgsypD3R7i4PmOV6Z1P1pigCRmlHiMvPFS1A02FMSsaafq8CPDl4BW8+3tw9g30njxEuFLI8/Y7RmFidTWDkVDVpK0uPUyoJKNf9SyBm/Tw/vAtgtJESEL1u0bv5XP+CkYX+b09nMgehdgQbc/qPmbLkilLgSyfQNLYuAUsJoizVnUfJ/43XiYY/SzmMY5/foT57DGCB/v49PQRvn9+B3/mwKsH8Klwsapg1EWMMzbmInWhFBuXjZyyejGVBbwk6E9Oooo9mS8U5LLCV+sH3hwewGc3TPhD2GwbxzvF4qzGH5pxnbnBfIZCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Karte mit Schaltfläche die die Methoden `add()`, `newPoint()`, `reset()` oder `setOptions()` per Klick ausführen."
        title="Eine Karte mit Schaltfläche die die Methoden `add()`, `newPoint()`, `reset()` oder `setOptions()` per Klick ausführen."
        src="/static/1afd5be43cf778b632f417a6e4d1c33e/f058b/953.png"
        srcset="/static/1afd5be43cf778b632f417a6e4d1c33e/c26ae/953.png 158w,
/static/1afd5be43cf778b632f417a6e4d1c33e/6bdcf/953.png 315w,
/static/1afd5be43cf778b632f417a6e4d1c33e/f058b/953.png 630w,
/static/1afd5be43cf778b632f417a6e4d1c33e/40601/953.png 945w,
/static/1afd5be43cf778b632f417a6e4d1c33e/78612/953.png 1260w,
/static/1afd5be43cf778b632f417a6e4d1c33e/46115/953.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h4>Marker</h4>
<p>Im nächsten Beispiel zeige ich Ihnen, wie Sie zu jedem Punkt in einer Heatmap
einen Marker hinzufügen können. Das ist ganz praktisch, wenn Sie die Eigenschaften
der einzelnen Punkte aufzeigen möchten.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;).setView([50.1555 , 7.591838], 10);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var points = [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.1555 , 7.591838 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>
<span class="grvsc-line"><span class="grvsc-source">* [50.0931 , 7.664177 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 , &quot;&lt;img src=&#39;http://lorempixel.com/200/200/&#39;&gt;&quot;]</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*for(var i=0;i&lt;points.length;i++)</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*L.marker(</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[parseFloat(points[i][0]),parseFloat(points[i][1])],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{opacity:0}).bindPopup(points[i][2],{keepInView:true}).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"> var heat = L.heatLayer(points,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> minOpacity: 0.95,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> blur: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> maxZoom: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> max: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> radius: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_962.html--&gt;</span></span></code></pre>
<p>Was ist in diesem Beispiel anders? Wir haben der Variablen <code class="language-text">point</code>
einen dritten Wert mitgegeben. Dieser dritte Wert beschreibt
die Adresse zu einem Image. Dies hätte aber auch ein gewöhnlicher Text sein können.
Diesen dritten Wert haben wir dann in der Methode
<code class="language-text">bindPopup(points[i][2],{keepInView)</code>
dazu genutzt, einen individuellen Marker zu kreieren.</p>
<p>So wie in der nächsten Abbildung könnte die fertige Karte auch bei Ihnen aussehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACe0lEQVQozx2SS2sTYRiF82/cu3Avomv/gQiCG8GFIoKLghVdCS4UVFyIl17SxjTJ5NIkM5lJpsk0mclMMvdbLi0RLG78BY9fu3rh4z3nPd85p5BvHIy4TrTS8RYqWlRBSyXMvIudysxdnbmnM456GMsulnhz4xO81MJd60TnI4EzmGUGwcKkMEmPGSYVJmkVK6xx4lcZREcoXpGq8422V2LqqahTiZr7nWFURwvKyPYBmlXDTnpEl4SJwTwZCsKzNkooFvxdTuOyIGwwiho03J+0/H2cxYAwGmEmCo7fIwksprFO/sfDiyc4rsIk6OCFAzarGYXx4hjN/3WlylzWmSR1BmGDjltEC48YxsdYQY80sdhkPpY5YW/nBx2pwuY853Qh0/cPcR2ZzNcp2FkHNSwKb1oYSZVx1sYUPjlpl/lCE4equKHKxXLGJrcwxwrv327xbvsZ/XaJUdjFjDtMc5nfa+9SYYNecoCzVHBTnWmkMU7a2HmPcdoRxDKrTONi5fDvwhPqPnH75h0ePrjP1ounuIn4dtJnGshX5IVwqQqyFuNYEtIbmFGXidcUU2E4qzMXS+u1QbbUcYIm+uqEunxIcfcDxkwlXdiM3SYju4WdDShEWZ9hXqMj0uwHl15KAqiJKuj4IggzbmCEdVThqSpqo359jX73Gtsvb1GRPhKdGUJZTeBKTOImhSA9YSSMP/ZLKMHhVQiXPQtWI0ZpU4Szj+yJigQVnL8u5usn7N67wefH11G3HyGfybRnuyLAMur8QBCuTbJkip+LS1ELPWlhRSpDr07T3aNl76D4ZWaiPrPYQJ/L9DwZ6c1zal9eIXk1JHNfzB3keZn/uUGSt/9Yq7EAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt."
        title="Eine Heatmap mit benutzerdefinierten Markern pro Hitzepunkt."
        src="/static/3234f3221d129f2b1ed0500fb973fda2/f058b/980.png"
        srcset="/static/3234f3221d129f2b1ed0500fb973fda2/c26ae/980.png 158w,
/static/3234f3221d129f2b1ed0500fb973fda2/6bdcf/980.png 315w,
/static/3234f3221d129f2b1ed0500fb973fda2/f058b/980.png 630w,
/static/3234f3221d129f2b1ed0500fb973fda2/40601/980.png 945w,
/static/3234f3221d129f2b1ed0500fb973fda2/78612/980.png 1260w,
/static/3234f3221d129f2b1ed0500fb973fda2/46115/980.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>Heatmaps mit Leaflet – Intensität</h3>
<p>Im vorhergehenden Kapitel haben wir eine Heatmap mithilfe des
Plugins <a href="https://github.com/Leaflet/Leaflet.heat">Leaflet.heat</a><sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup> erstellt.
Diese Heatmap hat die Dichte von Punkten auf einer Karte visualisierte.
Wir haben bisher die Möglichkeit die Intensität zu visualisieren nicht genutzt.
Ich stelle Ihnen hier ein anderes Plugin für diesen Zweck vor.
Als nächstes möchte ich nun mit Ihnen eine Heatmap, die die Intensität
der Eigenschaft eines Punktes darstellt, mithilfe des Plugins
<a href="https://github.com/pa7/heatmap.js">heatmap.js</a><sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup> erarbeiten.
Herunterladen können Sie das Plugin unter der Adresse
<a href="https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html">https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html</a><sup id="fnref-10"><a href="#fn-10" class="footnote-ref">10</a></sup>.
Hier finden Sie auch die Dokumentation zum Plugin.</p>
<p>Nachfolgende sehen Sie das erste Beispiel.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;heatmap.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;leaflet-heatmap.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var myData={</span></span>
<span class="grvsc-line"><span class="grvsc-source"> max: 100,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*data: [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{lat: 51.0934, lon:8.666819, value: 99},</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{lat: 51.0972, lon:8.667964, value: 99},</span></span>
<span class="grvsc-line"><span class="grvsc-source">*...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{lat: 50.088041, lon:7.652033, value: 23},</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{lat: 50.088041, lon:7.652033, value: 23}]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*};</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var baseLayer = L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var cfg = {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;radius&quot;: .1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;maxOpacity&quot;: .5,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;scaleRadius&quot;: true,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;useLocalExtrema&quot;: true,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*latField: &#39;lat&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*lngField: &#39;lon&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*valueField: &#39;value&#39;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var heatmapLayer = new HeatmapOverlay(cfg);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heatmapLayer.setData(myData);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var map = new L.Map(&#39;mapid&#39;, {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*center: new L.LatLng(50.0586, 7.6568),</span></span>
<span class="grvsc-line"><span class="grvsc-source">*zoom: 8,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*layers: [baseLayer, heatmapLayer]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*});</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_961.html--&gt;</span></span></code></pre>
<p>Was zeigt Ihnen dieses Beispiel genau? Sie sehen, dass Sie neben dem Skript
<code class="language-text">leaflet.heat.js</code> auch das Skript <code class="language-text">heat.js</code> einbinden können oder müssen.
Als nächstes müssen Sie die Daten, die Sie visualisieren möchten,
angeben – diese müssen eine Angabe zu dem maximal möglichen Wert enthalten:
<code class="language-text">var myData={</code><strong><code class="language-text">max:100</code></strong><code class="language-text">, data: [ {lat: 51.0934, lon:8.666819, value: 99} ….</code>.
Danach können Sie die Heatmap Ebene erstellen.
Der Übersicht halber habe ich die Optionen der Heatmap Ebene in einer separaten Variablen,
nämlich der Variablen <code class="language-text">cfg</code>, definiert.
Die Anweisung zum Erstellen der Heatmap Ebene mit den Optionen in der Variablen
<code class="language-text">cfg</code> lautet <code class="language-text">var heatmapLayer = new HeatmapOverlay(cfg);</code>.
Dieser Ebene können Sie nun die Daten mit dem Befehl
<code class="language-text">heatmapLayer.setData(myData);</code> hinzufügen.
Zum Schluss fügen Sie diesen Layer nun zum Kartenobjekt hinzu.
Die Anweisung hierfür lautet:
<code class="language-text">L.Map(&#39;mapid&#39;, { center: new L.LatLng(50.0586, 7.6568),</code> <code class="language-text">zoom: 8, layers: [baseLayer,</code><strong><code class="language-text">heatmapLayer</code></strong><code class="language-text">]});</code>.</p>
<p>Wie das aussehen sollte, können Sie sich in der nächsten Abbildung ansehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACQUlEQVQozx2TyY7VPBSE8/6vwIL3ACSEEPx9h9yMzuh4jp2kUdO9+bdF3ays2D6nvlPlZNEqRNtjW2ccvsern5HMiFfTQbd3LEOBNY1QoYXeBTr3H6aQI8UBzrfwx3iev/9Z8HEoZG6s4aY7kuuQlgJhKhCHEm+eDesLRPkbdm0hlxyNuqAxP9G7F4RVQKkc0hRQ5oHoWmxzyYYk8N2DDQYcuoHrShjuWV46VIGxeYEJDaQtMOkcNpIqdHAkVpr0JNVrjd7cKVAg22WDNOY4SLhZqsoc2tWY1Y2FJdULSFXBuAbWN9C6xMrvsA88I4Cr4GKHxZQQNkeWSJaoFkzLQ6quJawT8PTHrRVi6tCXX9CJb2dDySI3FyfpxCZS3eFJmfaZYhWydZeYOI6yFZQrEUIPbymQejauoLce4scnNF8/Y9Yt2ut3Cvw6vWvsFd5U2GiBp7C1DbJtkxjp16AfbEo/uemp7I2gIsd13KcF2tR4cyPp6OPTBkcIEgdZ4li70+dn6tnHIZGYmPPiLDLjDUtz4cpGoYLUN3pGgbVnSBVsf4ekt3PgayDZ7gauAwl7LGye/X9MeEsC2+uE9Fx9zaLnKC3MQrKR1ExfqCtTfGCpXpj2g37W2GKPxAljmBCjwMK67J1G/p2vjF8gMv6dVH6+810JUnIsElkm27kbAn2eRX7aETSnCc/J6Dkp3TrC8jt7Z+FHoBrpUuTT4DiBHh30J9GbwEvP8QyJlumBvrtgoQWO1Co1MEzb8idIacDM9R+epxG17LZWwQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap - erstellt mithilfe des Plugins [heatmap.js](https://github.com/pa7/heatmap.js) - die die Intensität darstellt."
        title="Eine Heatmap - erstellt mithilfe des Plugins [heatmap.js](https://github.com/pa7/heatmap.js) - die die Intensität darstellt."
        src="/static/178f16ef3d0681a6fc89fef7828990df/f058b/952.png"
        srcset="/static/178f16ef3d0681a6fc89fef7828990df/c26ae/952.png 158w,
/static/178f16ef3d0681a6fc89fef7828990df/6bdcf/952.png 315w,
/static/178f16ef3d0681a6fc89fef7828990df/f058b/952.png 630w,
/static/178f16ef3d0681a6fc89fef7828990df/40601/952.png 945w,
/static/178f16ef3d0681a6fc89fef7828990df/78612/952.png 1260w,
/static/178f16ef3d0681a6fc89fef7828990df/46115/952.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h4>Dokumentation und Methoden</h4>
<p>Das nachfolgende Beispiel demonstriert Ihnen, wie unterschiedlich Punkte
mit unterschiedlicher Intensität aussehen können.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;heatmap.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script src=&quot;leaflet-heatmap.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var myData={</span></span>
<span class="grvsc-line"><span class="grvsc-source">*max: 100,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> data: [</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {lat: 51.0934, lon:8.666819, value: 99},</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {lat: 51.0972, lon:8.667964, value: 99},</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {lat: 50.088041, lon:7.652033, value: 23},</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {lat: 50.088041, lon:7.652033, value: 23}]</span></span>
<span class="grvsc-line"><span class="grvsc-source"> };</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var baseLayer = L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var cfg = {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;radius&quot;: .1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;maxOpacity&quot;: .5,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;scaleRadius&quot;: true,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;useLocalExtrema&quot;: true,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> latField: &#39;lat&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> lngField: &#39;lon&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> valueField: &#39;value&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> gradient: {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &#39;.4&#39;: &#39;blue&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &#39;.8&#39;: &#39;lime&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &#39;.95&#39;: &#39;red&#39;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> },</span></span>
<span class="grvsc-line"><span class="grvsc-source"> blur: 0.75</span></span>
<span class="grvsc-line"><span class="grvsc-source"> };</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var heatmapLayer = new HeatmapOverlay(cfg);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var map = new L.Map(&#39;mapid&#39;, {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> center: new L.LatLng(50.0586, 7.6568),</span></span>
<span class="grvsc-line"><span class="grvsc-source"> zoom: 8,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> layers: [baseLayer, heatmapLayer]</span></span>
<span class="grvsc-line"><span class="grvsc-source"> });</span></span>
<span class="grvsc-line"><span class="grvsc-source"> heatmapLayer.setData(myData);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var test1 = {lat:51,lon:6,value:99};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var test2 = {lat:50.5,lon:6,value:60};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var test3 = {lat:50,lon:6,value:40};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var test4 = {lat:49.5,lon:6,value:20};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heatmapLayer.addData(test1);</span></span>
<span class="grvsc-line"><span class="grvsc-source">* heatmapLayer.addData(test2);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heatmapLayer.addData(test3);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heatmapLayer.addData(test4);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_960.html--&gt;</span></span></code></pre>
<p>Im vorhergehen Codebeispiel haben wir 4 Punkte mit unterschiedlicher
Intensität zur Karte hinzugefügt.
Die Werte für die Intensität betragen 99, 60, 40 und 20 bei einem maximalen Wert
von 100.
In der nachfolgenden Abbildung sehen Sie die unterschiedliche Darstellung
auf der Karte.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQozyWTy46cMBRE+f/PSPZRsopGkTIzimbSTfNqDOZt8AObJtGkZ5NtpbqzQDYG7q1TdYm8VvC6wbYO2G2L3fQwk+S+g2pyTN0Za+DeVZj3GmKI0agcITQwtoLdu/vz6+8J77tCZLoSpk8QjMSmCswywenlFdf0GfbhC/qnr9BrjWFMIeYDiv4V1RRj9RWUSjEuOdSSwZsK21CwYJvDygxvN3Uzi8szdFdATyfsQ4K+fMVCdYPO0c8pdBBwq4ThmZpzFm4xryWaJWGDHNFlFAhdSlSJi6nRtSkOuYA6PcDHD1jyJ0wLm9iSl8A8F1hVCXdpqUzAmDOMl3ynQK1TRIHKAru5peJDdl2JrXk/UTnRgishjt9RZo9EF0TMYIYcmsg9i4wqgaXKcBnY7IxovYzoiaP0GbMlqm4hqwZ+OMGKH0RPkXz+gOTTR4xsVB0f0RQvd++EjmGpfnMSNkh+KxBt24iOXds5Y9EchhhTz2TFATp/5v4nFHFn+vtmOqqjjyw2GoqgBW4ssNPTxYl76tH7PiIwRWNropZYuhP6IoaujpgZzNj8oGcFsRrsil42CUZXYHA5vLv53nJtqbDBxOLR373HW6ix/eoRtprjU2IUCXzyBPvyDUvM8aG/tYqZYobpfGDa2T2kjU0CCb3r4X2NqYkRXWnkn+E2VzU849/XMzESrCvHYSqJzI+ZrDQnOPrcVynMXMPRgsXdyBpYqjRrB8376MpReWeSG1UGL3hYMPGcf0rJhCUcX7rhLfZ/cSmPmKaCRTlanMmFaWsr+ee0GLj+A2fJDrxMuIXjAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Punkte mit unterschiedlicher Intensität auf einer Heatmap."
        title="Punkte mit unterschiedlicher Intensität auf einer Heatmap."
        src="/static/350981d654ec2e1aef2cfe0ea08d8180/f058b/949.png"
        srcset="/static/350981d654ec2e1aef2cfe0ea08d8180/c26ae/949.png 158w,
/static/350981d654ec2e1aef2cfe0ea08d8180/6bdcf/949.png 315w,
/static/350981d654ec2e1aef2cfe0ea08d8180/f058b/949.png 630w,
/static/350981d654ec2e1aef2cfe0ea08d8180/40601/949.png 945w,
/static/350981d654ec2e1aef2cfe0ea08d8180/78612/949.png 1260w,
/static/350981d654ec2e1aef2cfe0ea08d8180/46115/949.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>Interaktive Heatmaps</h3>
<p>Besonders spannend sind Karten, wenn wenn man sie bearbeiten und somit verändern kann.
Auch eine Heatmap kann interaktiv programmiert werden.
Sie können es beispielsweise Benutzern ermöglichen,
Daten zur Heatmap Ebene hinzuzufügen.
Wie das geht sehen Sie im nachfolgenden Beispiel.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([50.1555 , 7.591838], 15);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var points = [];</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var heat = L.heatLayer(points,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> blur: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> maxZoom: 15,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> max: 1.0,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> radius: 25,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> gradient: {0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function addpoint(e){</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat.addLatLng(e.latlng);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*mymap.on(&#39;click&#39;, addpoint);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_959.html--&gt;</span></span></code></pre>
<p>Was haben wir genau gemacht?
Als erstes haben wir mit der Zeile <code class="language-text">&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</code>
das Plugin <code class="language-text">leaflet.heat</code> eingebunden. In diesem konkreten Beispiel ist es wichtig,
dass ein Doppelklick keine Änderung der Zoom-Stufen auf der Karte auslöst.
Deshalb stellen wir sicher, dass jemand nicht versehentlich zu schnell klickt
und ungewollt die Zoom-Stufe ändert, obwohl er eigentlich zwei Punkte hinzufügen
möchte.
Dies verhindern wir, indem wir die Option <code class="language-text">doubleClickZoom</code> auf <code class="language-text">false</code> setzen.
Zu Beginn sollen in unserem Beispiel noch keine Daten auf der Karte angezeigt werden.
Deshalb haben wir zunächst einen leeren Datensatz mit <code class="language-text">var points = [];</code> erstellt.
Diesen leeren Datensatz geben wir einem <code class="language-text">L.heatLayer</code> Objekt bei der
Instanziierung als Parameter mit: <code class="language-text">var heat = L.heatLayer(points, {…}</code>.
Nun fehlt noch die Methode, mit der ein Punkt hinzugefügt wird.
Diese Methode ist mit der Anweisung
<code class="language-text">function addpoint(e){ heat.addLatLng(e.latlng); }</code> schnell erstellt.
Und <code class="language-text">mymap.on(&#39;click&#39;, addpoint);</code> bewirkt, dass diese auch ausgeführt wird,
wenn jemand auf die Karte klickt.</p>
<p>Das Ergebnis sehen Sie im Browser, wenn Sie die HTML Datei dieses Beispiels öffnen.
Zunächst wird die Karte ganz normal angezeigt. Sie sehen keinen Wärmepunkt.
Wenn Sie mit der Maus eine Stelle auf der Karte klicken,
wird an dieser Koordinate ein Wärmepunkt hinzugefügt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACp0lEQVQozy2SWVfiWBRG+fn9A9pVXYoDyypFEKVEoCxEKcFGGUKAhDFkIAkhjA5Vz7tP2/1wH5KVfOc7e9+I57k8dM+50+Lke0lutDNy+hn5/8+NnqA8yPPYvuahdk6uJ991TmhNHvDDCZulxWblspAz9lUi6rBOsh0jW/vM+dMOCWWPs9Znkq0op8onrloxnMGYoNmnWIpx0vyTXPuUX5sFv7YhWwlar0a8LE3eVjaRyuBGft4nrcfJNQ/ISlhJzdBR/+a5VaCtVfH6Br27MrdXu2S7ByiTIhOvThDobBYGwWzMeNzGtnpEcmqcVF3aNfe40r9QUw7w+08szRGb6ZiF0cU3apTje5yk/yCjHwueLA3jh4Q50sxl5loYhollScN77YKUIpPbh2TVXapKlHA24GU943U7JfSGzII+i16D7+UDEuo+2c5X/GDA23r+sfLct3Bsk8CziDwOrkh3oly3j0gIt0J9B8dp8b5d8LLyed0EEhzyGtjcVY5IqlGR8pX1wpahwX+hy6k8e6zmDpGf2jXJ5u4Hx0sRkq1/Qhnd83uzZhGarENHLE55DyyqjyccKzvcdE95lw2WEqrZtY/V/y0QhtLwe/eMdHufvHKIqqXIi/HnUZGpp+F6XZnuspxPmU10Os9ZStollrz3A4PKqCBlopT6GX72r7nXL4kU9CTZ5l/8EBmBW+XZukCfVKn1sgTzsfBxsE2T4bCD2apIU5eJ35OgGPHGLhdKTITGSIjUlNySyFM/xVPvnEznmKFdpDlNi6BTGoNbbLeN69iYpi3Qx4SawjZwcOcDxtMG9XGBb6qwl0KXwj/dOiSi+QXeQhXDv2XmVSgbCYpaRnjYAtyXdV1Me0hzcs+qr/I690TUjPfVjN/bJa7YVqwHSoNvcluO+AfRwu7dAhlsqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde."
        title="Die Leaflet Karte dieses Beispiels, nachdem mit der Maus einmal auf sie geklickt wurde."
        src="/static/8e1b278f9d950e3422dad945eb9cb9bc/f058b/951.png"
        srcset="/static/8e1b278f9d950e3422dad945eb9cb9bc/c26ae/951.png 158w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/6bdcf/951.png 315w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/f058b/951.png 630w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/40601/951.png 945w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/78612/951.png 1260w,
/static/8e1b278f9d950e3422dad945eb9cb9bc/46115/951.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>Animierte Heatmaps</h3>
<p>Das ist fast wie Kino – im nächsten Beispiel verändert sich die Karte automatisch.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;leaflet-heat.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([50.1555 , 7.591838], 10);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var points = [];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var points1 = [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.1555 , 7.591838 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var points2 = [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.0371 , 7.618306 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var points3 = [</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088 , 7.65159 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*...</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*[50.088041 , 7.652033 ]</span></span>
<span class="grvsc-line"><span class="grvsc-source">*];</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var heat = L.heatLayer(points).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x=1;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var name=&#39;&#39;;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var interval = setInterval(function(){run()},2000);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function run(){</span></span>
<span class="grvsc-line"><span class="grvsc-source">*mymap.removeLayer(heat);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*name=&quot;points&quot;+x.toString();</span></span>
<span class="grvsc-line"><span class="grvsc-source">*heat = L.heatLayer(</span></span>
<span class="grvsc-line"><span class="grvsc-source">*window[name],</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{blur:15,maxZoom:10,radius:25,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*gradient:{0.4: &#39;blue&#39;, 0.65: &#39;lime&#39;, 1: &#39;red&#39;}})</span></span>
<span class="grvsc-line"><span class="grvsc-source">*.addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*if (x == 3)</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x=1;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*else</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x++;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_958.html&gt;</span></span></code></pre>
<p>Wie entsteht die Animation im Beispiel genau? Als erstes integrieren wir wieder
die notwendigen Skripte. Danach erstellen wir die vier Daten-Arrays und nennen diese
<code class="language-text">points</code>, <code class="language-text">points1</code>, <code class="language-text">points2</code> und <code class="language-text">points3</code>. Jedes Array enthält unterschiedliche
Daten. Mit dem ersten leeren Array erstellen wir die Schicht mit den Daten für
die Heatmap - also das Objekt des Typs <code class="language-text">heatLayer</code>.
Die Hilfsvariable <code class="language-text">x</code> in Verbindung mit der Methode <code class="language-text">setIntervall()</code>
ermöglicht es uns dann, die Heatmap Ebenen fortlaufend mit anderen Daten
zu belegen und somit andere Daten anzuzeigen.</p>
<blockquote>
<p>In diesem Beispiel habe ich zwei
JavaScript Elemente verwendet, die vielleicht erklärungsbedürftig
sind. Als erstes habe ich den Variablennamen mit <code class="language-text">window[name]</code> zusammengesetzt.
Was bedeutet dies genau? Da es sich um JavaScript Objekte handelt,
wird jede Variable in einem globalen JavaScript Object gespeichert.
Wenn Sie also die Variable <code class="language-text">points1</code> im globalen Bereich initialisieren –
also nicht in einem Funktionskontext –,
dann schreiben Sie diese Variablen implizit in ein
globales Objekt. In einem Browser ist dies das <a href="https://developer.mozilla.org/de/docs/Web/API/Window">Objekt
<code class="language-text">window</code></a><sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup>.
Der Wert dieser Variablen kann mit der Punkt Notation oder der Klammer Notation
abgerufen werden. Also entweder mit var <code class="language-text">name = window.points1;</code> oder mit
<code class="language-text">var name = window[&#39;points1&#39;];</code>.
Außerdem haben wir die <a href="https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval">Methode <code class="language-text">setInterval()</code></a><sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup>
eingesetzt. Mit dieser Methode können Sie eine Funktion
wiederholt aufrufen. Hierbei können Sie ein Intervall zwischen den
einzelnen Aufrufen definieren.</p>
</blockquote>
<p>So wie im nachfolgenden Bild sieht die Karte nur alle 6 Sekunden aus.
In der Zwischenzeit wechselt die Ansicht zweimal.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbUlEQVQozx1TOY7UUBT0MYggJkVizsAdOAEJpIREXACOgJCQSBARE4wGDbN0u9vt/Xv/m/+3e5kMibAod2B5e66qV1UO/FFBTgLDnKPZp7CHGk5XMGMNawXaMsbQZehUikrG6IYIUmVQuoQ3An7uoKYayreQvkBgJgLZGJXdoh63aFyCzmQESTFKASkIFK0gypDvNyh9hNZFaOo1uvyBcwl6m6H1GWq9Q7AoGgiqCWTJMEwpOh3DDymOpsLcx2jFHYrsBpUKkasNCamU895VcKqiYpJOO3RjhGA6NJAmgZ4WsBLDmGKyCU42x+NYYjRb9HqD2OdoDwLWcV1fQlLNwBk9l+h7XhNMcMPA7ht0/fbsS78MyS08V9jPBayOaEWMm+I3rj++xeryC/xRwtgdFIk6nUASsOX3PZ+VZoNA7clgcgZANZ6huB1a+tnoNZpTjatvn5FfPIV9EiB99RLtqYEe6Zvnipbr2wi1WSNv1yhliEAuHkoG4Jtz0vUi3YbnkPRfj/DTB/wLAoBH/eIZ1sU1qnHHGZISMFcPqLoVFD0XVBrIfYXBUbZMULktMnmPwoR8lmE8dNisLhG9f4Pm4jl+vnuNP7++QpwyFBMD4lxSUt3DLVQWw7YpPRzZQZui70L6EKJU67M6MwsmT9C9gnp0uI9u8OPqOzK2IG5X2LFGmSAxuyl2K5SsVhPfLSszFIINwxaViVAMG/ROoB8q6MVbU0AyeTHTK8dKqYQdpB11ivnUYnIFZp3BmKW3LHa/VIWxNy4+l3PgR3op+5jx3JzrJBjUcr/Mana1bbgByfbHDo4/wbwkLSP+XRX+Ay5h/5dVULSdAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen `point1`."
        title="Eine Heatmap mit wechselnden Daten - hier sehen Sie die Daten der Variablen `point1`."
        src="/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png"
        srcset="/static/e718f8cd2898673e7ae0b8b423fbb914/c26ae/950.png 158w,
/static/e718f8cd2898673e7ae0b8b423fbb914/6bdcf/950.png 315w,
/static/e718f8cd2898673e7ae0b8b423fbb914/f058b/950.png 630w,
/static/e718f8cd2898673e7ae0b8b423fbb914/40601/950.png 945w,
/static/e718f8cd2898673e7ae0b8b423fbb914/78612/950.png 1260w,
/static/e718f8cd2898673e7ae0b8b423fbb914/46115/950.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h2>Choroplethenkarte</h2>
<p>Im vorherigen Kapitel haben wir eine Heatmap zum visualisieren von Daten verwendet.
Wir haben zunächst mithilfe des Plugin <code class="language-text">leaflet.heat</code> Bereiche,
in denen Punkte dichter vorkommen, farblich hervorgehoben.
Dann haben wir zusätzlich das Plugin <code class="language-text">heat.js</code> geladen und Bereiche,
in denen die Punkte eine hohe Intensität haben, farblich besonders markiert.</p>
<p>Eine <a href="https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569">Choroplethenkarte</a><sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup>
macht erst einmal nichts anderes.
Sie visualisiert die Dichte oder die Intensität bestimmter Objekte.
Sie tut dies aber auf eine andere Art und Weise als die Heatmap.</p>
<h3>Was genau unterscheidet eine Choroplethenkarte von einer Heatmap?</h3>
<p>Ich hatte Ihnen erklärt, das eine Heatmap ein Raster über die Karte legt. Je nachdem wie die zu visualisierenden Punkte in diesem Raster verteilt sind, werden Farben sichtbar. Eine Choroplethenkarte verwendet kein separates Raster. Sie verwendet ein Polygon. Ein Polygon kann zum Beispiel ein Land oder das Einzugsgebiet eines Unternehmens sein. Im Kapitel <em>Die Karte mit Daten bestücken</em> hatte ich die Besonderheit eines Polygons beschrieben.
Dieses Vieleck hat eine Grenzlinie die einen Innenbereich und einen Außenbereich voneinander abgrenzt. Eine populäre Choroplethenkarte, die Sie sicherlich schon einmal gesehen haben, ist die Darstellung der Bevölkerungsdichte eines Gebietes auf der Erde. Ich habe hier ein Beispiel erstellt, welches genau dies tut. Ich zeige Ihnen, wie Sie eine Karte, die die Verteilung der Bevölkerung in Rheinland-Pfalz grafisch darstellt, selbst erstellen können.</p>
<h3>Choroplethenkarten in Leaflet</h3>
<p>Das Schöne ist, dass wir mit Leaflet keine zusätzlichen Plugins für das
Erstellen einer Choroplethenkarte benötigen.
Leaflet ist wie dafür gemacht, GeoJSON Daten als Choroplethenkarte anzuzeigen.
Beginnen tun wir ganz vorne mit dem Klären der Frage: Wo bekommen Sie die Daten her?</p>
<h4>Open Data</h4>
<p>Wenn Sie nicht selbst über Daten verfügen, können sie auf jede Menge
offener Data zugreifen.</p>
<blockquote>
<p><a href="https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018">Open Data</a><sup id="fnref-14"><a href="#fn-14" class="footnote-ref">14</a></sup>,
also offene Daten, sind Daten, die von jedem ohne jegliche
Einschränkungen verwendet und weitergegeben werden dürfen. Warum
gibt es Open Data? Viele Menschen vertreten die Meinung, dass frei
nutzbare Daten zu mehr Transparenz und Zusammenarbeit führen. Die
Bereitstellung offener Daten durch öffentliche Einrichtungen wird
als eine Voraussetzung für
<a href="https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228">Open Government</a><sup id="fnref-15"><a href="#fn-15" class="footnote-ref">15</a></sup>,
also der Öffnung von Regierung und Verwaltung
gegenüber der Bevölkerung und der Wirtschaft, angesehen. Die
Befürworter von Open Data teilen somit viele Argumente mit den
Befürwortern von <a href="https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330">Open-Source</a><sup id="fnref-16"><a href="#fn-16" class="footnote-ref">16</a></sup>.
Open Data und Leaflet als Open Source Software passen gut zusammen.</p>
</blockquote>
<p><a href="http://opendatalab.de/projects/geojson-utilities/">GeoJSON Utilities</a><sup id="fnref-17"><a href="#fn-17" class="footnote-ref">17</a></sup>
ist ein Projekt, welches den Export von Gemeindeflächen, Landkreisflächen und
Bundeslandflächen in Deutschland im GeoJSON Format ermöglicht.
Jede exportierte Fläche enthält zusätzliche Eigenschaften wie die Einwohnerzahl
und die Größe der Fläche in Quadratmetern.
Ich habe diese Daten für Rheinland-Pfalz in eine Datei exportiert.
Im nächsten Beispiel zeige ich Ihnen, wie Sie mithilfe dieser Datei
eine Chorophletenkarte erstellen können.
<a href="http://opendatalab.de/projects/geojson-utilities/">GeoJSON Utilities</a>
ist übrigens auch eine mit Leaflet erstellte Anwendung.</p>
<p>Die Datei, die ich heruntergeladen haben, ist relativ groß.
Deshalb habe ich die Daten in einer separaten Datei abgelegt.
Ich schlage Ihnen vor, dies auch zu tun.
So bleibt Ihre HTML-Datei übersichtlich und Sie können sich voll und ganz auf das
Erstellen der Karte konzentrieren.
Wenn Sie die Daten in einer JavaSript Datei ablegen,
können Sie diese gleichzeitig als Variabel deklarieren.
Wie das geht, zeigt ihnen das nachfolgende Beispiel.
Zunächst sehen Sie die Datei, die die GeoJSON Daten enthält.
Dieser Datei habe ich den Namen <code class="language-text">gemeinden.js</code> gegeben.
Die GeoJSON Daten werden in der Datei <code class="language-text">gemeinden.js</code> in die Variable <code class="language-text">ct</code> geladen.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">*var ct =</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;type&quot;:&quot;**FeatureCollection**&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;crs&quot;:{</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;type&quot;:&quot;name&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;properties&quot;:{&quot;name&quot;:&quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;}},</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;source&quot;:&quot;© GeoBasis-DE / BKG 2013 (Daten verändert)&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;features&quot;:[</span></span>
<span class="grvsc-line"><span class="grvsc-source">*{&quot;type&quot;:&quot;Feature&quot;,**</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;properties&quot;:</span></span>
<span class="grvsc-line"><span class="grvsc-source"> {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;ADE&quot;:6,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;GF&quot;:4,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;BSG&quot;:1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;RS&quot;:&quot;073345001001&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;AGS&quot;:&quot;07334001&quot;,&quot;SDV_RS&quot;:&quot;073345001001&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;GEN&quot;:&quot;Bellheim&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;BEZ&quot;:&quot;Gemeinde&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;IBZ&quot;:64,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;BEM&quot;:&quot;gemeinschaftsangehörig&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;NBD&quot;:&quot;ja&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;SN_L&quot;:&quot;07&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;SN_R&quot;:&quot;3&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;destatis&quot;:{</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;RS&quot;:&quot;073345001001&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">* &quot;area&quot;:20.44,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;area_date&quot;:&quot;31.12.2014&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">* &quot;population&quot;:8519,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;population_m&quot;:4198,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;population_w&quot;:4321,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;population_density&quot;:417,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;zip&quot;:&quot;76756&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  &quot;center_lon&quot;:&quot;8,284042&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">  ..,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&quot;geometry&quot;:{</span></span>
<span class="grvsc-line"><span class="grvsc-source">* &quot;type&quot;:&quot;Polygon&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">* &quot;coordinates&quot;:**[[[8.276302148832034,49.21145214735215],</span></span>
<span class="grvsc-line"><span class="grvsc-source">   [8.295112386392997,49.21205183793759],</span></span>
<span class="grvsc-line"><span class="grvsc-source">  ...</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ]]}},</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">*{&quot;type&quot;:&quot;Feature&quot;,*</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;properties&quot;:{&quot;ADE&quot;:6,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;GF&quot;:4,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;BSG&quot;:1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;RS&quot;:&quot;073405003205&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;AGS&quot;:&quot;07340205&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &quot;SDV_RS&quot;:&quot;073405003205&quot;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> ...</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--gemeinden.js&gt;</span></span></code></pre>
<p>In den Properties der einzelnen GeoJSON
Features sind unter anderem der Regionalschlüssel (<code class="language-text">RS</code>), der
geographische Name (<code class="language-text">GEN</code>), die amtliche Bezeichnung der
Verwaltungseinheit (<code class="language-text">BEZ</code>) und die Destatis-Daten – insbesondere die Werte für
die Größe der Fläche in Quadratmetern (<code class="language-text">area</code>) und die Einwohnerzahl (<code class="language-text">population</code>) –
enthalten. Das vorherige Programmcodebeispiel zeigt nur einen Ausschnitt
der Datei <code class="language-text">gemeinden.js</code>. Beachten Sie, dass es sich nicht um reines GeoJSON handelt.
Ganz genau handelt es sich um JavaScript.
Dieser JavaScript Code deklariert eine Variable, nämlich die Variable <code class="language-text">ct</code>.
Einbinden können Sie die JavaScript Datei genau wie jedes andere Skript in Ihre
HTML-Datei mit der Zeile</p>
<p><code class="language-text">&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</code></p>
<p>Wenn die Datei <code class="language-text">gemeinden.js</code> richtig eingebunden ist,
können Sie auf die GeoJSON Daten in dieser Datei ab nun über die Variable <code class="language-text">ct</code>
zugreifen.</p>
<h4>Farben</h4>
<p>Der nächste Schritt zum Fertigstellen der Choroplethenkarte ist die Farbauswahl.
Beim Erstellen der Heatmaps im vorhergehenden Kapitel haben wir Farben übergeben
und das jeweilige Plugin hat diese entsprechend zugewiesen.
Beim Erstellen der Choroplethenkarte müssen wir uns selbst um diese Aufgabe kümmern.
Deshalb definieren wir eine Funktion,
die je nach Wert eine bestimmte Farbe errechnet und zurück gibt.
Idealerweise kennen Sie den höchsten Wert und den niedrigsten Wert in der Datenmenge.
Dann können Sie, je nach Verteilung der Werte,
bestimmten Wertbereichen eine Farbe zuordnen.</p>
<p>Der nachfolgende Programmcodeausschnitt nimmt den Parameter <code class="language-text">x</code> entgegen und
berechnet anhand des Wertes dieses Parameters eine Farbe.
Die Funktion <code class="language-text">color(x)</code> gibt bei einem höhere <code class="language-text">x</code> Werte eine dunklere Farben aus.
Bei einem niedrigeren <code class="language-text">x</code> Wert gibt die Funktion eine hellere Farben zurück.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">function color(x) {</span></span>
<span class="grvsc-line"><span class="grvsc-source">return x &gt; 1000 ? &#39;#990000&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 750 ? &#39;#d7301f&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 500 ? &#39;#ef6548&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>
<span class="grvsc-line"><span class="grvsc-source">}</span></span></code></pre>
<h4>Stile</h4>
<p>Nun benötigen wir noch eine Funktion, die das Zuweisen des passenden CSS
Stylesheets zu den Daten übernimmt.
Nur so können wir jedes GeoJSON Feature individuell ansehen und
ihm den passenden Stil zuweisen. Im nachfolgenden Programmcodeausschnitt
sehen Sie eine Funktion, die als Parameter ein GeoJSON Feature erwartet.
Je nach Eigenschaft im Feature gibt die Funktion die passenden Optionen zurück.
Sie erkennen sicherlich sofort, dass die wesentliche Option die mit dem Namen
<code class="language-text">fillColor</code> ist.
Hier ist genau die Stelle, an der wir die eben erstellte Funktion <code class="language-text">color()</code>
aufrufen und dieser als Parameter den Wert <code class="language-text">feature.properties.destatis.population</code>,
also die Bevölkerungsanzahl, mitgeben.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">function myStyle(feature) {</span></span>
<span class="grvsc-line"><span class="grvsc-source">return {</span></span>
<span class="grvsc-line"><span class="grvsc-source">fillColor: color(feature.properties.destatis.population),</span></span>
<span class="grvsc-line"><span class="grvsc-source">weight: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">opacity: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">color: &#39;white&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">fillOpacity: 0.85</span></span>
<span class="grvsc-line"><span class="grvsc-source">};</span></span>
<span class="grvsc-line"><span class="grvsc-source">}</span></span></code></pre>
<h4>Das vollständige Beispiel</h4>
<p>Nachfolgenden habe ich die gerade besprochenen Codeschnipsel in einem
vollständigen Beispiel zusammengesetzt.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([49.9555 , 7.591838], 8);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function color(x) {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*return x &gt; 1000 ? &#39;#990000&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 750 ? &#39;#d7301f&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 500 ? &#39;#ef6548&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source">*x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function myStyle(feature) {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*return {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*fillColor: color(feature.properties.destatis.population),</span></span>
<span class="grvsc-line"><span class="grvsc-source">*weight: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*opacity: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*color: &#39;white&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*fillOpacity: 0.85</span></span>
<span class="grvsc-line"><span class="grvsc-source">*};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source">*var geoJsonLayer = L.geoJson(ct, {style: myStyle}).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_957.html--&gt;</span></span></code></pre>
<p>In Ihrem Browser sollte die Karte nun so wie in der nächsten Abbildung aussehen.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACk0lEQVQozx1TSWsUQRidfyhePHgQD3rJRb0oKl4UDUYJcUtEEQyIBwNKjGBIJGCUGCeZpXt67+mupaurezqTqEHPz9c5FNTyVX1vq05jJGodYGJTNMLD1ESYqBhHZQybjpAFfdg6gbIRUusiLh3IOkBhfRgTQFUh5yEa1vy2Y3RU5GDs7qIp+KgaQYd9FH4ftXBRxT14zg50EyP49A7O/ibS2oUsRzDWg8h7yOUQQg2Q6yGKqIdOlY1Q8oEjFWKqPahwADl2EOV77Ooj3FyF9/oZxJNZpOsrEKUHnTsoygB5wbtEqasAoehx7KMzyX1UY9KSRES6uexDGhci2oXZ+wy5eA8bp09heOsq11sQbFJmQ5STEEL7EOM9qLKlHyKRDhFWY8LnhiIFboiWTuFjuv4GZvEOzPIC/NvXkL2aR5F3EaVdJM6Pk1pf9ZDJwYmW9iCFkiN0DM2ICDeiDq0WJTsZ5eBoZw3i6V241y/hYGUJ4dIcdudn4W+uIQp2kecDhHofKhtgSgCamirlonPY5NDUIhVDdhtSPxbRkOzbOnZmLiK8fwP65Rzk8zkML88g/PAWdhoj1T0oQ/r5iCnxT3SULcK/BxkOaX09iVEYj7TomN9F/nMLycZ7OveTdBcwuHkF3y+cR/fJPBJKlBZMArWrbYyKLG1N/WOacky3jknV1iGqSYDGjmCJshVZqQAJY+S9eITtM6exfe4sH3wIU0XQZGQYNVuPUer4xG0lW8qE+SfpshPh093SsJD5ssLhcGF4ng6/IlpdxujxA3hfPqIgIyM9ZG0ayErrNtwJ5wE6/wj1FwVtnS75E1TpomBIG64nPBPs2oa2ahKkcR8h8ymodervc9/hT/Eg6cHEBsjKEP8BbV3762VgrSwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz."
        title="Choroplethenkarten - Verteilung der Bevölkerung in Rheinland-Pfalz."
        src="/static/f0ce0368e2fc640645ca0970c55394fe/f058b/947.png"
        srcset="/static/f0ce0368e2fc640645ca0970c55394fe/c26ae/947.png 158w,
/static/f0ce0368e2fc640645ca0970c55394fe/6bdcf/947.png 315w,
/static/f0ce0368e2fc640645ca0970c55394fe/f058b/947.png 630w,
/static/f0ce0368e2fc640645ca0970c55394fe/40601/947.png 945w,
/static/f0ce0368e2fc640645ca0970c55394fe/78612/947.png 1260w,
/static/f0ce0368e2fc640645ca0970c55394fe/46115/947.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>In diesem Beispiel haben wir einen festen Wert ganz unabhängig von anderen Werten
verwendet. Wir haben die Bevölkerungszahl unabhängig von der Flächengröße
der Gemeinde als Wert für die Farbe verwendet.
In dieser Karte können wir zwar ablesen, wo die Gemeinden mit hoher Bevölkerungszahl
sich befinden und wo die Gemeinden mit niedriger Bevölkerungsanzahl sind.
Wie dicht die Besiedelung ist, sagt diese Karte aber nicht aus.
Hierzu müssten wir die Bevölkerungszahl noch relativ zur Fläche der Gemeinde setzten.
Dies tun wir nun im nächsten Beispiel.</p>
<h3>Normalisierte Choroplethenkarten</h3>
<p>Es kommt sicherlich sehr oft vor, dass Sie mit einer Choroplethenkarten
nicht nur einen absoluten Wert darstellen möchten.
Oft möchten Sie die Daten zu anderen Daten ins Verhältnis stellen.
Zum Beispiel könnten Sie den Anteil von Menschen,
die älter als 60 Jahre sind, darstellen wollen.
Da Geodaten einen Bezug zu einer Fläche haben, wird es in der Regel so sein,
dass Sie die Daten in Relation zu dieser Fläche visualisieren möchten – diese also
normalisieren möchten.</p>
<p>In unser GeoJSON Datei ist die Fläche der Gemeinde in der Eigenschaft
<code class="language-text">area</code> gespeichert. Wir können es uns also einfach machen und auf die Zahl
die für die Fläche einer Gemeinde gespeichert ist, zugreifen.
Um die Choroplethenkarte, die wir im vorhergehenden Kapitel erstellt haben zu
normalisieren, ist somit nur ein Schritt –
nämlich das Teilen der Bevölkerungsanzahl durch die Fläche des betreffenden Bereichs –
erforderlich. Sehen wir uns das ganze Beispiel zusammenhängend an.</p>
<pre class="grvsc-container solarized-light" data-language="" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"> &lt;!DOCTYPE HTML&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;html lang=&quot;de&quot;&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;meta charset=&quot;utf-8&quot;/&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;title&gt;Eine OSM Karte mit Leaflet&lt;/title&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;link rel=&quot;stylesheet&quot; href=&quot;../leaflet/leaflet.css&quot; /&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;../leaflet/leaflet.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;script src=&quot;gemeinden.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/head&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;total()&quot;&gt;Population&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">*&lt;button onclick=&quot;density()&quot;&gt;Population/Fläche&lt;/button&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;div style=&quot;height: 700px;&quot; id=&quot;mapid&quot;&gt;&lt;/div&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var mymap = L.map(&#39;mapid&#39;, {doubleClickZoom:false}).setView([49.9555 , 7.591838], 8);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> L.tileLayer(&#39;http://{s}.tile.osm.org/{z}/{x}/{y}.png&#39;).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> function color(x) {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> return x &gt; 1000 ? &#39;#990000&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 750 ? &#39;#d7301f&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 500 ? &#39;#ef6548&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 250 ? &#39;#fc8d59&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 200 ? &#39;#fdbb84&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 100 ? &#39;#fdd49e&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }</span></span>
<span class="grvsc-line"><span class="grvsc-source"> function densityColor(x) {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> return x &gt; 500 ? &#39;#990000&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 400 ? &#39;#d7301f&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 300 ? &#39;#ef6548&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 200 ? &#39;#fc8d59&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 100 ? &#39;#fdbb84&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 50  ? &#39;#fdd49e&#39; :</span></span>
<span class="grvsc-line"><span class="grvsc-source"> x &gt; 0   ? &#39;#fee8c8&#39; :&#39;#fff7ec&#39;;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }</span></span>
<span class="grvsc-line"><span class="grvsc-source"> function myStyle(feature) {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> return {</span></span>
<span class="grvsc-line"><span class="grvsc-source"> fillColor: color(feature.properties.destatis.population),</span></span>
<span class="grvsc-line"><span class="grvsc-source"> weight: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> opacity: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> color: &#39;white&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source"> fillOpacity: 0.85</span></span>
<span class="grvsc-line"><span class="grvsc-source"> };</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }</span></span>
<span class="grvsc-line"><span class="grvsc-source">*function myDensityStyle(feature) {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*return {</span></span>
<span class="grvsc-line"><span class="grvsc-source">*fillColor:</span></span>
<span class="grvsc-line"><span class="grvsc-source">*densityColor(feature.properties.destatis.population/feature.properties.destatis.area),</span></span>
<span class="grvsc-line"><span class="grvsc-source">*weight: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*opacity: 1,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*color: &#39;white&#39;,</span></span>
<span class="grvsc-line"><span class="grvsc-source">*fillOpacity: 0.85</span></span>
<span class="grvsc-line"><span class="grvsc-source">*};</span></span>
<span class="grvsc-line"><span class="grvsc-source">*}</span></span>
<span class="grvsc-line"><span class="grvsc-source"> function total(){</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var geoJsonLayer = L.geoJson(ct, {style: myStyle}).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> removeLayer(densitylayer);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }</span></span>
<span class="grvsc-line"><span class="grvsc-source"> function density(){</span></span>
<span class="grvsc-line"><span class="grvsc-source"> var densitylayer=L.geoJson(ct, {style: myDensityStyle}).addTo(mymap);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> removeLayer(geoJsonLayer);</span></span>
<span class="grvsc-line"><span class="grvsc-source"> }</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/script&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/body&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source"> &lt;/html&gt;</span></span>
<span class="grvsc-line"><span class="grvsc-source">&lt;!--index_956.html--&gt;</span></span></code></pre>
<p>Das vorhergehende Codebeispiel baut auf dem davor erstellten Codebeispiel auf.
Neben der <code class="language-text">style</code> Funktion fügen wir eine weitere Funktion,
nämlich die Funktion <code class="language-text">densityStyle()</code>, ein.
Die Funktion <code class="language-text">densityStyle()</code> gibt, wie der Name schon sagt,
die Farbe für die <em>relative Angabe</em> zurück.
Damit wir die Choroplethenkarten Ebenen der beiden vorhergehenden Beispiele
vergleichen können,
habe ich eine Schaltfläche in das HTML Dokument integriert.
Je nachdem welche Schaltfläche angeklickt wird, wird die passende Formel ausgeführt.
Einmal die, die absoluten Werte anzeigt, ein anderes mal die,
die die relativen Werte ausgibt.</p>
<p>Nun werden Sie feststellen, dass viele große Bereiche in ländlichen Gegenden,
nicht mehr dunkel eingefärbt sind. Im ersten Beispiel,
in dem wir mit den absoluten Zahlen gearbeitet haben,
waren diese Bereiche teilweise dunkel.
Die Bevölkerungszahl ist aber in Relation zur Fläche dort gar nicht hoch.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACUklEQVQozx2SSW8TQRBG/d+5cUKIAxIcEIKQW0AcCMGBRMFR7Hgdz+Kxe5aenh7PeIuXLAQlehQ5lFrq6q5631dVq4qc0qbYPKFIQm42c643S27Wcq4q1hK76wVX2zmLbSkxZbWbsd5UbORuI7nNbs7tzZI/1ytqZuKR+E3K3KeM+2SjDrnfYaGHpMMmTueMxLjE4xYD1cDPLomsvDMDoqjNJO0SJR1s5lCEPWr5xJGPbZY6YJG5ZEEfPeoTxx3mekDYb1BlXW7d72T+KbEdSjEXYz1iyVsbkFqXUdpBqQ61KnIphWqWulTGJ1FdUukWqkuK0mXd/IJ5/Yztr0/Mowsi7WCjPnk1Isk8slQACl8oB/i6S600IYUZYkWiEcI4lwe5x5V1uLMtHrUQ7r9gebxHVXko00OPu2ihCqVYJEoyoZzOFHE0EMnTCZNMEoIfZz2MeFlIPMyHPJhz7qMTHqsuu+SM4OcB7nkdv/dbCvVwsxY66T8pM1MfnToiuVQo3SdIxFzdEwkDIXVYqBa704/8VT+4Txrs2l9Z7r8kb9fRxiGS5pGcuRowM57IdtGisrZdRFTWJxeqRPxJJ23UsIV1G6wGh6xkqnfeEXf+Edvj9wSf94grn7HpUsi/MgtEUUhejojEitp1FbKZeuJBSFkFsj7i5aiFSWVtZFBKVmF1ccDi2xvKd88Zvn2FEo+12DT9750oLPIxhQwmHrepXQnmJmzK+D0JR2hln8Roq2WCqo/yLpn26uzUCev6B3TzEFsE5LHztJ9ZHmBk5YwNSaTRPwn1yS54eydDAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz."
        title="Choroplethenkarten - Dichte der Bevölkerung in Rheinland-Pfalz."
        src="/static/925839c06e4b9cc52211f0b8a3f22037/f058b/948.png"
        srcset="/static/925839c06e4b9cc52211f0b8a3f22037/c26ae/948.png 158w,
/static/925839c06e4b9cc52211f0b8a3f22037/6bdcf/948.png 315w,
/static/925839c06e4b9cc52211f0b8a3f22037/f058b/948.png 630w,
/static/925839c06e4b9cc52211f0b8a3f22037/40601/948.png 945w,
/static/925839c06e4b9cc52211f0b8a3f22037/78612/948.png 1260w,
/static/925839c06e4b9cc52211f0b8a3f22037/46115/948.png 1290w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h2>In diesem Kapitel haben wir …</h2>
<p>In diesem Kapitel haben Sie alles das,
was Sie in den ersten Teilen kennengelernt haben, zum visualisieren eingesetzt.
Sie haben Plugins kennen gelernt, die Sie beim Erstellen von Heatmaps unterstützen.
Sie können nun eine Heatmap erstellen, mit der interagiert werden kann.
Außerdem können Sie eine animierte Heatmap erstellen.
Sie kennen die Besonderheiten von Choroplethenkarten und wissen,
wann absolute und wann relative Werte sinnvoll sind.
Sie können nun die Anzeige von absoluten und relativen Werten selbst umsetzten.</p>
<p>Im nächsten Kapitel werden wir noch einmal den Schwerpunkt auf
die individuelle Gestaltung setzten.
Hier geht es um benutzerdefinierte Marker.</p>

      <div class="footnotes">
        <hr/><strong>References:</strong>
        <ol >
    
    <li class="footnote-list-item" id="fn-1" >
          
        
      <a href="#fnref-1" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051">https://de.wikipedia.org/w/index.php?title=Heatmap&#x26;oldid=181851051</a> (<a href="https://bit.ly/2QfyE7m">https://bit.ly/2QfyE7m</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-2" >
          
        
      <a href="#fnref-2" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162">https://de.wikipedia.org/w/index.php?title=Kerndichtesch%C3%A4tzer&#x26;oldid=182712162</a> (<a href="https://bit.ly/2TgsRjy">https://bit.ly/2TgsRjy</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-3" >
          
        
      <a href="#fnref-3" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035">https://de.wikipedia.org/w/index.php?title=Kalte_Farbe&#x26;oldid=182760035</a> (<a href="https://bit.ly/2ApvMiS">https://bit.ly/2ApvMiS</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-4" >
          
        
      <a href="#fnref-4" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311">https://de.wikipedia.org/w/index.php?title=Warme_Farbe&#x26;oldid=137765311</a> (<a href="https://bit.ly/2Qb78I7">https://bit.ly/2Qb78I7</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-5" >
          
        
      <a href="#fnref-5" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://github.com/Leaflet/Leaflet.heat">https://github.com/Leaflet/Leaflet.heat</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-6" >
          
        
      <a href="#fnref-6" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="http://leafletjs.com/plugins.html#heatmaps">http://leafletjs.com/plugins.html#heatmaps</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-7" >
          
        
      <a href="#fnref-7" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="http://colorbrewer2.org">http://colorbrewer2.org</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-8" >
          
        
      <a href="#fnref-8" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="http://leaflet.github.io/Leaflet.heat/demo/draw.html">http://leaflet.github.io/Leaflet.heat/demo/draw.html</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-9" >
          
        
      <a href="#fnref-9" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://github.com/pa7/heatmap.js">https://github.com/pa7/heatmap.js</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-10" >
          
        
      <a href="#fnref-10" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html">https://www.patrick-wied.at/static/heatmapjs/plugin-leaflet-layer.html</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-11" >
          
        
      <a href="#fnref-11" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://developer.mozilla.org/de/docs/Web/API/Window">https://developer.mozilla.org/de/docs/Web/API/Window</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-12" >
          
        
      <a href="#fnref-12" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval">https://developer.mozilla.org/de/docs/Web/API/WindowTimers/setInterval</a></p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-13" >
          
        
      <a href="#fnref-13" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569">https://de.wikipedia.org/w/index.php?title=Choroplethenkarte&#x26;oldid=175744569</a> (<a href="https://bit.ly/2EWbx0d">https://bit.ly/2EWbx0d</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-14" >
          
        
      <a href="#fnref-14" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018">https://de.wikipedia.org/w/index.php?title=Open_Data&#x26;oldid=182539018</a> (<a href="https://bit.ly/2ViIEQT">https://bit.ly/2ViIEQT</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-15" >
          
        
      <a href="#fnref-15" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228">https://de.wikipedia.org/w/index.php?title=Open_Government&#x26;oldid=180459228</a> (<a href="https://bit.ly/2EWqgsa">https://bit.ly/2EWqgsa</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-16" >
          
        
      <a href="#fnref-16" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330">https://de.wikipedia.org/w/index.php?title=Open_Source&#x26;oldid=183919330</a> (<a href="https://bit.ly/2BQ7r5E">https://bit.ly/2BQ7r5E</a>)</p>
      </li>
      
    

    <li class="footnote-list-item" id="fn-17" >
          
        
      <a href="#fnref-17" class="footnote-backref" style="display:inline;text-decoration: none;">
        ^
      </a>
    <p class="footnote-paragraph" style="display:inline; margin-left: 5px;"><a href="http://opendatalab.de/projects/geojson-utilities/">http://opendatalab.de/projects/geojson-utilities/</a></p>
      </li>
      
    </ol></div>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .solarized-light { background-color: #FDF6E3; }
  .solarized-light .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));
  }
</style></div></article><a href="https://github.com/astridx/meinblog/blob/master/content/posts/leaflet/4heatmaps-und-choroplethenkarten-leaflet.md" rel="noreferrer" target="_blank">Ändere diesen Beitrag</a></section><div id="utterances"><h2>Comments</h2><div class="comments"></div></div><aside><div class="aside-content"><section><h3>Fehler gefunden?</h3><div>Bitte lasse mich wissen, wenn etwas falsch oder unklar ist. Öffne gerne ein<!-- --> <a href="https://github.com/astridx/meinblog/issues/">Github-Issue</a>.</div><h3>Du oder Sie?</h3><div>Ob Du oder Sie - das ist im Deutschen oft gar nicht so leicht zu entscheiden. Manche Leser sieze ich, andere duze ich. Deshalb gibt es im Weblog ein buntes Durcheinander und jeder sucht sich das aus, was für Ihn passt.</div></section></div></aside></main><footer class="footer container"><section class="flex"><nav class="footer-links"><a href="/blog">Blog</a><a href="https://astrid-guenther.de/impressum">Impressum</a><a href="https://astrid-guenther.de/datenschutzerklaerung">Datenschutz</a></nav><nav class="flex"><a href="https://www.gatsbyjs.org/" title="Built with Gatsby" target="_blank" rel="noopener noreferrer" class="img"><img src="/static/gatsby-b7637c262ad964cf2f70abbbfc9e1f93.png" class="footer-img" alt="Gatsby"/></a><a href="https://github.com/astridx" title="Open-source on GitHub" target="_blank" rel="noopener noreferrer" class="img"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC" class="footer-img" alt="GitHub"/></a></nav></section></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/heatmaps-und-choroplethenkarten-leaflet/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-34ee454f7a57a81b4b12.js"],"app":["/app-674f29094b36642c536c.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---src-pages-404-en-js":["/component---src-pages-404-en-js-9442cc92188c620cd57c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6dc62dc1f7575cc1f5b0.js"],"component---src-pages-blog-en-js":["/component---src-pages-blog-en-js-3b014364b7dcb7c28070.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7510b7a06db454d8143a.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-21569d79e8b800bf18ec.js"],"component---src-pages-index-js":["/component---src-pages-index-js-52853c28e37dec706192.js"],"component---src-pages-tutorial-en-js":["/component---src-pages-tutorial-en-js-b8b5125976f1c9359108.js"],"component---src-pages-tutorial-js":["/component---src-pages-tutorial-js-0dd9fcac9baba63cb54e.js"],"component---src-templates-post-js":["/component---src-templates-post-js-57771115f828deac4ba5.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-696f41ec7d1b7870cc7c.js"]};/*]]>*/</script><script src="/polyfill-34ee454f7a57a81b4b12.js" nomodule=""></script><script src="/component---src-templates-post-js-57771115f828deac4ba5.js" async=""></script><script src="/cd89b575fbc7744d97a7acf3b55b56387c8b3feb-ecedd2c80549e60c9d95.js" async=""></script><script src="/05f1d64e2e1399e8ce81fd5e37a2b8dc2f9ac157-acbd361307b07b635e54.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-674f29094b36642c536c.js" async=""></script><script src="/framework-c8d3a5345e3f321d7da5.js" async=""></script><script src="/webpack-runtime-a2985182efa944830776.js" async=""></script></body></html>