---
date: 2020-11-30
title: 'Joomla 4.x Tutorial - Extension Development - Preface'
template: post
thumbnail: '../../thumbnails/joomla.png'
slug: en/joomla-tutorial-vorwort
langKey: en
categories:
  - Code
  - JoomlaEn
tags:
  - CMS
  - Joomla
---

If you are new to Joomla, please read [_Absolute basics of how a component works_](https://docs.joomla.org/Special:MyLanguage/Absolute_Basics_of_How_a_Component_Functions)[^docs.joomla.org/special:mylanguage/absolute_basics_of_how_a_component_functions].

This tutorial is intended for Joomla 4. For information on creating a component for Joomla 3, see [Developing a Model View Controller Component / 3.x](https://docs.joomla.org/J3.x:Developing_an_MVC_Component)[^docs.joomla.org/j3.x:developing_an_mvc_component].

You need Joomla 4.x for this tutorial. You can find Joomla 4 on [GitHub](https://github.com/joomla/joomla-cms/tree/4.0-dev)[^github.com/joomla/joomla-cms] on the [Developer Website](https://developer.joomla.org/nightly-builds.html)[^developer.joomla.org/nightly-builds.html] or create a free website at [launch.joomla.org](https://launch.joomla.org).

## Aim of this tutorial?

This tutorial does not create a practical example. I have intentionally kept everything general. My main goal is to show you how Joomla works - and to help you understand it better yourself. In the end, you replace the name 'foo' in all files with the name of your component and extend it with your special requirements. If you like, you can use the script [github.com/astridx/boilerplate/blob/t43/duplicate.sh](https://github.com/astridx/boilerplate/blob/t43/duplicate.sh) for this.

> Therefore, this tutorial is primarily intended for programmers who want to create a new component and do not know Joomla yet. The tutorial is also a help for programmers of a Joomla 3 component, if they extend their component for Joomla 4. For example, if you are working on validating your Joomla 3 component, you will find what you need in the chapters on server-side and client-side validation - no more and no less.

## The structure of this tutorial

Each chapter builds on the previous builds. However, if you are interested in a specific topic, feel free to look at a separate chapter. Be aware, however, that elements integrated in a previous chapter may be necessary.

Why this structure? There are many examples of components in the standard Joomla. For example

- com_content
- com_banner
- com_tags oder
- com_contact

In each component you see implementation details in context. Each is complex and finding and separating certain elements, such as page numbering or custom fields, is a hassle. This tutorial focuses on one detail per chapter.

> You create a component for Joomla 4, reusing the many existing implementations in Joomla. You are not reinventing the wheel. Joomla offers a whole range of standard functions.

If you want to get started immediately, scroll to _The first view in the backend_. Below you will find some things about Joomla 4 that you do not necessarily need for editing. However, some of them are _good to know_.

## Basics

### Joomla 4 offers five types of extensions

- [Components](https://docs.joomla.org/Component):
  A component fills the main content of the site. It usually uses data that is stored in the database.
- [Modules](https://docs.joomla.org/Module):
  A module is an add-on to the site that extends the functionality. It has a secondary part on the web page and is displayed at different positions. It is selectable on which active menu elements it is displayed. Modules are light and flexible extensions. They are used for small parts of the page that are less complex and are displayed across different components.
- [Plugins](https://docs.joomla.org/Plugin):
  A plugin processes the output generated by the system. It is not normally called as a separate part of the site. It takes data from other sources and manipulates it before output. A plugin works in the background.
- [Languages](https://docs.joomla.org/Language):
  The most basic extensions are languages. Essentially, language package files consist of key/value pairs that allow the translation of static text strings in the Joomla source code.
- [Templates](https://docs.joomla.org/Templates):
  A template defines the design of your Joomla website.

### Joomla 4 consists of five different applications

- Installation (used to install Joomla and must be deleted after installation);
- Administrator (backend - to manage content);
- Website (frontend - used to display content);
- CLI (used to access Joomla from the command line and for cron jobs);
- API (Web Services - used to create APIs for machine-accessible content);

## Basic knowledge

### Never change the core files

The purpose of Joomla extensions is to have a system that can be extended. It is possible that your code and Joomla Core code can be provided with new functions independently of each other.

If make changes to Joomla itself, these will be overwritten with the next update.

You have the feeling that your function can only be implemented with a core hack? Your feeling is wrong! There is always a solution that leaves the system files untouched.

### Learn from the core files

That you should not change the system files does not mean that you do not even look at them. Quite the opposite! By reading you will come across lots of code that is not documented anywhere. If you are not sure how to best implement a function, just rummage around in the Joomla code. The solution is usually be found in the heart of Joomla.

### The autoload_psr4.php file

During the installation, entries are made in `/library/autoload_psr4.php`. This is new in Joomla 4. If you encounter strange problems, delete this file. It will be recreated the next time you load. Sometimes this solves a problem.

### Namespace

Note the namespace entry at the top of most PHP files.

`Namespace FooNamespace\Component\Foos\Administrator\View\Foos;`

and as a tag in the manifest file

`<Namespace>FooNamespace\Component\Foos</ Namespace>`.

Why use namespaces? All PHP classes are thus organised in a defined structure and automatically loaded via the `Classloader`. Thereby `ContentModelArticles` becomes `Joomla\Component\Content\ Administrator\Model\ArticlesModel`.

`JLoader` can process the namespaces automatically and distinguishes between front-end and back-end classes.

> Files with namespaces can be found in the directory [`/src`](https://github.com/joomla/joomla-cms/pull/27687)[^github.com/joomla/joomla-cms/pull/27687]

### Capitalisation of folder and file names

You will notice that some of the Joomla 4 folder and file names start with upper case letters and others with lower case letters. At first glance, this seems unstructured. At second glance it makes sense.

The folders in upper case contain PHP classes with namespace. Those in lower case contain XML files, template files. There are a few lower case folders that contain PHP files. These are necessary to ensure compatibility with Joomla 3. Often these are helper files.

For more information, see: [https://github.com/joomla/joomla-cms/issues/22990](https://github.com/joomla/joomla-cms/issues/22990)

### Meaningful class names

The component MVC classes have more meaningful names in Joomla 4. For example, the controllers now have controller as a suffix for their class name. Thus, `FooNamespace\Component\Foos\ Administrator\Controller\Foos` becomes `FooNamespace\Component\Foos\ Administrator\Controller\FoosController`.

Additionally, the default controller, which in Joomla 3 is just called Controller, gets the name `DisplayController` to better reflect what the class does. See: https://github.com/joomla/joomla-cms/pull/17624

### index.html?

Do you need an empty file `index.html` in each folder of your component? The `index.html` is no longer needed, as that is directory listings [not allowed in the default configuration](https://github.com/joomla/joomla-cms/pull/4171)[^github.com/joomla/joomla-cms/pull/4171]. If you are further interested read the discussion on the topic in the [Google Group](https://groups.google.com/forum/#!topic/joomla-dev-cms/en1G7QoUW2s)[^groups.google.com/forum/#!topic/joomla-dev-cms/en1g7qouw2s].

### Technical requirements

Do you know how those responsible at Joomla decide which functions are supported and what is not pursued further? That's what the [statistics plugin](https://developer.joomla.org/about/stats.html)[^developer.joomla.org/about/stats.html] is for. Thanks to the users who activate this extension, important information flows into the development.

### Alternative syntax for control structures

PHP offers an [additional notation](https://www.php.net/manual/en/control-structures.alternative-syntax.php) for control structures. This is especially handy when outputting larger blocks of HTML directly - without using `echo`. Use them in template files. This way they remain clear.

Use

```php
<?php foreach ($this->items as $i => $item) : ?>
<?php echo $item->name; ?>
</br>
<?php endforeach; ?>
```

instead of y

```php
foreach ($this->items as $i => $item) {
	echo $item->name;
	echo '</br>';
}
```

In this way, a single line is self-contained and the HTML code is still clearly structured.

### Database table prefix

As an extension developer, you ideally develop your extension so that the database prefix is variable. For this purpose, one uses the string `#__`. The string `#__` is replaced with the correct prefix at runtime by Joomla.

### JavaScript, CSS and image files?

Where do you best store JavaScript, CSS and image files? Store these data in the directory `media` in the Joomla root directory. This way it is possible to overwrite them. This is particularly advantageous for CSS files to make the design of the whole Joomla Website consistent. The [Best Practice Guidelines](https://docs.joomla.org/Development_Best_Practices)[^docs.joomla.org/development_best_practices] also recommend this.

### Fontawesome Icons

You want to use icons but don't want to add your own library. Use the free icons from [fontawesome.com/icons](https://fontawesome.com/icons) in the frontend and backend. At least if you use the standard templates _Cassiopeia_ and _Atum_, this will work. If your template does not support FontAwesome, you can load the icons yourself via the WebassetManager. In Joomla Fontawesome is delivered with the template. Marking them as [dependency](https://github.com/joomla/joomla-cms/blob/75ef0b10ee31a768d279f04e5278bafee3b23a78/templates/cassiopeia/joomla.asset.json#L14)[^templates/cassiopeia/joomla.asset.json] is sufficient.

> Attention: In _Joomla Core files_, you cannot simply copy them, because Joomla add the text `icon-` in front of the icon name. This is then converted via the file [build/media_source/system/scss/\_icomoon.scss](https://github.com/joomla/joomla-cms/blob/4.0-dev/build/media_source/system/scss/_icomoon.scss)[^build/media_source/system/scss/_icomoon.scss] for Fontawesome. In this way, only the icons included in the previously mentioned file will work. Why does Joomla complicate the selection of Font Awesome icons? The reason for this is as follows: Extensions that were programmed for Joomla 3 can still be used.

The HTML code

```css
<i class="fas fa-align-left"></i>
```

displays the left-aligned character, for example.
